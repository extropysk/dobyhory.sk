{"version":3,"sources":["compose.js","style.js","components/dobyComponents/BottomNavigationBar.js","contexts/UserContext.js","consumers/withUser.js","components/shared/localization/index.js","components/shared/Container.js","contexts/StoreContext.js","consumers/withStore.js","components/shared/icons/GithubIcon.js","components/shared/login/GithubButton.js","components/shared/icons/GoogleIcon.js","components/shared/login/GoogleButton.js","components/shared/icons/StravaIcon.js","components/shared/login/StravaButton.js","components/shared/icons/FbIcon.js","components/shared/login/FbButton.js","config.js","components/login/Login.js","components/dobyComponents/form/TextField.js","components/register/Register.js","components/shared/form/Form.js","components/shared/Dialog.js","components/shared/Switch.js","components/shared/avatar/Avatar.js","components/shared/utils/withUtils.js","components/shared/style.js","components/account/Form.js","permissions.js","components/account/Account.js","components/oauth/OAuth.js","components/shared/TextInput.js","components/shared/Select.js","components/shared/NumInput.js","components/enums/Form.js","components/shared/table/TableHead.js","components/shared/table/TableToolbar.js","components/shared/AlertDialog.js","components/shared/DatePicker.js","components/shared/FilterDialog.js","components/shared/ActionsMenu.js","components/shared/Progress.js","components/shared/table/Table.js","components/shared/FormDialog.js","components/enums/Table.js","components/enums/Enums.js","components/templates/Form.js","components/templates/Table.js","components/templates/Templates.js","components/shared/TimeInput.js","components/shared/IconButton.js","components/shared/FileInput.js","contexts/DobyContext.js","consumers/withDoby.js","components/summits/Form.js","components/summits/Table.js","components/summits/Summits.js","components/dobyComponents/form/SelectField.js","components/dobyComponents/icons/ArrowRight.js","components/dobyComponents/form/Button.js","components/dobyComponents/form/Switch.js","components/summits/Push.js","components/series/Form.js","components/series/Table.js","components/series/Series.js","components/shared/Markdown.js","components/shared/Editor.js","components/products/TechParamForm.js","components/products/Form.js","components/products/Table.js","components/products/Products.js","components/posts/Form.js","components/posts/Table.js","components/posts/Posts.js","components/users/Table.js","components/users/Users.js","components/partners/Form.js","components/partners/Table.js","components/partners/Partners.js","components/dobyComponents/ChallengeCard.js","components/eshop/ItemCard.js","components/eshop/Eshop.js","components/dobyComponents/form/CheckboxField.js","utils/helpers.js","components/eshop/checkout/DeliveryPayment.js","components/eshop/checkout/CheckouCartItem.js","components/eshop/checkout/CheckoutSummary.js","components/eshop/checkout/Checkout.js","components/eshop/CartItem.js","components/eshop/Cart.js","components/eshop/RollerModal.js","components/eshop/ProductDetail.js","components/transports/Form.js","components/transports/Table.js","components/transports/Transports.js","utils/mailUtils.js","components/eshop/checkout/VerificationPayment.js","components/admin/challenges/Form.js","components/admin/challenges/Table.js","components/admin/challenges/Challenges.js","components/dobyComponents/ActivityPost.js","components/home/Home.js","components/dobyComponents/ActiveChallengeCard.js","components/shared/Autocomplete.js","components/account/profile/Profile.js","components/dobyComponents/form/TelField.js","components/dobyComponents/socialConnections/FacebookConnection.js","components/dobyComponents/socialConnections/StravaConnection.js","components/account/profile/ProfileSettings.js","components/landing/ChallengeCard.js","components/landing/PartnerCard.js","components/landing/BlogPost.js","components/landing/Landing.js","components/dobyComponents/icons/Stopwatch.js","components/dobyComponents/icons/Mountains.js","components/dobyComponents/icons/Start.js","components/dobyComponents/ChallengeCardV1.js","components/dobyComponents/icons/DropdownFaqClosed.js","components/dobyComponents/icons/DropdownFaqOpened.js","components/dobyComponents/Faq.js","components/dobyComponents/form/TabSwitch.js","components/dobyComponents/icons/Facebook.js","components/dobyComponents/icons/Instagram.js","components/landing/LandingCountdown.js","components/challenges/Challenges.js","components/challenges/ChallengeDetail.js","components/dobyComponents/Modal.js","components/dobyComponents/eshop/ProductSmallCard.js","components/challenges/ChallengeCheckout.js","components/dobyComponents/FollowCard.js","components/friends/Follow.js","routes.js","App.js","serviceWorker.js","providers/StoreProvider.js","utils/authUtils.js","providers/UserProvider.js","utils/storeUtils.js","utils/dobyUtils.js","providers/DobyProvider.js","index.js"],"names":["compose","funcs","length","arg","reduce","a","b","spacings","generateSpacings","theme","ret","keys","breakpoints","unshift","forEach","key","x","index","capitalize","up","marginTop","marginRight","marginBottom","marginLeft","margin","paddingTop","paddingRight","paddingBottom","paddingLeft","padding","displayProps","name","value","justifyContentProps","flexDirectionProps","alignItemsProps","textAlignProps","generateUtils","display","justifyContent","flexDirection","alignItems","textAlign","s","charAt","toUpperCase","slice","getSharedStyles","container","maxWidth","row","flexWrap","flexGrow","roundedSm","borderRadius","roundedMd","roundedLg","bgWhite","background","bg300","bgPrimary","palette","primary","main","bgSecondary","secondary","textWhite","color","textPrimary","textSecondary","textSecondaryLight","textError","uppercase","textTransform","textMono","fontFamily","textSans","textBase","fontSize","lineHeight","textM","textS","textXs","textXl","letterSpacing","fontWeight","textH1","textH2","textH3","textH4","textBlock","text200","text300","text400","textEl250","fontRegular","fontMedium","fontSemibold","fontBold","hrLine","border","borderBottom","positionRelative","position","positionAbsolute","w100","width","w50","h100","height","h50","dBlock","dBlockInline","alignItemsCenter","alignItemsStart","alignItemsEnd","carouselFullwidth","carouselSpacing","cardShadow","boxShadow","shadowTiny","boxShhadow","shadowSmall","shadowMedium","shadowLarge","shadowXl","shadowXxl","imageFit","left","top","zIndex","objectFit","imageFitHolder","overflow","withStyles","bottomBar","bottom","borderTopLeftRadius","borderTopRightRadius","borderTop","backdropFilter","transition","expandedBar","itemsHolder","addPostHolder","addPostBtn","outline","navItem","withRouter","props","classes","fullwidth","useState","expanded","setExpanded","className","classNames","flexCol","dFlex","pl5","justifyContentCenter","textXs2","textCenter","style","pr5","onClick","history","push","mt3","px3","UserContext","React","createContext","withUser","WrappedComponent","Consumer","user","Context","LocalizationProvider","translate","locale","k","split","locales","en","sk","state","children","this","Provider","Component","withLocalization","ResponsiveDrawer","handleMenu","event","setState","anchorEl","currentTarget","handleClose","handleClickAccount","handleDrawerToggle","mobileOpen","redirect","route","isWidthDown","path","routes","location","pathname","find","drawer","toolbar","map","exact","hidden","permission","hasPermission","button","anonymous","root","appBar","ml5","mr5","appBarCol","appBarMenuIcon","src","logo","appBarLogoImg","alt","justifyContentEnd","dark","lgUp","implementation","variant","anchor","direction","open","onClose","paper","drawerPaper","content","withWidth","grow","fill","menuButton","mixins","withTheme","StoreContext","withStore","store","GithubIcon","d","GithubButton","config","fullWidth","tooltip","url","id","process","window","replace","disabled","title","GoogleIcon","StravaIcon","FbIcon","auth","mail","doby","_github","google","strava","fb","home","type","light","currency","stripe","redirect_url","address","sendCouponTemplate","userEmailNotificationTemplate","passwordPattern","discountCodeLength","imageSize","thumbnailSize","badgeSize","start","configId","Copyright","align","href","Date","getFullYear","Login","handleSubmit","e","preventDefault","username","password","token","trim","toLowerCase","showMsg","showError","handleChange","target","handleClickReset","reset","handleRegister","oAuth","from","to","component","classnames","item","xs","sm","md","image","elevation","square","avatar","github","GoogleButton","FbButton","StravaButton","form","onSubmit","required","htmlFor","autoComplete","autoFocus","onChange","submit","backgroundImage","backgroundRepeat","backgroundColor","grey","backgroundSize","backgroundPosition","spacing","unit","center","textInput","inputLabel","inputRoot","label","field","error","errorText","input","rows","multiline","onBlur","INIT_STATE","repeatedPassword","email","isLoading","Register","validPasswords","validEmail","registerUser","_","set","isValid","checkUser","ids","regex","RegExp","isValidPassword","test","errorTextPassword","isValidRepeatedPassword","errorTextRepeatedPassword","console","log","goToLogIn","mt5","justifyContentBetween","TextField","Form","inline","formInline","submitButton","formControl","aria-labelledby","isOpen","onCancel","onConfirm","control","checked","ImageAvatars","defaultValue","placement","aria-label","withUtils","canvasRef","useRef","postFile","file","formData","FormData","append","fetch","method","headers","Authorization","body","response","status","json","text","Error","statusText","utils","resize","filename","Promise","resolve","Image","canvas","current","onload","ctx","getContext","clearRect","drawImage","toBlob","blob","toDataURL","ref","getStyles","col","flex","styles","heading","detailHeading","actions","float","tel","city","postCode","country","otp","notifications","notifyAboutMe","notifyAboutFollowers","notifyNews","buildState","isOpenSecretDialog","avatarChanged","FormWrapper","handleChangeCheckBox","validTelephone","_id","validUsername","handleRemoveAvatar","handleChangeAvatar","reader","FileReader","onloadend","result","data","pop","readAsDataURL","files","generateSecret","handleOpenSecretDialog","handleCloseSecretDialog","updateUser","connectTitle","bio","bigAvatar","accept","synced","toLocaleDateString","secret","qrCode","permissions","_code","_provider","_mutex","connected","OAuthComponent","urlParams","URLSearchParams","search","get","updateOauth","loader","minWidth","placeholder","startAdornment","inputProps","textField","multiple","undefined","getText","selected","renderValue","join","toString","Number","min","max","step","enumTypeId","addEnum","refreshEnums","editEnum","enumTypes","nameTextInput","TextInput","NumInput","createSortHandler","property","onRequestSort","onSelectAllClick","sort","numSelected","rowCount","sortable","indeterminate","idField","disablePadding","sortDirection","dir","enterDelay","active","highlight","lighten","spacer","onDelete","onFilter","onExport","isFilterSet","onRefresh","exportDisabled","aria-describedby","description","format","mask","getMaskAndFormat","keyboard","clearable","toDate","disableOpenOnEnter","animateYearScrolling","okLabel","cancelLabel","buildFilters","f","filters","y","op","moment","endOf","startOf","FilterDialog","handleClear","buildFilter","filterable","getData","DatePicker","defaultState","disableBackdropClick","disableEscapeKeyDown","isOpenDelete","handleOpenMenu","handleCloseMenu","handleCloseDelete","handleOpenClone","handleOpenDelete","onEdit","onClone","aria-owns","aria-haspopup","edge","Boolean","progress","opacity","_headers","EnhancedTable","handleRequestSort","page","rowsPerPage","handleSelectAllClick","filter","n","isDisabled","handleClick","selectedIndex","indexOf","newSelected","concat","handleChangePage","handleChangeRowsPerPage","isSelected","limit","skip","componentDidMount","handleOpenFilter","isOpenFilter","handleCloseFilter","handleConfirmFilter","onDeleteMultiple","all","strToDate","str","strToDateTime","toLocaleString","hour12","year","month","day","hour","minute","getValue","cell","onDeleteSingle","exportable","exported","exportRef","link","click","handleRefresh","defaultFilters","defaultSort","createRef","emptyRows","Math","total","tableWrapper","table","size","hover","role","aria-checked","tabIndex","colSpan","labelRowsPerPage","labelDisplayedRows","count","rowsPerPageOptions","backIconButtonProps","nextIconButtonProps","onChangePage","onChangeRowsPerPage","overflowX","ROWS","FILTERS","TableWrapper","handleChangeClient","clientId","handleOpen","render","getEnums","deleteEnum","p2","addTemplate","refreshTemplates","editTemplate","getTemplates","deleteTemplate","Mask","inputRef","other","placeholderChar","showMask","inputComponent","filePath","URL","createObjectURL","mimeType","urlCreator","webkitURL","DobyContext","withDoby","difficulty","elevationGain","distance","time","_img","_thumbnail","addSummit","refreshSummits","editSummit","FileInput","getSummits","deleteSummit","selectInput","selectRoot","select","icon","viewBox","xmlns","whiteSpace","userSelect","cursor","borderColor","btnFullwidth","btnOutline","btnSecondary","btnLarge","btnSmall","btnDisabled","btnArrow","arrow","ArrowRight","iOSSwitchBase","common","white","transitions","create","duration","shortest","easing","sharp","iOSChecked","transform","iOSBar","iOSIcon","iOSIconChecked","shadows","controlLabelRoot","switchBase","bar","iconChecked","disableRipple","Push","getUser","challenges","uploadPicture","onChangeChallenge","selectedChallengeRef","challenge","summitFilter","summitsRef","summits","onChangeSummit","selectedSummitRef","summitDesc","summitIsPrivate","mb3","mt4","showAllProductDetails","addSerie","refreshSeries","editSerie","getSeries","deleteSerie","options","overrides","h1","Typography","gutterBottom","h2","h3","h4","paragraph","p","Link","li","listItem","Markdown","save","Blob","selectedTab","setSelectedTab","readOnly","onTabChange","generateMarkdownPreview","paste","saveImage","enumTypeData","enumType","enumValueData","enumValue","TechParamForm","enums","callBack","handleDelete","inOrder","catalog_id","ean","short_description","long_description","price_without_tax","category","productsRef","tech_param","addProduct","refreshProducts","editProduct","tech_param_forms","handleChangeTechParamForm","enumValueID","handleAddTechParam","addTechParamForm","removeTechParam","enumTypeID","enumTypesFiltered","parseInt","element","setTechParamForms","Object","entries","getSubordinateProducts","isEmpty","subordinateProducts","disabledAddTechParamForm","getProducts","handleClone","deleteProduct","typeRef","handleChangeTypeRef","addPost","refreshPosts","editPost","getPosts","deletePost","getUsers","_logo","addPartner","refreshPartners","editPartner","logoSize","getPartners","deletePartner","card","p5","textMd","mr1","onClickMoreInfo","ml1","onClickParticipate","itemCard","media","price","source","membersOnlySpacer","membersOnly","img","setImg","onViz","isVisible","Id","partialVisibility","p0","curr","flickityOptions","cellAlign","contain","prevNextButtons","pageDots","Eshop","fetchData","getChallenges","joinChallenge","showProductDetail","product","renderChallenges","endDate","end","getDay","getMonth","mt2","mb2","mr3","renderProducts","products","lg","price_with_tax","thumbnailId","getFile","itemFilterId","challengeCarousel","reloadOnUpdate","itemFilterSelect","challengeList","overflowY","challengeListWrapper","checkbox","checkboxLight","checkboxIcon","controlNoLabel","formControlLabelRoot","noLabel","checkedIcon","labelClasses","formatPrice","round","EPSILON","toFixed","getCurrencySymbol","DeliveryPayment","getTransports","cartGetProducts","fillFromUser","deliveryOrderFill","nameSurname","psc","validateForm","handleChangeCountry","deliveryOrderChanged","deliveryData","checkout","errorTexts","commonErrorTexts","invoiceData","invoiceErrorTexts","companyOrder","companyOrderErrorTexts","fieldsAreValid","values","v","checkboxesAreChoosen","deliveryType","paymentMethod","invoiceNameSurname","invoiceCountry","invoiceCity","invoicePsc","invoiceStreet","invoiceStreetNumber","ico","dic","icdph","bic","iban","accountOwner","street","streetNumber","transports","justify","mb4","textMonoH3","SelectField","pr2","paymentMethods","changeStep","mb5","productThumbnail","itemCountBtn","itemCount","getImage","ml3","productName","priceWithTax","productCount","textRight","CheckoutSummary","redeeemDiscountCode","checkStarterpack","cart","packProduct","standardPack","standardPackProduct","getTotalPrice","coupon","priceProducts","pricePack","discountType","amount","couponBalance","starterPackDiscount","transport","proceedCheckout","items","useCoupon","surname","country_obj","id_delivery_obj","destination_country_id","id_delivery","createOrder","phone","street_number","postal_code","couponRef","fa_city","fa_company","fa_country","fa_postal_code","fa_street","fa_street_number","payment_method_id","ru","order","payment_id","loadStripe","redirectToCheckout","sessionId","renderDiscounts","renderStarterpackDiscount","px4","py2","discountCode","productId","countInStock","spacingBottom","mt6","mt1","renderCartitems","fixedBottomBar","py4","checkoutStep","checkoutStepActive","currentStep","setCurrentStep","setChallenge","currentChallange","logoId","getChallenge","challengeRef","increaseItemCount","increase","cartIncreaseCount","useEffect","cartRemoveProduct","catalogId","ml4","Cart","getCartProductCount","goToEshop","goToCheckout","renderEmptyCart","mt8","emptyCartImg","renderCartItems","renderCart","bottomSection","backdrop","opened","mt7","_defaultState","detailImage","selectedVariants","selectedProduct","detailsModalOpened","showSnackbar","lastLocation","ProductDetail","fetchDetailImage","imageId","match","params","getProductsByCatalogId","catalogProducts","catalog","handleChangeDropdown","getProductByDropdownSelection","handleProductImageLoaded","naturalWidth","naturalHeight","renderDropdowns","dropdowns","variantKey","productVariants","hasAllRequirements","addToCart","cartAddProduct","renderSimillarProducts","closeDetailsModal","renderProductDetail","imageContainer","productImage","onLoad","productPriceDPH","productStock","anchorOrigin","vertical","horizontal","autoHideDuration","message","action","Fragment","productContent","productTitle","productPrice","countryId","handleChangeCountryRef","addTransport","refreshTransports","editTransport","deleteTransport","send","getToken","storage","refreshToken","onConnect","userId","onDisconnect","initHub","onNotification","connection","signalR","withUrl","accessTokenFactory","configureLogging","build","catch","err","on","VerificationPayment","sendCouponMail","subject","fromName","recipientRef","templateId","mailUtils","query","verifyOrder","succeeded","cartRemoveProducts","code","serieRef","_map","_badge","handleChangeSummitsRef","handleChangeSerieRef","addChallenge","refreshChallenges","editChallenge","series","deleteChallenge","profileImgHolder","profileImg","postImgWrapper","postImg","right","postCard","date","climbCreated","py5","userName","userAddress","FlexCol","summitName","summitElevation","getDate","flexRCol","challengeName","challengeFinishedSummits","challengeAllSummits","likesCount","Home","handleTabChange","tab","currentTab","renderActivityPosts","post","openFilter","filterOpen","applyFilters","pt5","pb2","tabsRootClasses","indicator","tabsInicator","tabSelected","filterIconHolder","filterOverlay","convertDate","challengeCard","dateText","progressLine","sDateFrom","sDateTo","dateFrom","dateTo","differenceInMiliseconds","getTime","differenceInDays","abs","differenceInHours","differenceInMinutes","remaining","handleDates","textMonoH4","summitsFinished","allSummits","renderInput","InputProps","inputInput","_timer","chip","divider","itemToString","onInputValueChange","clearTimeout","setTimeout","onFilterChange","selectedItem","getInputProps","getItemProps","getMenuProps","highlightedIndex","inputValue","suggestion","itemProps","isHighlighted","renderSuggestion","Profile","setMyClimbs","climbs","myClimbs","c","summit","setImageToClimbCallback","setUnfinishedChallenges","dobyUser","unfinishedChallenges","challengesRef","unfinishedChallengesRef","finished","activeC","found","countFinishedSummits","setMedals","medals","finishedChallengesRefIDs","medal","setLogoToMedalCallback","followUser","currUserFollowingFriend","unfollowUser","logoSrc","m","imgSrc","fileId","callback","identificator","handleGetChallengesUserNotParticipate","userChals","toISOString","filteredChals","challengesUserNotParticipate","filteredChal","userChal","handleOnChangeSearchFriends","friend","goToProfileFriend","handleOnFilterChangeSearchFriends","renderMedals","medalItem","medalTitle","pt3","medalImgHolder","medalImg","renderMyChallenges","ActiveChallengeCard","renderMyClimbs","dobyFriend","climb","created","challengeRefFound","goToProfileSettings","foundFriend","watchingYourself","getClimbs","followingRef","users","isFriendProfile","textBase2","climbsCnt","followersRef","Autocomplete","pt6","pb6","medalCarousel","challengesCarousel","minHeight","socialConnectCard","socialIcon","p3","telPreffix","preffixData","preffix","substring","handleInputTelNumber","ProfileSettings","handleChangePreffix","telSuffix","goToProfile","for","pr1","TelField","challengeImgHolder","challengeImg","cardContent","challengeLogoHolder","challengeLogo","difficultyDot","dotFilled","customClasses","startDate","mb1","partnerImg","getImg","blogPostCard","Landing","partners","generalPartners","mainPartners","sumitsCount","retVal","i","renderPartners","desc","renderGeneralPartners","renderMainPartners","renderBlogPosts","posts","handleExpandFaq","panel","expandedFaq","introImage","pl7","pr7","pb7","introContent","introTitle","introBtn","dashedBtn","mb7","howItWorks","howItWorksRow","howItWorksItemNumber","textCol","challengesContent","pb8","mt9","whyGetInvolvedImg","smallImg","blog","backgroundPositionY","clip-path","fill-rule","clip-rule","stroke","stroke-width","cx","cy","r","logoHolder","challengeBtn","challengeMap","setImage","setLogo","setMap","summitsCount","months","diff","ceil","p6","mapHolder","mb8","Mountains","Stopwatch","actionBtn","panelRoot","panelExpanded","summaryRoot","summaryContent","summaryExpanded","detailsRoot","iconSpacing","textIconSpacing","questions","DropdownFaqOpened","DropdownFaqClosed","labelContainer","tabRoot","setValue","newValue","label1","label2","rx","ry","Countdown","days","setDays","hours","setHours","minutes","setMinutes","seconds","setSeconds","timer","setTimer","showRemainingTime","_minute","_second","_hour","_day","now","clearInterval","floor","timerObj","setInterval","mr2","mrMd4","ml2","LandingCountdown","handleEmailChange","handleCheckChange","checkConditions","validateEmail","stepperTabsChange","stepperExpand","handleShare","saveAs","handleSubscribe","subscribe","subscribeShowSuccess","subscribeShowError","scrollToNewsletter","document","querySelector","newsletterAnchor","scrollIntoView","behavior","carousel","mapId","challengeItem","challengeCardAdapt","my2","dLgNone","px5","pt9","pb9","desktopIntro","dNone","dLgBlock","desktopIntroContent","pl10","desktopIntroImageHolder","py10","pyMd11","pyLg12","dMdNone","textLeft","dMdBlock","justifyContentMdStart","mtMd0","howItWorksCircle","mtMd9","challengesTitleBgOverlay","pt8","pbMd12","ptMd10","textLgLeft","challengesBgOverlay","pyMd0","challengeItemsContainer","py11","pyMd13","xl","flexLgRow","justifyContentLgBetween","alignItemsLgCenter","mtLg5","mtLg0","subNotify","notifySuccess","notifyError","py9","socialShare","mb9","mbMd0","shareImgCol","shareImg","socialShareButtonHolder","socialShareButton","socialShareDesktop","socialShareDesktopPhone","mt11","mtMd13","bigPhotoHolder","justifyContentMdCenter","mtMd7","pMd0","bigPhotoContent","py8","Instagram","mt10","pr8","prLg0","newMedalsImg","newsletterFormDesktop","alignItemsLgStart","dLgFlex","footerBg","py6","rel","Facebook","dMdFlex","ml6","participantsImg","only","forYourselfImgHolder","forYourselfImg","Challenges","ChallengeDetail","renderSummits","altitude","summitCarouselItem","summitCarouselItemActive","introSection","challengeIntroContent","summitsDetail","summitsDetailContent","summitsCarouselHolder","summitsCarousel","modalWrapper","ProductSmallCard","openAddToCartModal","addToCartModal","p4","thumbnailHolder","productImg","onClickViewDetails","ChallengeCheckout","fetchStarterpacks","filterStarterpack","packs","starterPackStandard","getChallangeLogo","packageChanged","handleFieldChange","pl2","goToCart","selectedPackage","selectedGift","logolImg","mb6","stepNumber","starterPackLowcost","challengePackageCardSelected","challengePackageCard","borderBottomLeftRadius","borderBottomRightRadius","pl1","btnWhite","lightText","medalCount","userID","buttonLabel","Follow","showFollowers","renderFollowers","showFollowing","sendMail","handleFollowUser","followers","following","handleUnfollowUser","renderFollowing","follower","alreadyFollowHim","setFollowingFollowers","filterFollowing","filterFollowers","medalItemBg","medalItemImg","Verification","Checkout","Enums","Templates","Summits","SummitPush","Series","ChallengesAdmin","Transports","Products","Posts","Users","Partners","OAuth","Account","_basename","_init","App","basename","Container","PrivateRoute","msg","hideMsg","ContentProps","close","rest","hostname","_isInit","buildRedirectUri","provider","register","UserProvider","authUtils","ENUMS_COLLECTION","put","_enumType","delById","TEMPLATES_COLLECTION","templates","TRANSPORTS_COLLECTION","StoreProvider","storeUtils","SUMMITS_URL","res","ajax","CHALLENGES_URL","badgeId","PRODUCTS_URL","getProduct","getById","ORDERS_URL","addOrder","paymentId","COUPON_URL","POSTS_URL","SERIES_URL","PARTNERS_URL","USER_URL","subscriber","CLIMBS_URL","addClimb","editClimb","deleteClimb","DobyProvider","orderData","dobyUtils","buildDropdowns","paramKeys","paramKey","hasOwnProperty","productsArray","savedProducts","localStorage","getItem","JSON","parse","existingProduct","serializedCart","stringify","setItem","productIndex","findIndex","obj","init","createMuiTheme","typography","AppWrapper","documentElement","setProperty","en-US","sk-SK","MomentUtils","rootElement","getElementById","hasChildNodes","hydrate","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.9b1f54d9.chunk.js","sourcesContent":["/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\n\nexport default function compose(...funcs) {\n  if (funcs.length === 0) {\n    return arg => arg\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0]\n  }\n\n  return funcs.reduce((a, b) => (...args) => a(b(...args)))\n}","const getSharedStyles = (theme) => ({\r\n    ...generateSpacings(theme),\r\n    ...generateUtils(theme),\r\n    // ---------- grid\r\n    container: {\r\n        paddingLeft: '1.25rem',\r\n        paddingRight: '1.25rem',\r\n        maxWidth: '1300px',\r\n        margin: '0 auto'\r\n        // [theme.breakpoints.up('md')]: {\r\n        //     paddingLeft: '1.25rem',\r\n        //     paddingRight: '1.25rem',\r\n        // },\r\n    },\r\n    row: {\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        flexWrap: 'wrap',\r\n    },\r\n    flexGrow: {\r\n        flexGrow: 1\r\n    },\r\n    // ---------- rounded\r\n    roundedSm: {\r\n        borderRadius: '0.25rem',\r\n    },\r\n    roundedMd: {\r\n        borderRadius: '0.5rem',\r\n    },\r\n    roundedLg: {\r\n        borderRadius: '0.75rem',\r\n    },   \r\n    // ---------- bg colors\r\n    bgWhite: {\r\n        background: 'white',\r\n    },\r\n    bg300: {\r\n        background: '#F3F3F3',\r\n    },\r\n    bgPrimary: {\r\n        background: theme.palette.primary.main,\r\n    },\r\n    bgSecondary: {\r\n        background: theme.palette.secondary.main,\r\n    },\r\n    // ---------- text colors\r\n    textWhite: {\r\n        color: '#fff'\r\n    },\r\n    textPrimary: {\r\n        color: theme.palette.primary.main,\r\n    },\r\n    textSecondary: {\r\n        color: theme.palette.secondary.main,\r\n    },\r\n    textSecondaryLight: {\r\n        color: '#A4B1C4'\r\n    },\r\n    textError: {\r\n        color: 'red',\r\n        marginLeft: '0'\r\n    },\r\n    // ---------- text utils    \r\n    uppercase: {\r\n        textTransform: 'uppercase'\r\n    }, \r\n    capitalize: {\r\n        textTransform: 'capitalize'\r\n    }, \r\n    textMono: {\r\n        fontFamily: \"'IBM Plex Mono', monospace\",\r\n    }, \r\n    textSans: {\r\n        fontFamily: \"'IBM Plex Sans', monospace\",\r\n    },\r\n    // ---------- text sizes\r\n    textBase: {\r\n        fontSize: '16px',\r\n        lineHeight: '130%',\r\n    },\r\n    textM: {\r\n        fontSize: '14px',\r\n        lineHeight: '130%',\r\n    },\r\n    textS: {\r\n        fontSize: '12px',\r\n        lineHeight: '130%',\r\n    },\r\n    textXs: {\r\n        fontSize: '10px',\r\n        lineHeight: '130%',\r\n    },\r\n\r\n    textXl: {\r\n        lineHeight: '120%',\r\n        letterSpacing: '-1px',\r\n        fontSize: '50px',\r\n        fontWeight: 700,\r\n    },\r\n    textH1: {\r\n        lineHeight: '120%',\r\n        letterSpacing: '-1px',\r\n        fontSize: '40px',\r\n        fontWeight: 700,\r\n    },\r\n    textH2: {        \r\n        lineHeight: '120%',\r\n        letterSpacing: '-0.5px',\r\n        fontSize: '32px',\r\n        fontWeight: 700,\r\n    },\r\n    textH3: {\r\n        lineHeight: '120%',\r\n        letterSpacing: '-0.5px',\r\n        fontSize: '24px',\r\n        fontWeight: 700,\r\n    },\r\n    textH4: {\r\n        lineHeight: '120%',\r\n        letterSpacing: '-0.5px',\r\n        fontSize: '20px',\r\n        fontWeight: 700,\r\n    },   \r\n    textBlock: {\r\n        lineHeight: '150%'\r\n    },\r\n    //text color\r\n    text200: {\r\n        color: 'rgba(51,52,66,0.5)',\r\n    },\r\n    text300: {\r\n        color: 'rgba(51,52,66,0.7)',\r\n    },\r\n    text400: {\r\n        color: '#333442',\r\n    },\r\n    textEl250: {\r\n        color: '#A4B1C4',\r\n    },\r\n    // ---------- font weights\r\n    fontRegular: {\r\n        fontWeight: 400,\r\n    },\r\n    fontMedium: {\r\n        fontWeight: 500,\r\n    }, \r\n    fontSemibold: {\r\n        fontWeight: 600,\r\n    },     \r\n    fontBold: {\r\n        fontWeight: 700,\r\n    },    \r\n    // ---------- utils\r\n    hrLine: {\r\n        border: 0,\r\n        borderBottom: '1px solid rgba(0,0,0,0.08)',\r\n    },\r\n    positionRelative: {\r\n        position: 'relative',\r\n    },\r\n    positionAbsolute: {\r\n        position: 'absolute',\r\n    },\r\n    w100: {\r\n        width: '100%',\r\n    },\r\n    w50:{\r\n        width: '50%',\r\n    },    \r\n    h100: {\r\n        height: '100%',\r\n    },\r\n    h50: {\r\n        height: '50%',\r\n    },\r\n    dBlock: {\r\n        display: 'block',\r\n    },\r\n    dBlockInline: {\r\n        display: 'block-inline',\r\n    },    \r\n    alignItemsCenter: {\r\n        alignItems: 'center'\r\n    },\r\n    alignItemsStart: {\r\n        alignItems: 'flex-start'\r\n    },\r\n    alignItemsEnd: {\r\n        alignItems: 'flex-end'\r\n    },    \r\n    carouselFullwidth: {\r\n        marginRight: '-1.25rem',\r\n        marginLeft: '-1.25rem',\r\n    },\r\n    carouselSpacing: {\r\n        '& .flickity-viewport': {\r\n            //padding: '7px'\r\n        },\r\n        '& .carousel-cell:first-child': {\r\n            paddingLeft: '1.25rem'\r\n        },\r\n        '& .carousel-cell:last-child': {\r\n            paddingRight: '1.25rem',\r\n        }\r\n    },\r\n\r\n    // ---------- card\r\n    cardShadow: {\r\n        boxShadow: \"1px 1px 10px 1px rgba(0,0,0,0.08)\",\r\n    },\r\n    // ---------- shadows\r\n    shadowTiny: {\r\n        boxShhadow: '0px 1px 3px rgba(0, 0, 0, 0.14)',\r\n    },\r\n    shadowSmall: {\r\n        boxShhadow: '2px 4px 10px 2px rgba(0, 0, 0, 0.07)',\r\n    },\r\n    shadowMedium: {\r\n        boxShhadow: '0px 7px 20px 4px rgba(0, 0, 0, 0.08)',\r\n    },\r\n    shadowLarge: {\r\n        boxShhadow: '8px 8px 50px 4px rgba(0, 0, 0, 0.2)',\r\n    },\r\n    shadowXl: {\r\n        boxShhadow: '0px 16px 64px rgba(0, 0, 0, 0.06), 0px 12px 24px rgba(0, 0, 0, 0.04), 0px 6px 8px rgba(0, 0, 0, 0.02), 0px 2px 8px 2px rgba(0, 0, 0, 0.08)',\r\n    },\r\n    shadowXxl: {\r\n        boxShhadow: '0px 16px 64px rgba(0, 0, 0, 0.06), 0px 12px 24px rgba(0, 0, 0, 0.04), 0px 6px 8px rgba(0, 0, 0, 0.02)',\r\n    },\r\n    // ---------- images\r\n    imageFit: {\r\n        position: 'absolute',\r\n        left: 0,\r\n        top: 0,\r\n        zIndex: 0,\r\n        width: '100%',\r\n        height: '100%',        \r\n        objectFit: 'cover',\r\n    },\r\n    imageFitHolder: {\r\n        position: 'relative',\r\n        overflow: 'hidden',\r\n    }   \r\n    // ----------\r\n    \r\n})\r\n\r\nconst spacings = [  \r\n    '0rem',  \r\n    '0.25rem',\r\n    '0.5rem',\r\n    '0.75rem',\r\n    '1rem',\r\n    '1.25rem',\r\n    '1.5rem',\r\n    '2rem',\r\n    '2.5rem',\r\n    '3rem',\r\n    '4rem',\r\n    '5rem',\r\n    '7rem',\r\n    '10rem',\r\n]\r\n\r\nconst generateSpacings = (theme) => {\r\n    let ret = {};\r\n\r\n    let keys = [...theme.breakpoints.keys];\r\n    keys.unshift(\"\")\r\n\r\n    keys.forEach(key => {\r\n        spacings.forEach((x, index) => { \r\n            \r\n            //margin   \r\n            ret[`mt${capitalize(key)}${index}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                   {[theme.breakpoints.up(key)]: {\r\n                        marginTop: x+'!important',\r\n                    }} : {marginTop: x+'!important',}\r\n                )                \r\n            };\r\n            ret[`mr${capitalize(key)}${index}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                   {[theme.breakpoints.up(key)]: {\r\n                        marginRight: x+'!important',\r\n                    }} : {marginRight: x+'!important',}\r\n                )                \r\n            };\r\n            ret[`mb${capitalize(key)}${index}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                   {[theme.breakpoints.up(key)]: {\r\n                        marginBottom: x+'!important',\r\n                    }} : {marginBottom: x+'!important',}\r\n                )               \r\n            };\r\n            ret[`ml${capitalize(key)}${index}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                   {[theme.breakpoints.up(key)]: {\r\n                        marginLeft: x+'!important',\r\n                    }} : {marginLeft: x+'!important',}\r\n                )                \r\n            };\r\n            ret[`m${capitalize(key)}${index}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                   {[theme.breakpoints.up(key)]: {\r\n                        margin: x+'!important',\r\n                    }} : {margin: x+'!important',}\r\n                )                 \r\n            };\r\n            ret[`my${capitalize(key)}${index}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                   {[theme.breakpoints.up(key)]: {\r\n                        marginTop: x+'!important',\r\n                        marginBottom: x+'!important',\r\n                    }} : {marginTop: x+'!important', marginBottom: x+'!important',}\r\n                )                \r\n            };\r\n            ret[`mx${capitalize(key)}${index}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                   {[theme.breakpoints.up(key)]: {\r\n                        marginLeft: x+'!important',\r\n                        marginRight: x+'!important',\r\n                    }} : {marginLeft: x+'!important', marginRight: x+'!important',}\r\n                )                \r\n            };\r\n            //pading\r\n            ret[`pt${capitalize(key)}${index}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                   {[theme.breakpoints.up(key)]: {\r\n                        paddingTop: x+'!important',\r\n                    }} : {paddingTop: x+'!important',}\r\n                )                \r\n            };\r\n            ret[`pr${capitalize(key)}${index}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                   {[theme.breakpoints.up(key)]: {\r\n                        paddingRight: x+'!important',\r\n                    }} : {paddingRight: x+'!important',}\r\n                )               \r\n            };\r\n            ret[`pb${capitalize(key)}${index}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                   {[theme.breakpoints.up(key)]: {\r\n                        paddingBottom: x+'!important',\r\n                    }} : {paddingBottom: x+'!important',}\r\n                )                \r\n            };\r\n            ret[`pl${capitalize(key)}${index}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                   {[theme.breakpoints.up(key)]: {\r\n                        paddingLeft: x+'!important',\r\n                    }} : {paddingLeft: x+'!important',}\r\n                )               \r\n            };\r\n            ret[`p${capitalize(key)}${index}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                   {[theme.breakpoints.up(key)]: {\r\n                        padding: x+'!important',\r\n                    }} : {padding: x+'!important',}\r\n                )               \r\n            };\r\n            ret[`py${capitalize(key)}${index}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                   {[theme.breakpoints.up(key)]: {\r\n                        paddingTop: x+'!important',\r\n                        paddingBottom: x+'!important',\r\n                    }} : {paddingTop: x+'!important', paddingBottom: x+'!important',}\r\n                )               \r\n            };\r\n            ret[`px${capitalize(key)}${index}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                   {[theme.breakpoints.up(key)]: {\r\n                        paddingLeft: x+'!important',\r\n                        paddingRight: x+'!important',\r\n                    }} : {paddingLeft: x+'!important', paddingRight: x+'!important',}\r\n                )               \r\n            };\r\n        }); \r\n        \r\n        \r\n    })\r\n    return ret;\r\n}\r\n\r\nconst displayProps = [\r\n    {\r\n        name: 'Block',\r\n        value: 'block',\r\n    },\r\n    {\r\n        name: 'Flex',\r\n        value: 'flex',\r\n    },\r\n    {\r\n        name: 'InlineBlock',\r\n        value: 'inline-block',\r\n    },\r\n    {\r\n        name: 'None',\r\n        value: 'none',\r\n    },   \r\n]\r\n\r\nconst justifyContentProps = [\r\n    {\r\n        name: 'Center',\r\n        value: 'center',\r\n    },\r\n    {\r\n        name: 'Start',\r\n        value: 'flex-start',\r\n    },\r\n    {\r\n        name: 'End',\r\n        value: 'flex-end',\r\n    },\r\n    {\r\n        name: 'Between',\r\n        value: 'space-between',\r\n    },   \r\n]\r\n\r\nconst flexDirectionProps = [\r\n    {\r\n        name: 'Col',\r\n        value: 'column'\r\n    },\r\n    {\r\n        name: 'Row',\r\n        value: 'row'\r\n    }\r\n]\r\n\r\nconst alignItemsProps = [\r\n    {\r\n        name: 'Start',\r\n        value: 'flex-start'\r\n    },\r\n    {\r\n        name: 'End',\r\n        value: 'flex-end'\r\n    },\r\n    {\r\n        name: 'Center',\r\n        value: 'center'\r\n    }\r\n]\r\n\r\nconst textAlignProps = [\r\n    {\r\n        name: 'Center',\r\n        value: 'center',\r\n    },\r\n    {\r\n        name: 'Left',\r\n        value: 'left',\r\n    },\r\n    {\r\n        name: 'Right',\r\n        value: 'right',\r\n    },      \r\n]\r\n\r\nconst generateUtils = (theme) => {  \r\n    let ret = {};   \r\n\r\n    let keys = [...theme.breakpoints.keys];\r\n    keys.unshift(\"\")\r\n\r\n    keys.forEach(key => {\r\n        displayProps.forEach(x => {       \r\n            ret[`d${capitalize(key)}${x.name}`] = {\r\n                ...(                \r\n                    key !== \"\" ?\r\n                        {[theme.breakpoints.up(key)]: {\r\n                            display: x.value,\r\n                        }} : {display: x.value}\r\n                )\r\n            }\r\n        });  \r\n        \r\n        justifyContentProps.forEach(x => {       \r\n            ret[`justifyContent${capitalize(key)}${x.name}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                    {[theme.breakpoints.up(key)]: {\r\n                            justifyContent: x.value,\r\n                        }} : {justifyContent: x.value}\r\n                )\r\n            }\r\n        });  \r\n\r\n        flexDirectionProps.forEach(x => {       \r\n            ret[`flex${capitalize(key)}${x.name}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                    {[theme.breakpoints.up(key)]: {\r\n                            flexDirection: x.value,\r\n                        }} : {flexDirection: x.value}\r\n                )\r\n            }\r\n        }); \r\n\r\n        alignItemsProps.forEach(x => {       \r\n            ret[`alignItems${capitalize(key)}${x.name}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                    {[theme.breakpoints.up(key)]: {\r\n                            alignItems: x.value,\r\n                        }} : {alignItems: x.value}\r\n                )\r\n            }\r\n        }); \r\n        \r\n        textAlignProps.forEach(x => {       \r\n            ret[`text${capitalize(key)}${x.name}`] = {\r\n                ...(\r\n                    key !== \"\" ?\r\n                    {[theme.breakpoints.up(key)]: {\r\n                            textAlign: x.value,\r\n                        }} : {textAlign: x.value}\r\n                )\r\n            }\r\n        }); \r\n    })\r\n    return ret;\r\n}\r\n\r\nconst capitalize = (s) => {\r\n    if (typeof s !== 'string') return ''\r\n    return s.charAt(0).toUpperCase() + s.slice(1)\r\n  }\r\n\r\n\r\nexport default getSharedStyles","import React, {useState} from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { withRouter } from 'react-router';\r\nimport compose from '../../compose';\r\n\r\nimport classNames from 'classnames';\r\nimport getSharedStyles from '../../style';\r\n\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport GroupIcon from '@material-ui/icons/GroupOutlined';\r\nimport AccountIcon from '@material-ui/icons/AccountCircleOutlined';\r\nimport HillIcon from '@material-ui/icons/TerrainOutlined';\r\nimport DotsIcon from '@material-ui/icons/MoreHoriz';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    bottomBar: {\r\n        position: 'fixed',\r\n        height: '120px',\r\n        width: '100%',\r\n        bottom: '-60px',\r\n        left: '0',\r\n        background: 'rgba(255,255,255,0.95)',\r\n        borderTopLeftRadius: '10px',\r\n        borderTopRightRadius: '10px',\r\n        borderTop: '1px solid rgba(0, 0, 0, 0.1)',\r\n        backdropFilter: 'blur(9px)',\r\n        transition: 'all 0.3s ease',\r\n        zIndex: 800,\r\n    },\r\n    expandedBar: {\r\n        bottom: '0',\r\n    },\r\n    itemsHolder: {\r\n        width: 'calc((100% - 70px) / 2)',\r\n        paddingTop: '0.5rem'\r\n        //background: 'red',\r\n    },\r\n    addPostHolder: {\r\n        width: '70px',\r\n    },\r\n    addPostBtn: {\r\n        width: '56px',\r\n        height: '56px',\r\n        borderRadius: '50px',\r\n        background: '#3044C0',\r\n        boxShadow: '0px 2px 15px rgba(48, 68, 192, 0.75)',\r\n        outline: 'none!important',\r\n        border: '0!important',\r\n        color: 'white',\r\n        marginTop: '-10px',\r\n        padding: '0',        \r\n    },\r\n    navItem: {\r\n        width: '50%',\r\n        textAlign: 'center'\r\n    }\r\n});\r\n\r\nfunction BottomNavigationBar(props) {   \r\n    const { classes, fullwidth, outline} = props;  \r\n    const [expanded, setExpanded] = useState(false);\r\n\r\n    const expandBar = () => {\r\n        setExpanded(!expanded)\r\n    }\r\n\r\n    const goToLink = (name) => {\r\n        props.history.push(name)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className={classNames(classes.bottomBar, expanded && classes.expandedBar)}>\r\n                <div className={classNames(classes.flexCol)}>\r\n                    <div className={classNames(classes.dFlex)}>\r\n                        <div className={classNames(classes.itemsHolder, classes.pl5)}>\r\n                            <div className={classNames(classes.dFlex, classes.justifyContentCenter)}>\r\n                                <div className={classNames(classes.flexCol, classes.navItem, classes.alignItemsCenter)}>\r\n                                    <GroupIcon/>\r\n                                    <div className={classNames(classes.textXs2)}>\r\n                                        Komunita\r\n                                    </div>\r\n                                </div>\r\n                                <div className={classNames(classes.flexCol, classes.navItem, classes.alignItemsCenter)}>\r\n                                    <AccountIcon/>\r\n                                    <div className={classNames(classes.textXs2)}>\r\n                                        Profil\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className={classNames(classes.addPostHolder, classes.textCenter)}>\r\n                            <button className={classNames(classes.addPostBtn)}>\r\n                                <AddIcon style={{fontSize: '30px'}}/>\r\n                            </button>\r\n                        </div>\r\n                        <div className={classNames(classes.itemsHolder, classes.pr5)}>\r\n                            <div className={classNames(classes.dFlex, classes.justifyContentCenter)}>\r\n                                <div className={classNames(classes.flexCol, classes.navItem, classes.alignItemsCenter)} onClick={()=>goToLink('challenges')}>\r\n                                    <HillIcon/>\r\n                                    <div className={classNames(classes.textXs2)}>\r\n                                        Vyzvy\r\n                                    </div>\r\n                                </div>\r\n                                <div className={classNames(classes.flexCol, classes.navItem, classes.alignItemsCenter)} onClick={expandBar}>\r\n                                    <DotsIcon/>\r\n                                    <div className={classNames(classes.textXs2)}>\r\n                                        {expanded ? \"Menej\" : \"Viac\"}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className={classNames(classes.dFlex, classes.mt3, classes.justifyContentCenter)}>\r\n                        <div className={classNames(classes.flexCol, classes.alignItemsCenter, classes.px3)}>\r\n                            <GroupIcon/>\r\n                            <div className={classNames(classes.textXs2)}>\r\n                                Sprievodca\r\n                            </div>\r\n                        </div>\r\n                        <div className={classNames(classes.flexCol, classes.alignItemsCenter, classes.px3)}>\r\n                            <GroupIcon/>\r\n                            <div className={classNames(classes.textXs2)}>\r\n                                Blog\r\n                            </div>\r\n                        </div>\r\n                        <div className={classNames(classes.flexCol, classes.alignItemsCenter, classes.px3)}>\r\n                            <GroupIcon/>\r\n                            <div className={classNames(classes.textXs2)}>\r\n                                Kontakt\r\n                            </div>\r\n                        </div>\r\n                        <div className={classNames(classes.flexCol, classes.alignItemsCenter, classes.px3)}>\r\n                            <GroupIcon/>\r\n                            <div className={classNames(classes.textXs2)}>\r\n                                Batoh\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withRouter,\r\n)(BottomNavigationBar);","import React from \"react\";\n\nconst UserContext = React.createContext();\nexport default UserContext;","import React from \"react\";\nimport UserContext from \"../contexts/UserContext\";\n\nconst withUser = (WrappedComponent) => {\n  return (props) => {\n    return (\n      <UserContext.Consumer>\n        {user =>\n          <WrappedComponent\n            {...props}\n            user={user}\n          />\n        }\n      </UserContext.Consumer>\n    );\n  }\n};\n\nexport default withUser;","import React from \"react\";\r\nimport en from './en-US.json';\r\nimport sk from './sk-SK.json';\r\n\r\nconst Context = React.createContext();\r\n\r\nexport class LocalizationProvider extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.locales = { \r\n      'en-US': { ...en, ...props['en-US'] },\r\n      'sk-SK': { ...sk, ...props['sk-SK'] } \r\n    };\r\n\r\n    this.state = {\r\n      locale: props.locale || 'en-US'\r\n    };\r\n  }\r\n\r\n  translate = locale => (key) => {\r\n    const k = key.split('.');\r\n\r\n    let value = this.locales[locale][k[0]];\r\n    if(k.length > 1) {\r\n      value = value[k[1]];\r\n    }\r\n    return value;\r\n  }\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n\r\n    return (\r\n      <Context.Provider\r\n        value={{\r\n          locale: this.state.locale,\r\n          translate: this.translate(this.state.locale)\r\n        }}\r\n      >\r\n        {children}\r\n      </Context.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport const withLocalization = (WrappedComponent) => {\r\n  return (props) => {\r\n    return (\r\n      <Context.Consumer>\r\n        {x =>\r\n          <WrappedComponent\r\n            {...props}\r\n            {...x}\r\n          />\r\n        }\r\n      </Context.Consumer>\r\n    );\r\n  }\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport Hidden from '@material-ui/core/Hidden';\r\n// import IconButton from '@material-ui/core/IconButton';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\n// import Toolbar from '@material-ui/core/Toolbar';\r\n// import Typography from '@material-ui/core/Typography';\r\n// import AccountCircle from '@material-ui/icons/AccountCircle';\r\n// import MenuItem from '@material-ui/core/MenuItem';\r\n// import Menu from '@material-ui/core/Menu';\r\n\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport withWidth, { isWidthDown } from '@material-ui/core/withWidth';\r\nimport { withRouter } from \"react-router\";\r\nimport compose from '../../compose';\r\nimport { withLocalization } from './localization';\r\nimport classNames from 'classnames';\r\nimport getSharedStyles from '../../style';\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    root: {\r\n        display: 'flex',\r\n    },\r\n    grow: {\r\n        flexGrow: 1,\r\n    },\r\n    drawer: {\r\n        // [theme.breakpoints.up('lg')]: {\r\n        //     width: drawerWidth,\r\n        //     flexShrink: 0,\r\n        // },\r\n    },\r\n    appBar: {\r\n        background: '#fff',\r\n        height: '60px',\r\n        //marginLeft: drawerWidth,\r\n        // [theme.breakpoints.up('lg')]: {\r\n        //     width: `calc(100% - ${drawerWidth}px)`,\r\n        // },\r\n        boxShadow: \"0px 0px 17px 1px rgba(0,0,0,0.08)\"\r\n\r\n    },\r\n    appBarMenuIcon: {\r\n        fill: theme.palette.secondary.dark,\r\n        height: '1.8rem',\r\n        width: '1.8rem',\r\n    },\r\n    appBarLogoImg: {\r\n        width: '140px',\r\n    },\r\n    appBarCol: {\r\n        width: 'calc((100% - 100px) / 2)',\r\n        color: 'red',\r\n    },\r\n    menuButton: {\r\n        marginRight: 20,\r\n        [theme.breakpoints.up('lg')]: {\r\n            display: 'none',\r\n        },\r\n    },\r\n    toolbar: theme.mixins.toolbar,\r\n    drawerPaper: {\r\n        width: '80%',\r\n        maxWidth: '340px',\r\n    },\r\n    content: {\r\n        flexGrow: 1,\r\n        //padding: theme.spacing.unit * 2,\r\n        overflow: 'auto',\r\n        paddingTop: '60px'\r\n    },\r\n});\r\n\r\nclass ResponsiveDrawer extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            mobileOpen: false,\r\n            anchorEl: null\r\n        };\r\n    }\r\n\r\n    handleMenu = event => {\r\n        this.setState({ anchorEl: event.currentTarget });\r\n    };\r\n\r\n    handleClose = () => {\r\n        this.setState({ anchorEl: null });\r\n    };\r\n\r\n    handleClickAccount = () => {\r\n        this.props.history.push('/account');\r\n        this.handleClose();\r\n    }\r\n\r\n    handleDrawerToggle = () => {\r\n        this.setState(state => ({ mobileOpen: !state.mobileOpen }));\r\n    };\r\n\r\n    redirect = (route) => {\r\n        if (isWidthDown('md', this.props.width)) {\r\n            this.handleDrawerToggle();\r\n        }\r\n\r\n        this.props.history.push(route.path);\r\n    }\r\n\r\n    render() {\r\n        const { classes, theme, routes, user, translate } = this.props;\r\n        // const { anchorEl } = this.state;\r\n        // const open = Boolean(anchorEl);\r\n        const path = this.props.history.location.pathname;\r\n        const route = routes.find(x => x.path === path);\r\n\r\n        const drawer = (\r\n            <div>\r\n                <div className={classes.toolbar} />\r\n                <Divider />\r\n                <List>\r\n                    {routes.map(route => {\r\n                        if (route.exact && !route.hidden && (!route.permission || user.hasPermission(route.permission))) return (\r\n                            <ListItem button key={route.name} onClick={() => this.redirect(route)}>\r\n                                <ListItemText primary={translate('route.' + route.name) || route.name} />\r\n                            </ListItem>\r\n                        );\r\n                        else return null;\r\n                    })}\r\n                </List>\r\n            </div>\r\n        );\r\n\r\n        if (!route || !route.anonymous || route.name === 'home') {\r\n            return (\r\n                <div className={classes.root}>\r\n                    <CssBaseline />\r\n                    <AppBar position=\"fixed\" className={classes.appBar} color='secondary'>\r\n                        <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.h100, classes.ml5, classes.mr5)} >\r\n                            {this.props.user.user ?\r\n                                <>\r\n                                    <div onClick={this.handleDrawerToggle} className={classes.appBarCol}>\r\n                                        <MenuIcon className={classes.appBarMenuIcon} />\r\n                                    </div>\r\n                                    <img src={this.props.logo} className={classes.appBarLogoImg} alt={''} />\r\n                                    <div className={classNames(classes.appBarCol, classes.dFlex, classes.alignItemsCenter, classes.justifyContentEnd)}>\r\n                                        <ShoppingCartIcon\r\n                                            style={{ color: theme.palette.secondary.dark }}\r\n                                            onClick={() => this.props.history.push('/eshop/cart')}\r\n                                        />\r\n                                    </div>\r\n                                </>\r\n                                :\r\n                                <>\r\n                                    <div className={classes.appBarCol}></div>\r\n                                    <img src={this.props.logo} className={classes.appBarLogoImg} alt={''} onClick={() => this.props.history.push('/login')} />\r\n                                </>\r\n                            }\r\n                        </div>\r\n                    </AppBar>\r\n                    <nav className={classes.drawer}>\r\n                        {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\r\n                        <Hidden lgUp implementation=\"css\">\r\n                            <Drawer\r\n                                variant=\"temporary\"\r\n                                anchor={theme.direction === 'rtl' ? 'right' : 'left'}\r\n                                open={this.state.mobileOpen}\r\n                                onClose={this.handleDrawerToggle}\r\n                                classes={{\r\n                                    paper: classes.drawerPaper,\r\n                                }}\r\n                            >\r\n                                {drawer}\r\n                            </Drawer>\r\n                        </Hidden>\r\n                        {/* <Hidden mdDown implementation=\"css\">\r\n                            <Drawer\r\n                                classes={{\r\n                                    paper: classes.drawerPaper,\r\n                                }}\r\n                                variant=\"permanent\"\r\n                                open\r\n                            >\r\n                                {drawer}\r\n                            </Drawer>\r\n                        </Hidden> */}\r\n                    </nav>\r\n                    <main className={classes.content}>                       \r\n                        {this.props.children}\r\n                    </main>\r\n                </div>\r\n            );\r\n        }\r\n        else {\r\n            return (\r\n                <div className={classes.root}>\r\n                    {this.props.children}\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nResponsiveDrawer.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    theme: PropTypes.object.isRequired,\r\n    children: PropTypes.arrayOf(PropTypes.element),\r\n    user: PropTypes.object.isRequired,\r\n    routes: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default compose(\r\n    withWidth(),\r\n    withStyles(styles, { withTheme: true }),\r\n    withRouter,\r\n    withLocalization\r\n)(ResponsiveDrawer);","import React from \"react\";\n\nconst StoreContext = React.createContext();\nexport default StoreContext;","import React from \"react\";\nimport StoreContext from \"../contexts/StoreContext\";\n\nconst withStore = (WrappedComponent) => {\n  return (props) => {\n    return (\n      <StoreContext.Consumer>\n        {store =>\n          <WrappedComponent\n            {...props}\n            store={store}\n          />\n        }\n      </StoreContext.Consumer>\n    );\n  }\n};\n\nexport default withStore;","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nfunction GithubIcon(props) {\n  return (\n    <SvgIcon {...props}>\n      <path d=\"M12,2A10,10 0 0,0 2,12C2,16.42 4.87,20.17 8.84,21.5C9.34,21.58 9.5,21.27 9.5,21C9.5,20.77 9.5,20.14 9.5,19.31C6.73,19.91 6.14,17.97 6.14,17.97C5.68,16.81 5.03,16.5 5.03,16.5C4.12,15.88 5.1,15.9 5.1,15.9C6.1,15.97 6.63,16.93 6.63,16.93C7.5,18.45 8.97,18 9.54,17.76C9.63,17.11 9.89,16.67 10.17,16.42C7.95,16.17 5.62,15.31 5.62,11.5C5.62,10.39 6,9.5 6.65,8.79C6.55,8.54 6.2,7.5 6.75,6.15C6.75,6.15 7.59,5.88 9.5,7.17C10.29,6.95 11.15,6.84 12,6.84C12.85,6.84 13.71,6.95 14.5,7.17C16.41,5.88 17.25,6.15 17.25,6.15C17.8,7.5 17.45,8.54 17.35,8.79C18,9.5 18.38,10.39 18.38,11.5C18.38,15.32 16.04,16.16 13.81,16.41C14.17,16.72 14.5,17.33 14.5,18.26C14.5,19.6 14.5,20.68 14.5,21C14.5,21.27 14.66,21.59 15.17,21.5C19.14,20.16 22,16.42 22,12A10,10 0 0,0 12,2Z\" />\n    </SvgIcon>\n  );\n}\n\nexport default GithubIcon;","import React from \"react\";\nimport GithubIcon from \"../icons/GithubIcon\";\nimport Button from '@material-ui/core/Button';\n\nconst GithubButton = props => {\n  const handleClick = () => {\n    const url = `https://github.com/login/oauth/authorize?client_id=${props.config.id}&scope=user&redirect_uri=${process.env.REACT_APP_HOMEPAGE}?provider=1`;\n    window.location.replace(url);\n  };\n\n  if(!props.config) {\n    return null;\n  }\n\n  return (\n    <Button fullWidth={props.fullWidth} color=\"primary\" tooltip=\"Github\" onClick={handleClick} disabled={props.disabled}>\n      <GithubIcon fontSize=\"large\" /> <span style={props.fullWidth ? { width: 200} : null}>{props.title}</span>\n    </Button>\n  );\n};\n\nexport default GithubButton;\n","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nfunction GithubIcon(props) {\n  return (\n    <SvgIcon {...props}>\n      <path d=\"M21.35,11.1H12.18V13.83H18.69C18.36,17.64 15.19,19.27 12.19,19.27C8.36,19.27 5,16.25 5,12C5,7.9 8.2,4.73 12.2,4.73C15.29,4.73 17.1,6.7 17.1,6.7L19,4.72C19,4.72 16.56,2 12.1,2C6.42,2 2.03,6.8 2.03,12C2.03,17.05 6.16,22 12.25,22C17.6,22 21.5,18.33 21.5,12.91C21.5,11.76 21.35,11.1 21.35,11.1V11.1Z\" />\n    </SvgIcon>\n  );\n}\n\nexport default GithubIcon;","import React from \"react\";\nimport GoogleIcon from \"../icons/GoogleIcon\";\nimport Button from '@material-ui/core/Button';\n\nconst GithubButton = props => {\n  const handleClick = () => {\n    const url = `https://accounts.google.com/o/oauth2/v2/auth?scope=https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/userinfo.email&redirect_uri=${process.env.REACT_APP_HOMEPAGE}?provider=2&response_type=code&client_id=${props.config.id}`;\n    window.location.replace(url);\n  };\n\n  if(!props.config) {\n    return null;\n  }\n\n  return (\n    <Button fullWidth={props.fullWidth} color=\"primary\" onClick={handleClick} disabled={props.disabled}>\n      <GoogleIcon fontSize=\"large\" /> <span style={props.fullWidth ? { width: 200} : null}>{props.title}</span>\n    </Button>\n  );\n};\n\nexport default GithubButton;","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nfunction GithubIcon(props) {\n  return (\n    <SvgIcon {...props}>\n      <path d=\"M14.92 17.16l1.83-3.63h2.7l-4.51 8.97l-4.57-8.97h2.7l1.85 3.63m-4.29-8.5l-2.45 4.89H4.55L10.61 1.5l6.13 12.05h-3.63l-2.48-4.89z\" />\n    </SvgIcon>\n  );\n}\n\nexport default GithubIcon;","import React from \"react\";\r\nimport StravaIcon from \"../icons/StravaIcon\";\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst GithubButton = props => {\r\n  const handleClick = () => {\r\n    const redirect = process.env.REACT_APP_HOMEPAGE;\r\n    // const redirect = 'http://localhost:3000';\r\n    const url = `https://www.strava.com/oauth/authorize?client_id=${props.config.id}&response_type=code&scope=read,activity:read&redirect_uri=${redirect}?provider=4`;\r\n    window.location.replace(url);\r\n  };\r\n\r\n  if(!props.config) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Button fullWidth={props.fullWidth} variant={props.variant} color=\"primary\" onClick={handleClick} disabled={props.disabled}>\r\n      <StravaIcon fontSize=\"large\" /> <span style={props.fullWidth ? { width: 200} : null}>{props.title}</span>\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default GithubButton;\r\n","import React from 'react';\r\nimport SvgIcon from '@material-ui/core/SvgIcon';\r\n\r\nfunction FbIcon(props) {\r\n  return (\r\n    <SvgIcon {...props}>\r\n      <path d=\"M12 2.04C6.5 2.04 2 6.53 2 12.06C2 17.06 5.66 21.21 10.44 21.96V14.96H7.9V12.06H10.44V9.85C10.44 7.34 11.93 5.96 14.22 5.96C15.31 5.96 16.45 6.15 16.45 6.15V8.62H15.19C13.95 8.62 13.56 9.39 13.56 10.18V12.06H16.34L15.89 14.96H13.56V21.96A10 10 0 0 0 22 12.06C22 6.53 17.5 2.04 12 2.04Z\" />\r\n    </SvgIcon>\r\n  );\r\n}\r\n\r\nexport default FbIcon;","import React from \"react\";\r\nimport FbIcon from \"../icons/FbIcon\";\r\nimport Button from '@material-ui/core/Button';\r\n\r\nconst GithubButton = props => {\r\n  const handleClick = () => {\r\n    const redirect = process.env.REACT_APP_HOMEPAGE;\r\n    const url = `https://www.facebook.com/v9.0/dialog/oauth?scope=email,user_link&client_id=${props.config.id}&redirect_uri=${redirect}/?provider=5&state=1`;\r\n    window.location.replace(url);\r\n  };\r\n\r\n  if(!props.config) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Button fullWidth={props.fullWidth} color=\"primary\" onClick={handleClick} disabled={props.disabled}>\r\n      <FbIcon fontSize=\"large\" /> <span style={props.fullWidth ? { width: 200} : null}>{props.title}</span>\r\n    </Button>\r\n  );\r\n};\r\n\r\nexport default GithubButton;","const config = {\r\n  url: {\r\n    store: \"https://kdvps.vps.wbsprt.com:8002\",\r\n    auth: \"https://kdvps.vps.wbsprt.com:8001\",\r\n    mail: \"https://kdvps.vps.wbsprt.com:8004\",\r\n    doby: \"https://kdvps.vps.wbsprt.com:8080\",\r\n  },\r\n  _github: {\r\n    id: \"c426e790821064328634\",\r\n  },\r\n  google: {\r\n    id:\r\n      \"548560778490-kpllp0k9fhf7bdkfvlbjl0p4m88t0ipt.apps.googleusercontent.com\",\r\n  },\r\n  strava: {\r\n    id: \"39689\",\r\n  },\r\n  fb: {\r\n    id: \"719665785361475\",\r\n  },\r\n  home: \"/home\",\r\n  logo: \"/img/logo.svg\",\r\n  palette: {\r\n    type: \"light\",\r\n    primary: {\r\n      main: \"#F5333F\",\r\n      dark: \"#DC2626\",\r\n      light: \"#FFB0C0\",\r\n    },\r\n    secondary: {\r\n      main: \"#00263E\",\r\n      dark: \"#748B96\",\r\n      light: \"#D8DDDF\",\r\n    },\r\n  },\r\n  locale: \"sk-SK\",\r\n  currency: \"EUR\",\r\n  stripe: {\r\n    id:\r\n      \"pk_test_51I8gGaCrDr5T6Bm1HKpXHEYshDOgyObm3FPm61uA7jgbRcYmuTgnrUoYiUzl57mX5Jdlp2fQ3Qx1GObBOzftadkj00OY7xLPiB\",\r\n    redirect_url: \"http://localhost:3000/eshop/checkout/verify\",\r\n  },\r\n  mail: {\r\n    address: \"noreply@dobyhory.sk\",\r\n    name: \"dobyhory\",\r\n    sendCouponTemplate: 3,\r\n    userEmailNotificationTemplate: 4,\r\n  },\r\n  passwordPattern:\r\n    \"^(?=.*[A-Z])(?=.*[a-z].*[a-z].*[a-z].*[a-z])(?=.*[0-9].*[0-9]).{7}$\",\r\n  discountCodeLength: 36,\r\n  imageSize: 1080,\r\n  thumbnailSize: 320,\r\n  badgeSize: 168,\r\n  start: 1619820000000,\r\n  configId: \"5fef097e7d1c7341543b71a4\",\r\n};\r\n\r\nexport default config;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Input from \"@material-ui/core/Input\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport { withRouter } from \"react-router\";\r\nimport { withLocalization } from \"../shared/localization\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport classnames from \"classnames\";\r\n\r\nimport { Redirect } from \"react-router-dom\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport withStore from \"../../consumers/withStore\";\r\nimport compose from \"../../compose\";\r\nimport GithubButton from \"../shared/login/GithubButton\";\r\nimport GoogleButton from \"../shared/login/GoogleButton\";\r\nimport StravaButton from \"../shared/login/StravaButton\";\r\nimport FbButton from \"../shared/login/FbButton\";\r\nimport config from \"../../config\";\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    height: \"100vh\",\r\n  },\r\n  image: {\r\n    backgroundImage: `url(/img/intro-bg-desktop.jpg)`,\r\n    backgroundRepeat: \"no-repeat\",\r\n    backgroundColor:\r\n      theme.palette.type === \"light\"\r\n        ? theme.palette.grey[50]\r\n        : theme.palette.grey[900],\r\n    backgroundSize: \"cover\",\r\n    backgroundPosition: \"center\",\r\n  },\r\n  paper: {\r\n    margin: theme.spacing.unit * 8,\r\n    marginBottom: theme.spacing.unit * 4,\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing.unit,\r\n    // backgroundColor: theme.palette.secondary.main,\r\n    width: 128,\r\n    height: 128,\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing.unit,\r\n  },\r\n  submit: {\r\n    marginTop: theme.spacing.unit * 3,\r\n    marginBottom: theme.spacing.unit,\r\n  },\r\n  center: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    flexDirection: \"column\",\r\n  },\r\n});\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {\"Copyright © \"}\r\n      <Link color=\"inherit\" href={process.env.REACT_APP_HOMEPAGE}>\r\n        {process.env.REACT_APP_NAME + \" \"}\r\n      </Link>{\" \"}\r\n      {new Date().getFullYear()}\r\n      {\".\"}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nclass Login extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      username: \"\",\r\n      password: \"\",\r\n      token: \"\",\r\n      disabled: false,\r\n    };\r\n  }\r\n\r\n  handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    this.setState({ disabled: true });\r\n\r\n    const { username, password, token } = this.state;\r\n    try {\r\n      const user = await this.props.user.auth(\r\n        username.trim().toLowerCase(),\r\n        password,\r\n        token\r\n      );\r\n      if (user === null) {\r\n        this.props.user.showMsg(\"Unauthorized\");\r\n      }\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n\r\n    this.setState({ disabled: false });\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    this.setState({ [e.target.name]: e.target.value });\r\n  };\r\n\r\n  handleClickReset = async () => {\r\n    const { username } = this.state;\r\n\r\n    if (username) {\r\n      try {\r\n        await this.props.user.reset(username.trim().toLowerCase());\r\n        this.props.user.showMsg(\"Mail sended.\");\r\n      } catch (error) {\r\n        this.props.user.showError(error);\r\n      }\r\n    }\r\n  };\r\n\r\n  handleRegister = () => {\r\n    this.props.history.push(`/register`);\r\n  };\r\n\r\n  render() {\r\n    const { classes, user, translate } = this.props;\r\n    const { username, password, disabled, oAuth, token } = this.state;\r\n\r\n    const { from } = this.props.location.state || {\r\n      from: { pathname: config.home },\r\n    };\r\n\r\n    if (oAuth) return null;\r\n    if (user.user) return <Redirect to={from} />;\r\n\r\n    return (\r\n      <Grid\r\n        container\r\n        component=\"main\"\r\n        className={classnames(classes.root)}\r\n      >\r\n        <CssBaseline />\r\n        <Grid item xs={false} sm={4} md={7} className={classes.image} />\r\n        <Grid item xs={12} sm={8} md={5} component={\"div\"} elevation={6} square>\r\n          <div className={classes.paper}>\r\n            <img alt=\"logo\" className={classes.avatar} src={config.logo} />\r\n            {/* <Typography component=\"h1\" variant=\"h5\">\r\n            Sign in\r\n          </Typography> */}\r\n\r\n            <GithubButton\r\n              fullWidth\r\n              disabled={disabled}\r\n              title={translate(\"githubSignIn\")}\r\n              config={config.github}\r\n            />\r\n            <GoogleButton\r\n              fullWidth\r\n              disabled={disabled}\r\n              title={translate(\"googleSignIn\")}\r\n              config={config.google}\r\n            />\r\n            <FbButton\r\n              fullWidth\r\n              disabled={disabled}\r\n              title={translate(\"fbSignIn\")}\r\n              config={config.fb}\r\n            />\r\n            <StravaButton\r\n              fullWidth\r\n              disabled={disabled}\r\n              title={translate(\"stravaSignIn\")}\r\n              config={config.strava}\r\n            />\r\n\r\n            <Typography variant=\"body1\">{translate(\"useAccount\")}</Typography>\r\n\r\n            <form className={classes.form} onSubmit={this.handleSubmit}>\r\n              <FormControl margin=\"normal\" required fullWidth>\r\n                <InputLabel htmlFor=\"username\">\r\n                  {translate(\"field.username\")}\r\n                </InputLabel>\r\n                <Input\r\n                  id=\"username\"\r\n                  name=\"username\"\r\n                  autoComplete=\"username\"\r\n                  autoFocus\r\n                  value={username}\r\n                  onChange={this.handleChange}\r\n                />\r\n              </FormControl>\r\n              <FormControl margin=\"normal\" required fullWidth>\r\n                <InputLabel htmlFor=\"password\">\r\n                  {translate(\"field.password\")}\r\n                </InputLabel>\r\n                <Input\r\n                  name=\"password\"\r\n                  type=\"password\"\r\n                  id=\"password\"\r\n                  autoComplete=\"current-password\"\r\n                  value={password}\r\n                  onChange={this.handleChange}\r\n                />\r\n              </FormControl>\r\n\r\n              <Link color=\"textSecondary\" onClick={this.handleClickReset}>\r\n                {translate(\"qForgotPassword\")}\r\n              </Link>\r\n\r\n              {config[\"2fa\"] && (\r\n                <FormControl margin=\"normal\" fullWidth>\r\n                  <InputLabel htmlFor=\"password\">\r\n                    {translate(\"field.token\")}\r\n                  </InputLabel>\r\n                  <Input\r\n                    name=\"token\"\r\n                    id=\"token\"\r\n                    value={token}\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </FormControl>\r\n              )}\r\n              {/* <FormControlLabel\r\n              control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n              label=\"Remember me\"\r\n            /> */}\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.submit}\r\n                disabled={disabled}\r\n              >\r\n                {translate(\"signIn\")}\r\n              </Button>\r\n\r\n              <Link color=\"textSecondary\" onClick={this.handleRegister}>\r\n                {translate(\"orRegister\")}\r\n              </Link>\r\n\r\n              {/* <Grid container>\r\n                <Grid item xs>\r\n                  <Link href=\"#\" variant=\"body2\" onClick={this.handleClickReset}>\r\n                    Forgot password?\r\n                  </Link>\r\n                </Grid>\r\n                <Grid item>\r\n                  <Link  variant=\"body2\">\r\n                    {\"Don't have an account? Sign Up\"}\r\n                  </Link>\r\n                </Grid>\r\n              </Grid> */}\r\n            </form>\r\n          </div>\r\n          <Copyright />\r\n        </Grid>\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nLogin.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withUser,\r\n  withStore,\r\n  withLocalization,\r\n  withRouter\r\n)(Login);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { withLocalization } from \"../../shared/localization\";\r\nimport getSharedStyles from \"../../../style\";\r\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport FilledInput from \"@material-ui/core/FilledInput\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport classNames from \"classnames\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getSharedStyles(theme),\r\n  textInput: {\r\n    background: \"white!important\",\r\n    border: \"1px solid #E7E7E7\",\r\n    borderRadius: \"6px\",\r\n    \"&:before\": {\r\n      display: \"none\",\r\n    },\r\n    \"&:after\": {\r\n      display: \"none\",\r\n    },\r\n  },\r\n  inputLabel: {\r\n    color: \"rgba(0,0,0,0.3)!important\",\r\n    fontSize: \"0.875rem\",\r\n  },\r\n  inputRoot: {\r\n    padding: \"23px 12px 8px\",\r\n    fontSize: \"0.875rem\",\r\n    color: \"#333442\",\r\n  },\r\n});\r\n\r\nfunction TextFieldComponent(props) {\r\n  const { classes } = props;\r\n  const label = props.label || props.translate(\"field.\" + props.field);\r\n\r\n  return (\r\n    <FormControl\r\n      className={classNames(props.className)}\r\n      variant=\"filled\"\r\n      fullWidth={props.fullWidth}\r\n      required={props.required}\r\n      error={props.errorText && props.errorText !== \"\"}\r\n    >\r\n      <InputLabel\r\n        htmlFor=\"component-filled\"\r\n        className={classNames(classes.inputLabel)}\r\n      >\r\n        {label}\r\n      </InputLabel>\r\n      <FilledInput\r\n        id=\"outlined-name\"\r\n        label={label}\r\n        value={props.value || \"\"}\r\n        onChange={(e) => props.onChange(props.field, e.target.value)}\r\n        margin=\"normal\"\r\n        variant=\"filled\"\r\n        className={classes.textInput}\r\n        classes={{ input: classes.inputRoot }}\r\n        rows={props.rows}\r\n        multiline={props.multiline}\r\n        onBlur={props.onBlur}\r\n        type={props.type === \"new-password\" ? \"password\" : props.type}\r\n        autoComplete={props.type === \"new-password\" ? \"new-password\" : null}\r\n      />\r\n      {props.errorText && <FormHelperText className={classNames(classes.textError)}>{props.errorText}</FormHelperText>}\r\n    </FormControl>\r\n  );\r\n}\r\n\r\nTextFieldComponent.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  className: PropTypes.string,\r\n  label: PropTypes.string,\r\n  field: PropTypes.string.isRequired,\r\n  value: PropTypes.string,\r\n  onChange: PropTypes.func.isRequired,\r\n  placeholder: PropTypes.string,\r\n  fullWidth: PropTypes.bool,\r\n  required: PropTypes.bool,\r\n  type: PropTypes.string,\r\n  disabled: PropTypes.bool,\r\n  multiline: PropTypes.bool,\r\n  rows: PropTypes.number,\r\n  startAdornment: PropTypes.string,\r\n  onBlur: PropTypes.func,\r\n  errorText: PropTypes.string,\r\n  width: PropTypes.number,\r\n};\r\n\r\nexport default withLocalization(withStyles(styles)(TextFieldComponent));\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport ArrowLeftIcon from \"@material-ui/icons/ArrowLeft\";\r\nimport { withRouter } from \"react-router\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport { withLocalization } from \"../shared/localization\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport classnames from \"classnames\";\r\nimport TextField from \"../dobyComponents/form/TextField\";\r\nimport classNames from \"classnames\";\r\n\r\nimport { Redirect } from \"react-router-dom\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport withStore from \"../../consumers/withStore\";\r\nimport compose from \"../../compose\";\r\nimport GithubButton from \"../shared/login/GithubButton\";\r\nimport GoogleButton from \"../shared/login/GoogleButton\";\r\nimport StravaButton from \"../shared/login/StravaButton\";\r\nimport FbButton from \"../shared/login/FbButton\";\r\nimport config from \"../../config\";\r\nimport _ from \"lodash\";\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    height: \"100vh\",\r\n  },\r\n  image: {\r\n    backgroundImage: `url(/img/intro-bg-desktop.jpg)`,\r\n    backgroundRepeat: \"no-repeat\",\r\n    backgroundColor:\r\n      theme.palette.type === \"light\"\r\n        ? theme.palette.grey[50]\r\n        : theme.palette.grey[900],\r\n    backgroundSize: \"cover\",\r\n    backgroundPosition: \"center\",\r\n  },\r\n  paper: {\r\n    margin: theme.spacing.unit * 8,\r\n    marginBottom: theme.spacing.unit * 4,\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing.unit,\r\n    // backgroundColor: theme.palette.secondary.main,\r\n    width: 128,\r\n    height: 128,\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing.unit,\r\n  },\r\n  submit: {\r\n    marginTop: theme.spacing.unit * 3,\r\n    marginBottom: theme.spacing.unit,\r\n  },\r\n  center: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    flexDirection: \"column\",\r\n  },\r\n});\r\n\r\nconst INIT_STATE = {\r\n  password: {\r\n    value: \"\",\r\n    errorText: \"\",\r\n  },\r\n  repeatedPassword: {\r\n    value: \"\",\r\n    errorText: \"\",\r\n  },\r\n  email: {\r\n    value: \"\",\r\n    isLoading: false,\r\n    errorText: \"\",\r\n  },\r\n  disabled: false,\r\n};\r\n\r\nconst buildState = () => {\r\n  return {\r\n    ...INIT_STATE,\r\n  };\r\n};\r\n\r\nclass Register extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = buildState();\r\n  }\r\n\r\n  handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const isValid = this.validPasswords() && (await this.validEmail());\r\n    if (!isValid) {\r\n      return;\r\n    }\r\n\r\n    const { email, password } = this.state;\r\n    const user = {\r\n      username: \"u:\" + email.value,\r\n      name: email.value,\r\n      config: config.configId,\r\n      email: email.value,\r\n      password: password.value,\r\n    };\r\n\r\n    await this.props.user.registerUser(user);\r\n    this.props.history.push(\"/login\");\r\n  };\r\n\r\n  handleChange = (name, value) => {\r\n    this.setState((state) => _.set(state, name, value));\r\n  };\r\n\r\n  isValid = async (username) => {\r\n    const ids = await this.props.user.checkUser(username);\r\n    return ids.length === 0;\r\n  };\r\n\r\n  validEmail = async () => {\r\n    const { translate } = this.props;\r\n    const { email } = this.state;\r\n\r\n    this.setState((state) => ({\r\n      email: {\r\n        ...state.email,\r\n        isLoading: true,\r\n      },\r\n    }));\r\n\r\n    const isValid = !email.value || (await this.isValid(email.value));\r\n    const errorText = isValid ? \"\" : translate(\"field.emailInUse\");\r\n\r\n    this.setState((state) => ({\r\n      email: { ...state.email, errorText, isLoading: false },\r\n    }));\r\n\r\n    return isValid;\r\n  };\r\n\r\n  validPasswords = () => {\r\n    const { password, repeatedPassword } = this.state;\r\n    const { translate } = this.props;\r\n\r\n    const regex = new RegExp(config.passwordPattern);\r\n    const isValidPassword = !password.value || regex.test(password.value);\r\n    const errorTextPassword = isValidPassword\r\n      ? \"\"\r\n      : translate(\"field.passwordWeak\");\r\n\r\n    const isValidRepeatedPassword = password.value === repeatedPassword.value;\r\n    const errorTextRepeatedPassword = isValidRepeatedPassword\r\n      ? \"\"\r\n      : translate(\"field.passwordNoMatch\");\r\n\r\n    this.setState((state) => ({\r\n      password: { ...state.password, errorText: errorTextPassword },\r\n      repeatedPassword: {\r\n        ...this.state.repeatedPassword,\r\n        errorText: errorTextRepeatedPassword,\r\n      },\r\n    }));\r\n\r\n    return isValidPassword && isValidRepeatedPassword;\r\n  };\r\n\r\n  handleClickReset = async () => {\r\n    const { username } = this.state;\r\n\r\n    if (username) {\r\n      try {\r\n        await this.props.user.reset(username.trim().toLowerCase());\r\n        this.props.user.showMsg(\"Mail sended.\");\r\n      } catch (error) {\r\n        this.props.user.showError(error);\r\n      }\r\n    }\r\n  };\r\n\r\n  handleRegister = () => {\r\n    console.log(\"clicked on register\");\r\n  };\r\n\r\n  goToLogIn = () => this.props.history.push(`/login`);\r\n\r\n  render() {\r\n    const { classes, user, translate } = this.props;\r\n    const { email, password, repeatedPassword, disabled, oAuth } = this.state;\r\n\r\n    const { from } = this.props.location.state || {\r\n      from: { pathname: config.home },\r\n    };\r\n\r\n    if (oAuth) return null;\r\n    if (user.user) return <Redirect to={from} />;\r\n\r\n    return (\r\n      <Grid\r\n        container\r\n        component=\"main\"\r\n        className={classnames(\r\n          classes.root\r\n        )}\r\n      >\r\n        {/* HEADER */}\r\n        <Grid item xs={12} className={classNames(classes.mt5)}>\r\n          <div className={classNames(classes.container)}>\r\n            <div\r\n              className={classNames(\r\n                classes.dFlex,\r\n                classes.w100,\r\n                classes.alignItemsCenter,\r\n                classes.justifyContentBetween\r\n              )}\r\n            >\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                  flexWrap: \"wrap\",\r\n                }}\r\n              >\r\n                <ArrowLeftIcon onClick={this.goToLogIn} />\r\n                <span>{translate(\"back\")}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Grid>\r\n\r\n        <CssBaseline />\r\n        <Grid item xs={false} sm={4} md={7} className={classes.image} />\r\n        <Grid item xs={12} sm={8} md={5} component={\"div\"} elevation={6} square>\r\n          <div className={classes.paper}>\r\n            <img alt=\"logo\" className={classes.avatar} src={config.logo} />\r\n\r\n            <GithubButton\r\n              fullWidth\r\n              disabled={disabled}\r\n              title={translate(\"githubRegister\")}\r\n              config={config.github}\r\n            />\r\n            <GoogleButton\r\n              fullWidth\r\n              disabled={disabled}\r\n              title={translate(\"googleRegister\")}\r\n              config={config.google}\r\n            />\r\n            <FbButton\r\n              fullWidth\r\n              disabled={disabled}\r\n              title={translate(\"fbRegister\")}\r\n              config={config.fb}\r\n            />\r\n            <StravaButton\r\n              fullWidth\r\n              disabled={disabled}\r\n              title={translate(\"stravaRegister\")}\r\n              config={config.strava}\r\n            />\r\n\r\n            <Typography variant=\"body1\">{translate(\"or\")}</Typography>\r\n\r\n            <form className={classes.form} onSubmit={this.handleSubmit}>\r\n              <TextField\r\n                type=\"email\"\r\n                value={email.value}\r\n                field=\"email.value\"\r\n                onChange={this.handleChange}\r\n                disabled={disabled || email.isLoading}\r\n                onBlur={this.validEmail}\r\n                errorText={email.errorText}\r\n                fullWidth\r\n                required\r\n              />\r\n              <TextField\r\n                type=\"password\"\r\n                value={password.value}\r\n                field=\"password.value\"\r\n                onChange={this.handleChange}\r\n                disabled={disabled}\r\n                onBlur={this.validPasswords}\r\n                errorText={password.errorText}\r\n                fullWidth\r\n                required\r\n              />\r\n              <TextField\r\n                type=\"new-password\"\r\n                value={repeatedPassword.value}\r\n                field=\"repeatedPassword.value\"\r\n                onChange={this.handleChange}\r\n                disabled={disabled}\r\n                onBlur={this.validPasswords}\r\n                errorText={repeatedPassword.errorText}\r\n                fullWidth\r\n                required\r\n              />\r\n\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.submit}\r\n                disabled={disabled}\r\n              >\r\n                {translate(\"doRegister\")}\r\n              </Button>\r\n            </form>\r\n          </div>\r\n        </Grid>\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nRegister.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withRouter,\r\n  withUser,\r\n  withStore,\r\n  withLocalization\r\n)(Register);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { withLocalization } from \"../localization\";\r\n\r\nconst styles = (theme) => ({\r\n  formInline: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n    flexDirection: \"row\",\r\n  },\r\n  form: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n  },\r\n  submitButton: {\r\n    margin: theme.spacing.unit,\r\n    marginBottom: theme.spacing.unit * 2,\r\n  },\r\n});\r\n\r\nclass Form extends React.Component {\r\n  handleChange = (name, value) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    this.props.onSubmit();\r\n  };\r\n\r\n  render() {\r\n    const { classes, inline, disabled, translate } = this.props;\r\n\r\n    return (\r\n      <form\r\n        className={inline ? classes.formInline : classes.form}\r\n        onSubmit={this.handleSubmit}\r\n      >\r\n        {this.props.children}\r\n        {!disabled && (\r\n          <Button\r\n            className={classes.submitButton}\r\n            type=\"submit\"\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            disabled={disabled}\r\n          >\r\n            {translate(\"form.save\")}\r\n          </Button>\r\n        )}\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nForm.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  onSubmit: PropTypes.func.isRequired,\r\n  inline: PropTypes.bool,\r\n  disabled: PropTypes.bool,\r\n};\r\n\r\nexport default withLocalization(withStyles(styles)(Form));\r\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Button from \"@material-ui/core/Button\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst styles = theme => ({\n  formControl: {\n    margin: theme.spacing.unit,\n    width: 160\n  }\n});\n\nfunction FormDialog(props) {\n  return (\n    <Dialog\n      onClose={props.onClose}\n      aria-labelledby=\"simple-dialog-title\"\n      open={props.isOpen}\n      fullWidth\n    >\n      <DialogTitle id=\"simple-dialog-title\">{props.title}</DialogTitle>\n      {props.children}\n      <DialogActions>\n        {props.onCancel && (\n          <Button onClick={props.onCancel} color=\"primary\">\n            Cancel\n          </Button>\n        )}\n        {props.onConfirm && (\n          <Button onClick={props.onConfirm} color=\"primary\" autoFocus>\n            OK\n          </Button>\n        )}\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nFormDialog.propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  onClose: PropTypes.func,\n  onConfirm: PropTypes.func,\n  onCancel: PropTypes.func,\n  title: PropTypes.string.isRequired,\n  children: PropTypes.element.isRequired\n};\n\nexport default withStyles(styles)(FormDialog);\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Switch from '@material-ui/core/Switch';\r\n\r\nconst styles = theme => ({\r\n  formControl: {\r\n    marginLeft: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit\r\n  },\r\n});\r\n\r\nfunction SwitchComponent(props) {\r\n  const { classes } = props;\r\n\r\n  return (\r\n    <FormControlLabel\r\n      className={classes.formControl}\r\n      control={\r\n        <Switch\r\n          checked={props.value}\r\n          onChange={(e) => props.onChange(props.field, e.target.checked)}\r\n          value={props.field}\r\n          disabled={props.disabled}\r\n        />\r\n      }\r\n      label={props.label}\r\n    />\r\n  );\r\n}\r\n\r\nSwitchComponent.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  label: PropTypes.string,\r\n  field: PropTypes.string.isRequired,\r\n  value: PropTypes.bool,\r\n  onChange: PropTypes.func.isRequired,\r\n  disabled: PropTypes.bool\r\n};\r\n\r\nexport default withStyles(styles)(SwitchComponent);","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\n\nconst styles = theme => ({\n\n});\n\nclass ImageAvatars extends React.Component {\n  render() {\n    const { value, defaultValue, tooltip, onClick, className, placement } = this.props;\n\n    return (\n      <Tooltip title={tooltip} aria-label={tooltip} placement={placement}>\n        <Avatar\n          style={{ textTransform: 'uppercase' }}\n          alt={defaultValue}\n          src={value ? \"data:image/jpeg;base64,\" + value : null}\n          onClick={onClick}\n          className={className}\n        >\n          {tooltip[0]}\n        </Avatar>\n      </Tooltip>\n    );\n  }\n}\n\nImageAvatars.propTypes = {\n  classes: PropTypes.object.isRequired,\n  value: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  className: PropTypes.string.isRequired,\n  placement: PropTypes.string,\n  tooltip: PropTypes.string.isRequired\n};\n\nexport default withStyles(styles)(ImageAvatars);\n","import React, { useRef } from \"react\";\r\n\r\nconst withUtils = WrappedComponent => {\r\n  return props => {\r\n    const canvasRef = useRef(null);\r\n    \r\n    const resize = (src, height, filename = null) => {\r\n      return new Promise(resolve => {\r\n        const image = new Image();\r\n        const canvas = canvasRef.current;\r\n        image.onload = () => {\r\n          if (image.height > height) {\r\n            image.width *= height / image.height;\r\n            image.height = height;\r\n          }\r\n          const ctx = canvas.getContext(\"2d\");\r\n          ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n          canvas.width = image.width;\r\n          canvas.height = image.height;\r\n          ctx.drawImage(image, 0, 0, image.width, image.height);\r\n\r\n          if(filename) {\r\n            canvas.toBlob((blob) => {\r\n              blob.name = filename;\r\n              resolve(blob);;\r\n            }, \"image/jpeg\");\r\n          }\r\n          else {\r\n            resolve(canvas.toDataURL(\"image/jpeg\"));\r\n          }\r\n        };\r\n\r\n        image.src = src;\r\n      });\r\n    }\r\n\r\n    const postFile = async (url, file, key) => {  \r\n      const formData = new FormData();\r\n      formData.append(\"file\", file);\r\n    \r\n      const response = await fetch(`${url}/api/file`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          Authorization: \"Basic \" + key\r\n        },\r\n        body: formData\r\n      });\r\n    \r\n      if (response.status === 200) {\r\n        return await response.json();\r\n      } else {\r\n        console.log(await response.text())\r\n        throw new Error(response.statusText);\r\n      }\r\n    };\r\n\r\n    return (\r\n      <>\r\n        <WrappedComponent\r\n          {...props}\r\n          utils={{\r\n            resize,\r\n            postFile\r\n          }}\r\n        />\r\n        <canvas style={{ display: \"none\" }} ref={canvasRef} />\r\n      </>\r\n    );\r\n  };\r\n};\r\n\r\nexport default withUtils;\r\n","export const getStyles = theme => ({\n  col: {\n    display: \"flex\",\n    flex: 1,\n    flexDirection: 'column',\n    marginBottom: theme.spacing.unit\n  },\n  row: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    flexDirection: 'row',\n  },\n  center: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    flexDirection: 'column'\n  },\n  paper: {\n    padding: theme.spacing.unit\n  },\n  flex: {\n    display: 'flex'\n  },\n  grow: {\n    display: 'flex',\n    flex:1\n  }\n});","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Form from \"../shared/form/Form\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"../dobyComponents/form/TextField\";\r\nimport Dialog from \"../shared/Dialog\";\r\nimport Switch from \"../shared/Switch\";\r\nimport Avatar from \"../shared/avatar/Avatar\";\r\nimport GithubButton from \"../shared/login/GithubButton\";\r\nimport GoogleButton from \"../shared/login/GoogleButton\";\r\nimport StravaButton from \"../shared/login/StravaButton\";\r\nimport FbButton from \"../shared/login/FbButton\";\r\n\r\nimport withStore from \"../../consumers/withStore\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport withUtils from \"../shared/utils/withUtils\";\r\nimport compose from \"../../compose\";\r\nimport { getStyles } from \"../shared/style\";\r\nimport { withLocalization } from \"../shared/localization\";\r\nimport config from \"../../config\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport FormGroup from \"@material-ui/core/FormGroup\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport FormLabel from \"@material-ui/core/FormLabel\";\r\nimport _ from \"lodash\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getStyles(theme),\r\n  heading: {\r\n    marginLeft: theme.spacing.unit,\r\n  },\r\n  detailHeading: {\r\n    marginLeft: theme.spacing.unit,\r\n    marginTop: theme.spacing.unit * 3,\r\n  },\r\n  actions: {\r\n    float: \"right\",\r\n    margin: theme.spacing.unit,\r\n  },\r\n});\r\n\r\nconst INIT_STATE = {\r\n  password: {\r\n    value: \"\",\r\n    errorText: \"\",\r\n  },\r\n  repeatedPassword: {\r\n    value: \"\",\r\n    errorText: \"\",\r\n  },\r\n  email: {\r\n    value: \"\",\r\n    isLoading: false,\r\n    errorText: \"\",\r\n  },\r\n  name: \"\",\r\n  username: {\r\n    value: \"\",\r\n    isLoading: false,\r\n    errorText: \"\",\r\n  },\r\n  tel: {\r\n    value: \"\",\r\n    errorText: \"\",\r\n  },\r\n  address: \"\",\r\n  city: \"\",\r\n  postCode: \"\",\r\n  country: \"\",\r\n  otp: false,\r\n  avatar: null,\r\n  notifications: true,\r\n  notifyAboutMe: false,\r\n  notifyAboutFollowers: false,\r\n  notifyNews: false,\r\n};\r\n\r\nconst buildState = (user) => {\r\n  return {\r\n    ...INIT_STATE,\r\n    ...user,\r\n    email: { ...INIT_STATE.email, value: user.email },\r\n    username: { ...INIT_STATE.username, value: user.username },\r\n    tel: { ...INIT_STATE.tel, value: user.tel || \"\" },\r\n    isOpenSecretDialog: false,\r\n    avatarChanged: false,\r\n  };\r\n};\r\n\r\nclass FormWrapper extends React.Component {\r\n  state = buildState(this.props.user.user);\r\n\r\n  handleChange = (name, value) => {\r\n    this.setState((state) => _.set(state, name, value));\r\n  };\r\n\r\n  handleChangeCheckBox = (event) => {\r\n    const { name, checked } = event.target;\r\n    this.setState((state) => _.set(state, name, checked));\r\n  };\r\n\r\n  validTelephone = () => {\r\n    const { translate } = this.props;\r\n    const { tel } = this.state;\r\n\r\n    const regex = new RegExp(\"^[0-9]{3}[-][0-9]{3} [0-9]{3} [0-9]{3}$\");\r\n    const isValid = tel.value === \"   -           \" || regex.test(tel.value);\r\n    const errorText = isValid ? \"\" : translate(\"field.telNotValid\");\r\n\r\n    this.setState((state) => ({\r\n      tel: { ...state.tel, errorText },\r\n    }));\r\n\r\n    return isValid;\r\n  };\r\n\r\n  validPasswords = () => {\r\n    const { password, repeatedPassword } = this.state;\r\n    const { translate } = this.props;\r\n\r\n    const regex = new RegExp(config.passwordPattern);\r\n    const isValidPassword = !password.value || regex.test(password.value);\r\n    const errorTextPassword = isValidPassword\r\n      ? \"\"\r\n      : translate(\"field.passwordWeak\");\r\n\r\n    const isValidRepeatedPassword = password.value === repeatedPassword.value;\r\n    const errorTextRepeatedPassword = isValidRepeatedPassword\r\n      ? \"\"\r\n      : translate(\"field.passwordNoMatch\");\r\n\r\n    this.setState((state) => ({\r\n      password: { ...state.password, errorText: errorTextPassword },\r\n      repeatedPassword: {\r\n        ...this.state.repeatedPassword,\r\n        errorText: errorTextRepeatedPassword,\r\n      },\r\n    }));\r\n\r\n    return isValidPassword && isValidRepeatedPassword;\r\n  };\r\n\r\n  validEmail = async () => {\r\n    const { translate } = this.props;\r\n    const { email } = this.state;\r\n\r\n    this.setState((state) => ({\r\n      email: {\r\n        ...state.email,\r\n        isLoading: true,\r\n      },\r\n    }));\r\n\r\n    const isValid = !email.value || (await this.isValid(email.value));\r\n    const errorText = isValid ? \"\" : translate(\"field.emailInUse\");\r\n\r\n    this.setState((state) => ({\r\n      email: { ...state.email, errorText, isLoading: false },\r\n    }));\r\n\r\n    return isValid;\r\n  };\r\n\r\n  isValid = async (username) => {\r\n    const { user } = this.props;\r\n\r\n    const ids = await this.props.user.checkUser(username);\r\n    return (\r\n      ids.length === 0 || (ids.length === 1 && ids[0]._id === user.user._id)\r\n    );\r\n  };\r\n\r\n  validUsername = async () => {\r\n    const { translate } = this.props;\r\n    const { username } = this.state;\r\n\r\n    this.setState((state) => ({\r\n      username: {\r\n        ...state.username,\r\n        isLoading: true,\r\n      },\r\n    }));\r\n\r\n    const isValid = !username.value || (await this.isValid(username.value));\r\n    const errorText = isValid ? \"\" : translate(\"field.usernameInUse\");\r\n\r\n    this.setState((state) => ({\r\n      username: { ...state.username, errorText, isLoading: false },\r\n    }));\r\n\r\n    return isValid;\r\n  };\r\n\r\n  handleRemoveAvatar = () => {\r\n    this.setState({ avatar: null, avatarChanged: true });\r\n  };\r\n\r\n  handleChangeAvatar = (event) => {\r\n    event.preventDefault();\r\n\r\n    const reader = new FileReader();\r\n    reader.onloadend = async () => {\r\n      let data = await this.props.utils.resize(reader.result, 320);\r\n      data = data.split(\",\").pop();\r\n      this.setState({ avatar: data, avatarChanged: true });\r\n    };\r\n    reader.readAsDataURL(event.target.files[0]);\r\n\r\n    // zabezpecuje volanie onChange aj pri uploadovani rovnakeho suboru\r\n    // -> po ulozeni formularu nezavolalo onChange opat, v pripade nahrania\r\n    // -> rovnakeho suboru ako predtym\r\n    event.target.value = \"\";\r\n  };\r\n\r\n  generateSecret = async () => {\r\n    try {\r\n      await this.props.user.generateSecret();\r\n      this.handleOpenSecretDialog();\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  handleOpenSecretDialog = () => {\r\n    this.setState({ isOpenSecretDialog: true });\r\n  };\r\n\r\n  handleCloseSecretDialog = () => {\r\n    this.setState({ isOpenSecretDialog: false });\r\n  };\r\n\r\n  handleSubmit = async () => {\r\n    const {\r\n      password,\r\n      name,\r\n      username,\r\n      email,\r\n      tel,\r\n      address,\r\n      city,\r\n      postCode,\r\n      country,\r\n      otp,\r\n      avatar,\r\n      avatarChanged,\r\n    } = this.state;\r\n\r\n    const isValid =\r\n      this.validPasswords() &&\r\n      (await this.validEmail()) &&\r\n      (await this.validUsername());\r\n    if (!isValid) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await this.props.user.updateUser(this.state._id, {\r\n        email: email.value,\r\n        password: password.value,\r\n        name,\r\n        username: username.value,\r\n        tel: tel.value,\r\n        address,\r\n        city,\r\n        postCode,\r\n        country,\r\n        otp,\r\n        avatar: avatarChanged ? avatar : null,\r\n      });\r\n      this.setState(buildState(this.props.user.user));\r\n      this.props.user.showMsg(\"Ok.\");\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes, translate, locale, disabled } = this.props;\r\n    const { user } = this.props.user;\r\n    const connectTitle = translate(\"connect\");\r\n    const {\r\n      email,\r\n      tel,\r\n      otp,\r\n      address,\r\n      city,\r\n      postCode,\r\n      country,\r\n      avatar,\r\n      name,\r\n      bio,\r\n      notifications,\r\n      notifyAboutMe,\r\n      notifyAboutFollowers,\r\n      notifyNews,\r\n    } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <Form onSubmit={this.handleSubmit} disabled={disabled}>\r\n          <p>Nastavenia</p>\r\n          <div className={classes.row}>\r\n            <div className={classes.col}>\r\n              <div className={classes.center}>\r\n                <Avatar\r\n                  className={classes.bigAvatar}\r\n                  value={avatar}\r\n                  onClick={() => {\r\n                    console.log(\"Avatar clicked\");\r\n                  }}\r\n                  tooltip=\"Avatar\"\r\n                  placement=\"right\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className={classes.col}>\r\n              <p>\r\n                Tvoja profilová fotrografia je verejná no slúži aj na\r\n                schvalovanie výstupov\r\n              </p>\r\n              <Button variant=\"contained\" component=\"label\">\r\n                {translate(\"changePhoto\")}\r\n                <input\r\n                  hidden\r\n                  type=\"file\"\r\n                  accept=\"image/jpeg\"\r\n                  onChange={this.handleChangeAvatar}\r\n                />\r\n              </Button>\r\n              <Button variant=\"outlined\" onClick={this.handleRemoveAvatar}>\r\n                {translate(\"removePhoto\")}\r\n              </Button>\r\n            </div>\r\n          </div>\r\n          <GoogleButton\r\n            config={config.google}\r\n            disabled={disabled || user.google}\r\n            title={user.google ? user.google.name : connectTitle}\r\n          />\r\n          <GithubButton\r\n            config={config._github}\r\n            disabled={disabled || user.github}\r\n            title={user.github ? user.github.name : connectTitle}\r\n          />\r\n          <FbButton\r\n            config={config.fb}\r\n            disabled={disabled || user.fb}\r\n            title={user.fb ? user.fb.name : connectTitle}\r\n          />\r\n          <div>\r\n            <StravaButton\r\n              config={config.strava}\r\n              disabled={disabled}\r\n              title={user.strava ? translate(\"sync\") : connectTitle}\r\n            />\r\n            {config.strava && user.strava && user.strava.synced && (\r\n              <span>\r\n                {\" \"}\r\n                ({translate(\"lastSync\")}{\" \"}\r\n                {new Date(user.strava.synced).toLocaleDateString(locale)}){\" \"}\r\n              </span>\r\n            )}\r\n          </div>\r\n\r\n          <TextField\r\n            value={name}\r\n            field=\"name\"\r\n            onChange={this.handleChange}\r\n            disabled={disabled}\r\n          />\r\n          <TextField\r\n            value={bio}\r\n            field=\"bio\"\r\n            onChange={this.handleChange}\r\n            disabled={disabled}\r\n            rows={3}\r\n            multiline\r\n          />\r\n\r\n          <p className={styles.heading}>Doručovacie údaje</p>\r\n          <TextField\r\n            type=\"email\"\r\n            value={email.value}\r\n            field=\"email.value\"\r\n            onChange={this.handleChange}\r\n            disabled={disabled || email.isLoading}\r\n            onBlur={this.validEmail}\r\n            errorText={email.errorText}\r\n            required\r\n          />\r\n          <TextField\r\n            value={tel.value}\r\n            field=\"tel.value\"\r\n            onChange={this.handleChange}\r\n            onBlur={this.validTelephone}\r\n            disabled={disabled}\r\n            errorText={tel.errorText}\r\n          />\r\n          <TextField\r\n            value={country}\r\n            field=\"country\"\r\n            type=\"country\"\r\n            onChange={this.handleChange}\r\n            disabled={disabled}\r\n          />\r\n          <TextField\r\n            value={city}\r\n            field=\"city\"\r\n            type=\"city\"\r\n            onChange={this.handleChange}\r\n            disabled={disabled}\r\n          />\r\n          <TextField\r\n            value={address}\r\n            field=\"address\"\r\n            type=\"address\"\r\n            onChange={this.handleChange}\r\n            disabled={disabled}\r\n          />\r\n          <TextField\r\n            value={postCode}\r\n            field=\"postCode\"\r\n            type=\"postCode\"\r\n            onChange={this.handleChange}\r\n            disabled={disabled}\r\n          />\r\n          <div className={classes.row}>\r\n            <div className={classes.col}>\r\n              <FormLabel component=\"legend\">\r\n                {translate(\"notifications\")}\r\n              </FormLabel>\r\n              <FormGroup>\r\n                <FormControlLabel\r\n                  control={\r\n                    <Checkbox\r\n                      value={notifyAboutMe}\r\n                      checked={notifyAboutMe}\r\n                      onChange={this.handleChangeCheckBox}\r\n                      name=\"notifyAboutMe\"\r\n                      disabled={!notifications || disabled}\r\n                    />\r\n                  }\r\n                  label={translate(\"notifyAboutMe\")}\r\n                />\r\n                <FormControlLabel\r\n                  control={\r\n                    <Checkbox\r\n                      value={notifyAboutFollowers}\r\n                      checked={notifyAboutFollowers}\r\n                      onChange={this.handleChangeCheckBox}\r\n                      name=\"notifyAboutFollowers\"\r\n                      disabled={!notifications || disabled}\r\n                    />\r\n                  }\r\n                  label={translate(\"notifyAboutFollowers\")}\r\n                />\r\n                <FormControlLabel\r\n                  control={\r\n                    <Checkbox\r\n                      value={notifyNews}\r\n                      onChange={this.handleChangeCheckBox}\r\n                      name=\"notifyNews\"\r\n                      checked={notifyNews}\r\n                      disabled={!notifications || disabled}\r\n                    />\r\n                  }\r\n                  label={translate(\"notifyNews\")}\r\n                />\r\n              </FormGroup>\r\n            </div>\r\n            <div className={classes.col}>\r\n              <div>\r\n                <Switch\r\n                  value={notifications}\r\n                  field=\"notifications\"\r\n                  onChange={this.handleChange}\r\n                  disabled={disabled}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {config[\"2fa\"] && (\r\n            <div className={classes.row}>\r\n              <div className={classes.col}>\r\n                <div>\r\n                  <Switch\r\n                    value={otp}\r\n                    field=\"otp\"\r\n                    onChange={this.handleChange}\r\n                    disabled={disabled}\r\n                  />\r\n                  <Button\r\n                    color=\"primary\"\r\n                    disabled={disabled || !this.state.otp}\r\n                    onClick={this.generateSecret}\r\n                  >\r\n                    {translate(\"generateSecret\")}\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </Form>\r\n        <Dialog\r\n          title={this.props.translate(\"secret\")}\r\n          isOpen={this.state.isOpenSecretDialog}\r\n          onConfirm={this.handleCloseSecretDialog}\r\n        >\r\n          <div className={classes.center}>\r\n            {this.props.user.secret && (\r\n              <img\r\n                src={\"data:image/jpeg;base64,\" + this.props.user.secret.qrCode}\r\n                alt=\"secret\"\r\n                width={320}\r\n                height={320}\r\n              />\r\n            )}\r\n          </div>\r\n        </Dialog>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nFormWrapper.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  disabled: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withStore,\r\n  withUser,\r\n  withUtils,\r\n  withLocalization\r\n)(FormWrapper);\r\n","const permissions = {\n  user: 1,\n  store: 2,\n  doby: 8192\n}\n\nexport default permissions;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Form from \"./Form\";\r\nimport permissions from \"../../permissions\";\r\n\r\nimport withUser from \"../../consumers/withUser\";\r\nimport { withLocalization } from \"../shared/localization\";\r\nimport compose from \"../../compose\";\r\nimport getSharedStyles from \"../../style\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getSharedStyles(theme),\r\n  paper: {\r\n    padding: theme.spacing.unit,\r\n  },\r\n  heading: {\r\n    marginLeft: theme.spacing.unit,\r\n  },\r\n  connected: {\r\n    padding: theme.spacing.unit,\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"flex-start\",\r\n  },\r\n});\r\n\r\nfunction CenteredGrid(props) {\r\n  const { classes } = props;\r\n  const { hasPermission } = props.user;\r\n  const disabled = !hasPermission(permissions.user);\r\n\r\n  return (\r\n    <Grid container>\r\n      <Grid item xs={12}>\r\n        <Paper className={classes.paper}>\r\n          <Form disabled={disabled} />\r\n        </Paper>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nCenteredGrid.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withUser,\r\n  withLocalization\r\n)(CenteredGrid);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\n// import LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n\r\nimport { Redirect } from \"react-router-dom\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport { withLocalization } from '../shared/localization';\r\nimport withStore from \"../../consumers/withStore\";\r\nimport compose from \"../../compose\";\r\nimport config from '../../config';\r\n\r\nconst styles = theme => ({\r\n  main: {\r\n    width: \"100%\",\r\n    display: \"block\", // Fix IE 11 issue.\r\n    marginLeft: theme.spacing.unit * 3,\r\n    marginRight: theme.spacing.unit * 3,\r\n    [theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\r\n      width: 400,\r\n      marginLeft: \"auto\",\r\n      marginRight: \"auto\"\r\n    }\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing.unit * 8,\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme\r\n      .spacing.unit * 3}px`\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing.unit,\r\n    // backgroundColor: theme.palette.secondary.main,\r\n    width: 128,\r\n    height: 128\r\n  },\r\n  loader: {\r\n    marginTop: theme.spacing.unit,\r\n  }\r\n});\r\n\r\nlet _code, _provider, _mutex;\r\nclass OAuthComponent extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const urlParams = new URLSearchParams(this.props.location.search);\r\n    _provider = urlParams.get(\"provider\");\r\n    _code = urlParams.get(\"code\");\r\n  }\r\n\r\n  async componentDidMount() {\r\n    if (_provider && !_mutex) {\r\n      _mutex = true;\r\n      const { user } = this.props;\r\n      try {\r\n        if (user.user) {\r\n          await user.updateOauth(_provider, _code);\r\n          this.props.history.replace('/account');\r\n        }\r\n        else {\r\n          if(!await user.oAuth(_provider, _code)) {\r\n            user.showMsg('Unauthorized');\r\n          }\r\n          this.props.history.replace(config.home);\r\n        }\r\n      }\r\n      catch (error) {\r\n        this.props.user.showError(error);\r\n        this.props.history.replace('/login');\r\n      }\r\n      _mutex = false;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { classes, translate } = this.props;\r\n\r\n    if (!_provider) return <Redirect to={{ pathname: config.home }} />;\r\n    return (\r\n      <main className={classes.main}>\r\n        <CssBaseline />\r\n        <Paper className={classes.paper}>\r\n          <Avatar className={classes.avatar} src={config.logo} />\r\n          <div className={classes.loader}>\r\n            <Typography component=\"h1\" variant=\"h5\">\r\n              {translate('loading')}\r\n            </Typography>\r\n          </div>\r\n        </Paper>\r\n      </main>\r\n    );\r\n  }\r\n}\r\n\r\nOAuthComponent.propTypes = {\r\n  classes: PropTypes.object.isRequired\r\n};\r\n\r\nexport default compose(withStyles(styles), withUser, withStore, withLocalization)(OAuthComponent);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport { withLocalization } from './localization';\r\n\r\nconst styles = theme => ({\r\n  formControl: {\r\n    marginLeft: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit,\r\n    minWidth: 100\r\n  },\r\n});\r\n\r\nfunction TextInputComponent(props) {\r\n  const { classes } = props;\r\n  const label = props.label || props.translate('field.' + props.field);\r\n\r\n  return (\r\n    <FormControl \r\n      className={classes.formControl} \r\n      fullWidth={props.fullWidth} \r\n      required={props.required}\r\n      error={props.errorText && props.errorText !== \"\"}\r\n      style={{width: props.width}}\r\n    >\r\n      <InputLabel htmlFor={props.field}>{label}</InputLabel>\r\n      <Input \r\n        type={props.type === 'new-password' ? 'password' : props.type}\r\n        id={props.field} \r\n        value={props.value || ''} \r\n        onChange={(e) => props.onChange(props.field, e.target.value)} \r\n        placeholder={props.placeholder}\r\n        autoComplete={props.type === 'new-password' ? 'new-password' : null}\r\n        disabled={props.disabled}\r\n        multiline={props.multiline}\r\n        rows={props.rows}\r\n        startAdornment={props.startAdornment}\r\n        inputProps={{\r\n          onBlur: props.onBlur\r\n        }}\r\n      />\r\n      <FormHelperText>{props.errorText}</FormHelperText>\r\n    </FormControl>\r\n  );\r\n}\r\n\r\nTextInputComponent.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  label: PropTypes.string,\r\n  field: PropTypes.string.isRequired,\r\n  value: PropTypes.string,\r\n  onChange: PropTypes.func.isRequired,\r\n  placeholder: PropTypes.string,\r\n  fullWidth: PropTypes.bool,\r\n  required: PropTypes.bool,\r\n  type: PropTypes.string,\r\n  disabled: PropTypes.bool,\r\n  multiline: PropTypes.bool,\r\n  rows: PropTypes.number,\r\n  startAdornment: PropTypes.string,\r\n  onBlur: PropTypes.func,\r\n  errorText: PropTypes.string,\r\n  width: PropTypes.number\r\n};\r\n\r\nexport default withLocalization(withStyles(styles)(TextInputComponent));","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Select from '@material-ui/core/Select';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport { withLocalization } from './localization';\r\nimport classNames from 'classnames';\r\n\r\nconst styles = theme => ({\r\n  formControl: {\r\n    // marginLeft: theme.spacing.unit,\r\n    // marginRight: theme.spacing.unit,\r\n    minWidth: 120\r\n  },\r\n});\r\n\r\nfunction TextInputComponent(props) {\r\n  const { classes, data, textField, required, value, onChange, field, multiple } = props;\r\n  if(required && (value === null || value === undefined || value === '') && data && data.length > 0) {\r\n    onChange(field, data[0]._id);\r\n  }\r\n\r\n  const getText = (selected) => {\r\n    const value = data.find(x => x._id === selected);\r\n    return value ? value[textField] : null\r\n  }\r\n\r\n  const renderValue = selected => {\r\n    if(!multiple) {\r\n      return getText(selected);\r\n    }\r\n    \r\n    return selected.map(s => getText(s)).join(' | ');\r\n  }\r\n\r\n  const label = props.label || props.translate('field.' +props.field);\r\n\r\n  return (\r\n    <FormControl\r\n      className={classNames(classes.formControl, props.className)}\r\n      required={required}\r\n      fullWidth={props.fullWidth}\r\n    >\r\n      {label &&\r\n        <InputLabel htmlFor={props.field}>{label}</InputLabel>\r\n      }\r\n      <Select\r\n        value={props.value !== null ? props.value : ''}\r\n        onChange={(e) => onChange(props.field, e.target.value)}\r\n        id={props.field}\r\n        multiple={props.multiple}\r\n        renderValue={renderValue}\r\n        disabled={props.disabled}\r\n      >\r\n        {(!props.required && !multiple) && \r\n          <MenuItem value=\"\">\r\n            <em>None</em>\r\n          </MenuItem>\r\n        }\r\n        {data.map(x => (\r\n          <MenuItem key={x._id} value={x._id}>\r\n            {multiple &&\r\n              <Checkbox checked={value.find(d => d === x._id) !== undefined} />\r\n            }\r\n            <ListItemText primary={x[textField]} />\r\n          </MenuItem>\r\n        ))}\r\n      </Select>\r\n    </FormControl>\r\n  );\r\n}\r\n\r\nTextInputComponent.propTypes = {\r\n  className: PropTypes.string,\r\n  classes: PropTypes.object.isRequired,\r\n  label: PropTypes.string,\r\n  field: PropTypes.string.isRequired,\r\n  value: PropTypes.string,\r\n  onChange: PropTypes.func.isRequired,\r\n  required: PropTypes.bool,\r\n  data: PropTypes.array.isRequired,\r\n  textField: PropTypes.string.isRequired,\r\n  fullWidth: PropTypes.bool,\r\n  multiple: PropTypes.bool,\r\n  disabled: PropTypes.bool\r\n};\r\n\r\nexport default withLocalization(withStyles(styles)(TextInputComponent));","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport { withLocalization } from './localization';\r\n\r\nconst styles = theme => ({\r\n  formControl: {\r\n    marginLeft: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit,\r\n    minWidth: 80\r\n  },\r\n});\r\n\r\nfunction NumInputComponent(props) {\r\n  const { classes } = props;\r\n  const label = props.label || props.translate('field.' +props.field);\r\n\r\n  return (\r\n    <FormControl \r\n      className={classes.formControl}\r\n      required={props.required}\r\n      fullWidth={props.fullWidth} \r\n      style={{width: props.width}}\r\n    >\r\n      <InputLabel htmlFor={props.field}>{label}</InputLabel>\r\n      <Input \r\n        id={props.field} \r\n        value={props.value ? props.value.toString() : '0'} \r\n        onChange={(e) => props.onChange(props.field, Number(e.target.value))} \r\n        type=\"number\" \r\n        disabled={props.disabled}\r\n        inputProps={{\r\n          min: props.min,\r\n          max: props.max,\r\n          step: props.step || \"any\"\r\n        }}       \r\n      />\r\n    </FormControl>\r\n  );\r\n}\r\n\r\nNumInputComponent.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  label: PropTypes.string,\r\n  field: PropTypes.string.isRequired,\r\n  value: PropTypes.number,\r\n  onChange: PropTypes.func.isRequired,\r\n  placeholder: PropTypes.string,\r\n  min: PropTypes.number,\r\n  max: PropTypes.number,\r\n  step: PropTypes.number,\r\n  required: PropTypes.bool,\r\n  disabled: PropTypes.bool,\r\n  fullWidth: PropTypes.bool,\r\n  width: PropTypes.number\r\n};\r\n\r\nexport default withLocalization(withStyles(styles)(NumInputComponent));","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport TextInput from \"../shared/TextInput\";\nimport Select from \"../shared/Select\";\nimport Form from \"../shared/form/Form\";\nimport Switch from '../shared/Switch';\nimport NumInput from \"../shared/NumInput\";\n\nimport withStore from \"../../consumers/withStore\";\nimport withUser from \"../../consumers/withUser\";\nimport compose from \"../../compose\";\n\nconst styles = theme => ({\n  nameTextInput: {\n    display: \"flex\",\n    flex: 1\n  }\n});\n\nconst INIT_STATE = {\n  name: \"\",\n  enumTypeId: 1,\n  disabled: false,\n  key: 0\n};\n\nclass FormWrapper extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = props.data || INIT_STATE\n  }\n\n  handleChange = (name, value) => {\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = async () => {\n    const {\n      addEnum,\n      refreshEnums,\n      editEnum\n    } = this.props.store;\n\n    try {\n      if (this.state._id) {\n        await editEnum(this.state);\n      } else {\n        await addEnum(this.state);\n      }\n      refreshEnums();\n      this.setState(INIT_STATE);\n      if (this.props.onSubmit) this.props.onSubmit();\n    } catch (error) {\n      this.props.user.showError(error);\n    }\n  };\n\n  render() {\n    const { classes, disabled } = this.props;\n    const { name, enumTypeId, key } = this.state;\n    const { enumTypes } = this.props.store;\n\n    return (\n      <Form \n        onSubmit={this.handleSubmit} \n        inline\n        disabled={disabled}\n      >\n        <div className={classes.nameTextInput}>\n          <TextInput\n            value={name}\n            field=\"name\"\n            onChange={this.handleChange}\n            fullWidth\n            required\n            disabled={disabled}\n          />\n        </div>\n        <Select\n          value={enumTypeId}\n          field=\"enumTypeId\"\n          onChange={this.handleChange}\n          data={enumTypes.data}\n          textField=\"name\"\n          required\n          disabled={disabled}\n        />\n        <NumInput\n          value={key}\n          field=\"key\"\n          onChange={this.handleChange}\n          min={0}\n          step={1}\n          required\n        />\n        <Switch\n          label=\"\"\n          value={this.state.disabled}\n          field=\"disabled\"\n          onChange={this.handleChange}\n        />\n      </Form>\n    );\n  }\n}\n\nFormWrapper.propTypes = {\n  classes: PropTypes.object.isRequired,\n  data: PropTypes.object,\n  onSubmit: PropTypes.func,\n  date: PropTypes.instanceOf(Date),\n  disabled: PropTypes.bool\n};\n\nexport default compose(withStyles(styles), withStore, withUser)(FormWrapper);\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableSortLabel from \"@material-ui/core/TableSortLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport { withLocalization } from \"../localization\";\r\n\r\nclass EnhancedTableHead extends React.Component {\r\n  createSortHandler = property => event => {\r\n    this.props.onRequestSort(event, property);\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      onSelectAllClick,\r\n      sort,\r\n      numSelected,\r\n      rowCount,\r\n      rows,\r\n      sortable,\r\n      translate\r\n    } = this.props;\r\n\r\n    return (\r\n      <TableHead>\r\n        <TableRow>\r\n          <TableCell padding=\"checkbox\">\r\n            <Checkbox\r\n              indeterminate={numSelected > 0 && numSelected < rowCount}\r\n              checked={numSelected === rowCount}\r\n              onChange={onSelectAllClick}\r\n            />\r\n          </TableCell>\r\n          {rows.map(row => {\r\n            const label = row.label || translate(`field.${row.idField || row.field}`)\r\n\r\n            return (\r\n              <TableCell\r\n                key={row.field}\r\n                align={row.type === \"num\" ? \"right\" : \"left\"}\r\n                padding={row.disablePadding ? \"none\" : \"default\"}\r\n                sortDirection={sort.field === row.field ? sort.dir : false}\r\n              >\r\n                {sortable === false || row.sortable === false ? (\r\n                  label\r\n                ) : (\r\n                  <Tooltip\r\n                    title={translate(\"table.sort\")}\r\n                    placement={\r\n                      row.type === \"num\" ? \"bottom-end\" : \"bottom-start\"\r\n                    }\r\n                    enterDelay={300}\r\n                  >\r\n                    <TableSortLabel\r\n                      active={sort.field === row.field}\r\n                      direction={sort.dir}\r\n                      onClick={this.createSortHandler(row.field)}\r\n                    >\r\n                      {label}\r\n                    </TableSortLabel>\r\n                  </Tooltip>\r\n                )}\r\n              </TableCell>\r\n            );\r\n          }, this)}\r\n          <TableCell padding=\"none\"></TableCell>\r\n        </TableRow>\r\n      </TableHead>\r\n    );\r\n  }\r\n}\r\n\r\nEnhancedTableHead.propTypes = {\r\n  numSelected: PropTypes.number.isRequired,\r\n  onRequestSort: PropTypes.func.isRequired,\r\n  onSelectAllClick: PropTypes.func.isRequired,\r\n  sort: PropTypes.object.isRequired,\r\n  rowCount: PropTypes.number.isRequired,\r\n  rows: PropTypes.array.isRequired,\r\n  sortable: PropTypes.bool\r\n};\r\n\r\nexport default withLocalization(EnhancedTableHead);\r\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport classNames from 'classnames';\nimport Typography from '@material-ui/core/Typography';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport CloudDownloadIcon from '@material-ui/icons/CloudDownload';\nimport FilterListIcon from '@material-ui/icons/FilterList';\nimport RefreshIcon from '@material-ui/icons/Refresh';\nimport { lighten } from '@material-ui/core/styles/colorManipulator';\nimport { withLocalization } from '../localization';\n\nconst toolbarStyles = theme => ({\n  root: {\n    paddingRight: theme.spacing.unit,\n  },\n  highlight:\n    theme.palette.type === 'light'\n      ? {\n        color: theme.palette.secondary.main,\n        backgroundColor: lighten(theme.palette.secondary.light, 0.85),\n      }\n      : {\n        color: theme.palette.text.primary,\n        backgroundColor: theme.palette.secondary.dark,\n      },\n  spacer: {\n    flex: '1 1 auto',\n  },\n  actions: {\n    color: theme.palette.text.secondary,\n  },\n  title: {\n    flex: '0 0 auto',\n  },\n});\n\nlet EnhancedTableToolbar = props => {\n  const { numSelected, classes, onDelete, onFilter, title, onExport, isFilterSet, actions, onRefresh, exportDisabled, translate } = props;\n\n  return (\n    <Toolbar\n      className={classNames(classes.root, {\n        [classes.highlight]: numSelected > 0,\n      })}\n    >\n      <div className={classes.title}>\n        {numSelected > 0 ? (\n          <Typography color=\"inherit\" variant=\"subtitle1\">\n            {numSelected} {translate('table.selected')}\n          </Typography>\n        ) : (\n            <Typography variant=\"h6\" id=\"tableTitle\">\n              {title}\n            </Typography>\n          )}\n      </div>\n      <div className={classes.spacer} />\n      <div className={classes.actions}>\n        {actions}\n        {numSelected > 0 ? (\n          <Tooltip title={translate('table.delete')}>\n            <IconButton aria-label={translate('table.delete')} onClick={onDelete}>\n              <DeleteIcon />\n            </IconButton>\n          </Tooltip>\n        ) : (\n            <Tooltip title={translate('table.filter')}>\n              <IconButton aria-label={translate('table.filter')} color={isFilterSet ? \"primary\" : \"default\"} onClick={onFilter}>\n                <FilterListIcon />\n              </IconButton>\n            </Tooltip>\n          )}\n        <Tooltip title={translate('table.export')}>\n          <IconButton aria-label={translate('table.export')} onClick={onExport} disabled={exportDisabled}>\n            <CloudDownloadIcon />\n          </IconButton>\n        </Tooltip>\n        <Tooltip title={translate('table.refresh')}>\n          <IconButton aria-label={translate('table.refresh')} onClick={onRefresh}>\n            <RefreshIcon />\n          </IconButton>\n        </Tooltip>\n      </div>\n    </Toolbar>\n  );\n};\n\nEnhancedTableToolbar.propTypes = {\n  classes: PropTypes.object.isRequired,\n  numSelected: PropTypes.number.isRequired,\n  onDelete: PropTypes.func.isRequired,\n  onFilter: PropTypes.func.isRequired,\n  title: PropTypes.string.isRequired,\n  onExport: PropTypes.func.isRequired,\n  isFilterSet: PropTypes.bool.isRequired,\n  actions: PropTypes.element,\n  exportDisabled: PropTypes.bool\n};\n\nexport default withLocalization(withStyles(toolbarStyles)(EnhancedTableToolbar));","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { withLocalization } from './localization';\n\nfunction AlertDialog(props) {\n  return (\n    <Dialog\n      open={props.isOpen}\n      onClose={props.onClose}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n    >\n      <DialogTitle id=\"alert-dialog-title\">{props.title}</DialogTitle>\n      <DialogContent>\n        <DialogContentText id=\"alert-dialog-description\">\n          {props.description}\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={props.onClose} color=\"primary\">\n          {props.translate('dialog.cancel')}\n        </Button>\n        <Button onClick={props.onConfirm} color=\"primary\" autoFocus>\n          {props.translate('dialog.ok')}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nAlertDialog.propTypes = {\n  isOpen: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onConfirm: PropTypes.func.isRequired,\n  title: PropTypes.string.isRequired,\n  description: PropTypes.string.isRequired\n}\n\nexport default withLocalization(AlertDialog);","import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { DatePicker } from \"material-ui-pickers\";\r\nimport { withLocalization } from './localization';\r\n\r\nconst styles = theme => ({\r\n  formControl: {\r\n    marginLeft: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit,\r\n    minWidth: 160\r\n  },\r\n});\r\n\r\nconst getMaskAndFormat = (locale) => {\r\n  switch(locale) {\r\n    case 'sk-SK': {\r\n      return {\r\n        format: \"DD.M.YYYY\",\r\n        mask:  [/\\d/, /\\d/, \".\", /\\d/, \".\", /\\d/, /\\d/, /\\d/, /\\d/]\r\n      };\r\n    }\r\n  \r\n    case 'en-US':\r\n    default: {\r\n      return {\r\n        format: \"MM/DD/YYYY\",\r\n        mask:  [/\\d/, /\\d/, \"/\", /\\d/, /\\d/, \"/\", /\\d/, /\\d/, /\\d/, /\\d/]\r\n      };\r\n    }\r\n  }\r\n}\r\n\r\n\r\nfunction DatePickerComponent(props) {\r\n  const { classes } = props;\r\n  const { format, mask } = getMaskAndFormat(props.locale);\r\n\r\n  const label = props.label || props.translate('field.' +props.field);\r\n  return (\r\n    <DatePicker\r\n      className={classes.formControl}\r\n      keyboard\r\n      label={label}\r\n      format={format}\r\n      clearable={!props.required}\r\n      mask={value =>\r\n        // handle clearing outside if value can be changed outside of the component\r\n        value ? mask : []\r\n      }\r\n      value={props.value || null}\r\n      onChange={(value) => props.onChange(props.field, value ? value.toDate() : null)}\r\n      disableOpenOnEnter\r\n      animateYearScrolling={false}\r\n      style={{flex: 1, display: 'flex'}}\r\n      disabled={props.disabled}\r\n      okLabel={props.translate('dialog.ok')}\r\n      cancelLabel={props.translate('dialog.cancel')}\r\n    />\r\n  );\r\n}\r\n\r\nDatePickerComponent.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  label: PropTypes.string,\r\n  field: PropTypes.string.isRequired,\r\n  value: PropTypes.instanceOf(Date),\r\n  onChange: PropTypes.func.isRequired,\r\n  placeholder: PropTypes.string,\r\n  required: PropTypes.bool,\r\n  disabled: PropTypes.bool\r\n};\r\n\r\nexport default withLocalization(withStyles(styles)(DatePickerComponent));","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DatePicker from \"../shared/DatePicker\";\r\nimport NumInput from \"../shared/NumInput\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport TextInput from \"./TextInput\";\r\nimport Select from \"./Select\";\r\nimport moment from \"moment\";\r\n\r\nexport const buildFilters = (rows, f, state) => {\r\n  const filters = [];\r\n\r\n  if (state) {\r\n    let value, field;\r\n\r\n    f.forEach((x) => {\r\n      field = x.field;\r\n      value = state[field];\r\n      if (value) {\r\n        filters.push(...x.data.find((y) => y._id === value).filters);\r\n      }\r\n    });\r\n\r\n    rows.forEach((x) => {\r\n      switch (x.type) {\r\n        case \"num\":\r\n          field = x.field;\r\n          value = state[field];\r\n          if (value) {\r\n            filters.push({ field, op: \"eq\", value });\r\n          }\r\n          break;\r\n\r\n        case \"bool\":\r\n          field = x.field;\r\n          value = state[field];\r\n          if (value) {\r\n            filters.push({\r\n              field,\r\n              op: \"eq\",\r\n              value: value === 1 ? true : false,\r\n            });\r\n          }\r\n          break;\r\n\r\n        case \"date\":\r\n        case \"datetime\":\r\n          field = x.field;\r\n          value = state[field];\r\n          if (value) {\r\n            filters.push({\r\n              field,\r\n              op: \"lte\",\r\n              value: moment(value).endOf(\"day\").toDate(),\r\n            });\r\n            filters.push({\r\n              field,\r\n              op: \"gte\",\r\n              value: moment(value).startOf(\"day\").toDate(),\r\n            });\r\n          }\r\n          break;\r\n\r\n        case \"enum\":\r\n        case \"array\":\r\n          field = x.idField;\r\n          value = state[field];\r\n          if (value && value.length > 0) {\r\n            filters.push({ field, op: \"in\", value });\r\n          }\r\n          break;\r\n\r\n        default:\r\n          field = x.field;\r\n          value = state[field];\r\n          if (value) {\r\n            filters.push({ field, op: \"regex\", value });\r\n          }\r\n          break;\r\n      }\r\n    });\r\n  }\r\n\r\n  return filters;\r\n};\r\n\r\nclass FilterDialog extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = props.defaultState || {};\r\n  }\r\n\r\n  handleChange = (name, value) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleClear = () => {\r\n    const state = {};\r\n    this.props.filters.forEach((x) => {\r\n      state[x.field] = null;\r\n    });\r\n\r\n    this.props.rows.forEach((x) => {\r\n      const field =\r\n        x.type === \"enum\" || x.type === \"array\" ? x.idField : x.field;\r\n      state[field] = null;\r\n    });\r\n    this.props.onConfirm(null);\r\n    this.setState(state);\r\n  };\r\n\r\n  handleSubmit = () => {\r\n    this.props.onConfirm(this.state);\r\n  };\r\n\r\n  buildFilter = (x) => {\r\n    if (x.filterable === false) {\r\n      return null;\r\n    }\r\n\r\n    switch (x.type) {\r\n      case \"enum\":\r\n      case \"array\":\r\n        const textField = x.textField || x.field.split(\".\").pop();\r\n        const data = this.props.store[x.data].data;\r\n        return (\r\n          <Select\r\n            key={x.field}\r\n            label={x.label}\r\n            value={this.state[x.idField] || []}\r\n            field={x.idField}\r\n            onChange={this.handleChange}\r\n            data={x.getData ? x.getData(data) : data}\r\n            textField={textField}\r\n            multiple\r\n          />\r\n        );\r\n      case \"bool\":\r\n        return (\r\n          <Select\r\n            key={x.field}\r\n            label={x.label}\r\n            value={this.state[x.field]}\r\n            field={x.field}\r\n            onChange={this.handleChange}\r\n            data={[\r\n              { _id: 1, name: \"T\" },\r\n              { _id: -1, name: \"F\" },\r\n            ]}\r\n            textField={\"name\"}\r\n          />\r\n        );\r\n      case \"date\":\r\n      case \"datetime\":\r\n        return (\r\n          <DatePicker\r\n            key={x.field}\r\n            label={x.label}\r\n            value={this.state[x.field]}\r\n            field={x.field}\r\n            onChange={this.handleChange}\r\n          />\r\n        );\r\n      case \"num\":\r\n        return (\r\n          <NumInput\r\n            key={x.field}\r\n            label={x.label}\r\n            value={this.state[x.field]}\r\n            field={x.field}\r\n            onChange={this.handleChange}\r\n            min={0}\r\n          />\r\n        );\r\n      default:\r\n        return (\r\n          <TextInput\r\n            key={x.field}\r\n            label={x.label}\r\n            value={this.state[x.field]}\r\n            field={x.field}\r\n            onChange={this.handleChange}\r\n          />\r\n        );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const props = this.props;\r\n\r\n    return (\r\n      <Dialog\r\n        disableBackdropClick\r\n        disableEscapeKeyDown\r\n        open={props.isOpen}\r\n        onClose={props.onClose}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n        fullWidth\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">Filters</DialogTitle>\r\n        {this.props.filters.map((f) => (\r\n          <Select\r\n            value={this.state[f.field]}\r\n            field={f.field}\r\n            label={f.label}\r\n            onChange={this.handleChange}\r\n            data={f.data}\r\n            textField=\"name\"\r\n          />\r\n        ))}\r\n        {props.rows.map((x) => this.buildFilter(x))}\r\n        <DialogActions>\r\n          <Button onClick={this.handleClear} color=\"primary\">\r\n            Clear\r\n          </Button>\r\n          <Button onClick={this.handleSubmit} color=\"primary\" autoFocus>\r\n            OK\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    );\r\n  }\r\n}\r\n\r\nFilterDialog.propTypes = {\r\n  isOpen: PropTypes.bool.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n  onConfirm: PropTypes.func.isRequired,\r\n  rows: PropTypes.array.isRequired,\r\n  store: PropTypes.object.isRequired,\r\n  filters: PropTypes.array.isRequired,\r\n  defaultState: PropTypes.object,\r\n};\r\n\r\nexport default FilterDialog;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport MoreIcon from \"@material-ui/icons/MoreVert\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport AlertDialog from \"./AlertDialog\";\r\nimport { withLocalization } from \"./localization\";\r\n\r\nclass ActionsMenu extends React.Component {\r\n  state = {\r\n    anchorEl: null,\r\n    isOpenDelete: false,\r\n  };\r\n\r\n  handleOpenMenu = (event) => {\r\n    this.setState({ anchorEl: event.currentTarget });\r\n  };\r\n\r\n  handleCloseMenu = () => {\r\n    this.setState({ anchorEl: null });\r\n  };\r\n\r\n  handleCloseDelete = () => {\r\n    this.setState({ isOpenDelete: false });\r\n  };\r\n\r\n  handleOpenClone = () => {\r\n    this.setState({ isOpenDelete: true, anchorEl: null });\r\n  };\r\n\r\n  handleOpenDelete = () => {\r\n    this.setState({ isOpenDelete: true, anchorEl: null });\r\n  };\r\n\r\n  onDelete = () => {\r\n    this.props.onDelete();\r\n    this.handleCloseDelete();\r\n  };\r\n\r\n  onEdit = () => {\r\n    this.props.onEdit();\r\n    this.handleCloseMenu();\r\n  };\r\n\r\n  onClone = () => {\r\n    this.props.onClone();\r\n    this.handleCloseMenu();\r\n  };\r\n\r\n  render() {\r\n    const { anchorEl, isOpenDelete } = this.state;\r\n    const { translate } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <IconButton\r\n          aria-owns={anchorEl ? \"actions-menu\" : undefined}\r\n          aria-haspopup=\"true\"\r\n          edge=\"end\"\r\n          aria-label=\"actions\"\r\n          onClick={this.handleOpenMenu}\r\n          disabled={this.props.disabled}\r\n        >\r\n          <MoreIcon />\r\n        </IconButton>\r\n        <Menu\r\n          id=\"actions-menu\"\r\n          anchorEl={anchorEl}\r\n          open={Boolean(anchorEl)}\r\n          onClose={this.handleCloseMenu}\r\n        >\r\n          <MenuItem onClick={this.onEdit}>{translate(\"table.edit\")}</MenuItem>\r\n          {this.props.onClone && (\r\n            <MenuItem onClick={this.onClone}>\r\n              {translate(\"table.clone\")}\r\n            </MenuItem>\r\n          )}\r\n          <MenuItem onClick={this.handleOpenDelete}>\r\n            {translate(\"table.delete\")}\r\n          </MenuItem>\r\n        </Menu>\r\n        <AlertDialog\r\n          isOpen={isOpenDelete}\r\n          onClose={this.handleCloseDelete}\r\n          onConfirm={this.onDelete}\r\n          title={translate(\"table.delete\")}\r\n          description={translate(\"table.sure\")}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nActionsMenu.propTypes = {\r\n  onDelete: PropTypes.func.isRequired,\r\n  onEdit: PropTypes.func.isRequired,\r\n  disabled: PropTypes.bool.isRequired,\r\n  onClone: PropTypes.func,\r\n};\r\n\r\nexport default withLocalization(ActionsMenu);\r\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst styles = theme => ({\n  progress: {\n    backgroundColor: 'white',\n    opacity: 0.8,\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    width: '100%',\n    height: '100%',\n    zIndex: 1800,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center'\n  }\n});\n\nfunction Progress(props) {\n  const { classes, isLoading } = props;\n\n  if(isLoading) {\n    return (\n      <div className={classes.progress}>\n        <CircularProgress />\n      </div>\n    );\n  }\n  else {\n    return null;\n  }\n}\n\nProgress.propTypes = {\n  isLoading: PropTypes.bool.isRequired\n};\n\nexport default withStyles(styles)(Progress);","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TablePagination from \"@material-ui/core/TablePagination\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport EnhancedTableHead from \"./TableHead\";\r\nimport EnhancedTableToolbar from \"./TableToolbar\";\r\nimport AlertDialog from \"../AlertDialog\";\r\nimport FilterDialog, { buildFilters } from \"../FilterDialog\";\r\nimport ActionsMenu from \"../ActionsMenu\";\r\nimport Progress from \"../Progress\";\r\nimport { CSVLink } from \"react-csv\";\r\nimport _ from \"lodash\";\r\nimport { withLocalization } from \"../localization\";\r\n\r\nconst styles = (theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n  },\r\n  table: {\r\n    // minWidth: 1020,\r\n  },\r\n  tableWrapper: {\r\n    overflowX: \"auto\",\r\n    position: \"relative\",\r\n  },\r\n});\r\n\r\nlet _headers = [];\r\nclass EnhancedTable extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      selected: [],\r\n      page: 0,\r\n      rowsPerPage: 5,\r\n      filters: buildFilters(props.rows, props.filters, props.defaultFilters),\r\n      sort: props.defaultSort || { field: \"_id\", dir: \"asc\" },\r\n      isOpenDelete: false,\r\n      isOpenFilter: false,\r\n      filter: null,\r\n      exported: [],\r\n    };\r\n\r\n    this.exportRef = React.createRef();\r\n  }\r\n\r\n  handleRequestSort = (event, property) => {\r\n    const field = property;\r\n    let dir = \"desc\";\r\n\r\n    if (this.state.sort.field === property && this.state.sort.dir === \"desc\") {\r\n      dir = \"asc\";\r\n    }\r\n\r\n    const sort = { field, dir };\r\n    const { filters, page, rowsPerPage } = this.state;\r\n    this.onChange(filters, page, rowsPerPage, sort);\r\n    this.setState({ sort });\r\n  };\r\n\r\n  handleSelectAllClick = (event) => {\r\n    if (event.target.checked) {\r\n      const data = this.props.store[this.props.data].data;\r\n      this.setState((state) => ({\r\n        selected: data\r\n          .filter((n) => this.props.isDisabled(n) === false)\r\n          .map((n) => n._id),\r\n      }));\r\n      return;\r\n    }\r\n    this.setState({ selected: [] });\r\n  };\r\n\r\n  handleClick = (id) => {\r\n    const { selected } = this.state;\r\n    const selectedIndex = selected.indexOf(id);\r\n    let newSelected = [];\r\n\r\n    if (selectedIndex === -1) {\r\n      newSelected = newSelected.concat(selected, id);\r\n    } else if (selectedIndex === 0) {\r\n      newSelected = newSelected.concat(selected.slice(1));\r\n    } else if (selectedIndex === selected.length - 1) {\r\n      newSelected = newSelected.concat(selected.slice(0, -1));\r\n    } else if (selectedIndex > 0) {\r\n      newSelected = newSelected.concat(\r\n        selected.slice(0, selectedIndex),\r\n        selected.slice(selectedIndex + 1)\r\n      );\r\n    }\r\n\r\n    this.setState({ selected: newSelected });\r\n  };\r\n\r\n  handleChangePage = (event, page) => {\r\n    const { filters, rowsPerPage, sort } = this.state;\r\n    this.onChange(filters, page, rowsPerPage, sort);\r\n    this.setState({ page });\r\n  };\r\n\r\n  handleChangeRowsPerPage = (event) => {\r\n    const rowsPerPage = event.target.value;\r\n    const { filters, page, sort } = this.state;\r\n    this.onChange(filters, page, rowsPerPage, sort);\r\n    this.setState({ rowsPerPage });\r\n  };\r\n\r\n  isSelected = (id) => this.state.selected.indexOf(id) !== -1;\r\n\r\n  onChange = (filters, page, rowsPerPage, sort) => {\r\n    this.props.onChange(\r\n      filters,\r\n      { limit: rowsPerPage, skip: rowsPerPage * page },\r\n      sort,\r\n      true\r\n    );\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    const { filters, page, rowsPerPage, sort } = this.state;\r\n    this.onChange(filters, page, rowsPerPage, sort);\r\n  };\r\n\r\n  handleOpenFilter = () => {\r\n    this.setState({ isOpenFilter: true });\r\n  };\r\n\r\n  handleCloseFilter = () => {\r\n    this.setState({ isOpenFilter: false });\r\n  };\r\n\r\n  handleConfirmFilter = (state) => {\r\n    const filters = buildFilters(this.props.rows, this.props.filters, state);\r\n    const page = 0;\r\n    const { rowsPerPage, sort } = this.state;\r\n    this.onChange(filters, page, rowsPerPage, sort);\r\n    this.setState({ filters, page, isOpenFilter: false });\r\n  };\r\n\r\n  onDeleteMultiple = async () => {\r\n    const { selected, filters, page, rowsPerPage, sort } = this.state;\r\n    await Promise.all(selected.map((id) => this.props.onDelete(id)));\r\n    this.onChange(filters, page, rowsPerPage, sort);\r\n    this.setState({ selected: [] });\r\n    this.handleCloseDelete();\r\n  };\r\n\r\n  strToDate = (str) => {\r\n    const date = new Date(str);\r\n    return date.toLocaleDateString(this.props.locale);\r\n  };\r\n\r\n  strToDateTime = (str) => {\r\n    const date = new Date(str);\r\n    return date.toLocaleString(this.props.locale, {\r\n      hour12: false,\r\n      year: \"numeric\",\r\n      month: \"numeric\",\r\n      day: \"numeric\",\r\n      hour: \"2-digit\",\r\n      minute: \"2-digit\",\r\n    });\r\n  };\r\n\r\n  getValue = (n, row) => {\r\n    const value = _.get(n, row.field);\r\n    if (row.cell) {\r\n      return row.cell(n);\r\n    }\r\n\r\n    switch (row.type) {\r\n      case \"date\":\r\n        return this.strToDate(value);\r\n      case \"datetime\":\r\n        return this.strToDateTime(value);\r\n      case \"bool\":\r\n        return value ? \"T\" : \"F\";\r\n      case \"array\":\r\n        return value.map((s) => s[row.textField]).join(\" | \");\r\n      default:\r\n        return value;\r\n    }\r\n  };\r\n\r\n  onDeleteSingle = async (id) => {\r\n    const { filters, page, rowsPerPage, sort } = this.state;\r\n    await this.props.onDelete(id);\r\n    this.onChange(filters, page, rowsPerPage, sort);\r\n  };\r\n\r\n  handleCloseDelete = () => {\r\n    this.setState({ isOpenDelete: false });\r\n  };\r\n\r\n  handleOpenDelete = () => {\r\n    this.setState({ isOpenDelete: true });\r\n  };\r\n\r\n  onExport = async () => {\r\n    const { filters, sort } = this.state;\r\n    _headers = [];\r\n    this.props.rows.forEach((x) => {\r\n      if (x.exportable !== false) {\r\n        const field = x.idField || x.field;\r\n        _headers.push({\r\n          label: this.props.translate(\"field.\" + field),\r\n          key: x.field,\r\n        });\r\n      }\r\n    });\r\n    const exported = await this.props.onChange(filters, undefined, sort, false);\r\n    if (exported) {\r\n      this.setState({ exported: exported.data });\r\n      this.exportRef.current.link.click();\r\n    }\r\n  };\r\n\r\n  handleRefresh = () => {\r\n    const { filters, page, rowsPerPage, sort } = this.state;\r\n    this.onChange(filters, page, rowsPerPage, sort, true);\r\n  };\r\n\r\n  render() {\r\n    const { classes, rows, sortable, title, translate } = this.props;\r\n    const {\r\n      selected,\r\n      rowsPerPage,\r\n      page,\r\n      sort,\r\n      isOpenDelete,\r\n      isOpenFilter,\r\n    } = this.state;\r\n    const data = this.props.store[this.props.data];\r\n    const emptyRows =\r\n      rowsPerPage - Math.min(rowsPerPage, data.total - page * rowsPerPage);\r\n\r\n    return (\r\n      <Paper className={classes.root}>\r\n        <EnhancedTableToolbar\r\n          numSelected={selected.length}\r\n          onDelete={this.handleOpenDelete}\r\n          onExport={this.onExport}\r\n          onFilter={this.handleOpenFilter}\r\n          title={title}\r\n          isFilterSet={this.state.filters.length > 0}\r\n          actions={this.props.actions}\r\n          onRefresh={this.handleRefresh}\r\n          exportDisabled={!this.props.filename}\r\n        />\r\n        <div className={classes.tableWrapper}>\r\n          <Progress isLoading={data.isLoading} />\r\n          <Table\r\n            className={classes.table}\r\n            aria-labelledby=\"tableTitle\"\r\n            size=\"small\"\r\n          >\r\n            <EnhancedTableHead\r\n              numSelected={selected.length}\r\n              sort={sort}\r\n              onSelectAllClick={this.handleSelectAllClick}\r\n              onRequestSort={this.handleRequestSort}\r\n              rowCount={data.total}\r\n              rows={rows}\r\n              sortable={sortable}\r\n            />\r\n            <TableBody>\r\n              {data.data.map((n) => {\r\n                const isSelected = this.isSelected(n._id);\r\n                const disabled = this.props.isDisabled(n);\r\n                return (\r\n                  <TableRow\r\n                    hover\r\n                    // onClick={event => this.handleClick(n._id)}\r\n                    role=\"checkbox\"\r\n                    aria-checked={isSelected}\r\n                    tabIndex={-1}\r\n                    key={n._id}\r\n                    selected={isSelected}\r\n                  >\r\n                    <TableCell padding=\"checkbox\">\r\n                      <Checkbox\r\n                        checked={isSelected}\r\n                        onClick={(event) => this.handleClick(n._id)}\r\n                        disabled={disabled}\r\n                      />\r\n                    </TableCell>\r\n\r\n                    {rows.map((row) => (\r\n                      <TableCell\r\n                        key={row.field}\r\n                        align={row.type === \"num\" ? \"right\" : \"left\"}\r\n                        padding={row.disablePadding ? \"none\" : \"default\"}\r\n                      >\r\n                        {this.getValue(n, row)}\r\n                      </TableCell>\r\n                    ))}\r\n                    <TableCell>\r\n                      <ActionsMenu\r\n                        onDelete={() => this.onDeleteSingle(n._id)}\r\n                        onEdit={() => this.props.onEdit(n)}\r\n                        onClone={\r\n                          this.props.onClone\r\n                            ? () => this.props.onClone(n)\r\n                            : undefined\r\n                        }\r\n                        disabled={disabled}\r\n                      />\r\n                    </TableCell>\r\n                  </TableRow>\r\n                );\r\n              })}\r\n              {emptyRows > 0 && (\r\n                <TableRow style={{ height: 49 * emptyRows }}>\r\n                  <TableCell colSpan={6} />\r\n                </TableRow>\r\n              )}\r\n            </TableBody>\r\n          </Table>\r\n        </div>\r\n        <TablePagination\r\n          labelRowsPerPage={translate(\"table.rowsPerPage\")}\r\n          labelDisplayedRows={({ from, to, count }) =>\r\n            `${from}-${to} ${translate(\"table.of\")} ${count}`\r\n          }\r\n          rowsPerPageOptions={[5, 10, 25]}\r\n          component=\"div\"\r\n          count={data.total}\r\n          rowsPerPage={rowsPerPage}\r\n          page={page}\r\n          backIconButtonProps={{\r\n            \"aria-label\": translate(\"table.previousPage\"),\r\n          }}\r\n          nextIconButtonProps={{\r\n            \"aria-label\": translate(\"table.nextPage\"),\r\n          }}\r\n          onChangePage={this.handleChangePage}\r\n          onChangeRowsPerPage={this.handleChangeRowsPerPage}\r\n        />\r\n        <AlertDialog\r\n          isOpen={isOpenDelete}\r\n          onClose={this.handleCloseDelete}\r\n          onConfirm={this.onDeleteMultiple}\r\n          title={translate(\"table.delete\")}\r\n          description={translate(\"table.sure\")}\r\n        />\r\n        <FilterDialog\r\n          isOpen={isOpenFilter}\r\n          onClose={this.handleCloseFilter}\r\n          onConfirm={this.handleConfirmFilter}\r\n          store={this.props.store}\r\n          rows={this.props.rows}\r\n          filters={this.props.filters}\r\n          defaultState={this.props.defaultFilters}\r\n        />\r\n        <CSVLink\r\n          data={this.state.exported}\r\n          headers={_headers}\r\n          filename={this.props.filename + \".csv\"}\r\n          style={{ display: \"none\" }}\r\n          ref={this.exportRef}\r\n          target=\"_blank\"\r\n        />\r\n      </Paper>\r\n    );\r\n  }\r\n}\r\n\r\nEnhancedTable.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  rows: PropTypes.array.isRequired,\r\n  data: PropTypes.string.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  sortable: PropTypes.bool,\r\n  onDelete: PropTypes.func.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  onEdit: PropTypes.func.isRequired,\r\n  store: PropTypes.object.isRequired,\r\n  onClone: PropTypes.func,\r\n  filters: PropTypes.array,\r\n  isDisabled: PropTypes.func.isRequired,\r\n  filename: PropTypes.string,\r\n  actions: PropTypes.element,\r\n  defaultState: PropTypes.object,\r\n  defaultSort: PropTypes.object,\r\n};\r\n\r\nexport default withLocalization(withStyles(styles)(EnhancedTable));\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\nconst styles = (theme) => ({\r\n  formControl: {\r\n    margin: theme.spacing.unit,\r\n    width: 160,\r\n  },\r\n});\r\n\r\nfunction FormDialog(props) {\r\n  return (\r\n    <Dialog\r\n      onClose={props.onClose}\r\n      aria-labelledby=\"simple-dialog-title\"\r\n      open={props.isOpen}\r\n      fullWidth\r\n    >\r\n      <DialogTitle id=\"simple-dialog-title\">{props.title}</DialogTitle>\r\n      {props.children}\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nFormDialog.propTypes = {\r\n  isOpen: PropTypes.bool.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  children: PropTypes.element.isRequired,\r\n};\r\n\r\nexport default withStyles(styles)(FormDialog);\r\n","import React from 'react';\r\nimport Table from '../shared/table/Table';\r\nimport FormDialog from '../shared/FormDialog';\r\nimport Form from './Form';\r\n\r\nimport compose from '../../compose';\r\nimport withStore from '../../consumers/withStore';\r\nimport withUser from '../../consumers/withUser';\r\nimport { withLocalization } from '../shared/localization'\r\n\r\nconst ROWS = [\r\n  { field: 'name', disablePadding: true },\r\n  { field: '_enumType.name', type: 'enum', data: 'enumTypes', idField: \"enumTypeId\", sortable: false },\r\n  { field: 'key', type: 'num' },\r\n  { field: 'disabled', type: 'bool' },\r\n];\r\n\r\nconst FILTERS = [\r\n  {\r\n    label: 'Sub', field: 'sub', data: [\r\n      { _id: 1, name: \"shop attrs\", filters: [{ field: 'enumTypeId', op: 'gt', value: 200}, { field: 'enumTypeId', op: 'lt', value: 300 }] },\r\n    ]\r\n  }\r\n];\r\n\r\nclass TableWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    \r\n    this.state = {\r\n      x: null,\r\n      isOpen: false\r\n    }\r\n  }\r\n\r\n  handleChangeClient = (name, value) => {\r\n    this.setState({ clientId: value });\r\n  }\r\n\r\n  handleClose = () => {\r\n    this.setState({ isOpen: false });\r\n  }\r\n\r\n  handleOpen = () => {\r\n    this.setState({ isOpen: true });\r\n  }\r\n\r\n  handleChange = async (filters, page, sort, render) => {\r\n    try {\r\n      return await this.props.store.getEnums(filters, sort, page, render);\r\n    }\r\n    catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  }\r\n\r\n  onEdit = async (x) => {\r\n    this.setState({ x, isOpen: true })\r\n  }\r\n\r\n  isDisabled = x => {\r\n    return false;\r\n  }\r\n\r\n  render() {\r\n    const { deleteEnum } = this.props.store;\r\n    const { translate } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <Table\r\n          rows={ROWS}\r\n          data='enums'\r\n          onChange={this.handleChange}\r\n          onDelete={deleteEnum}\r\n          title={translate('enums')}\r\n          onEdit={this.onEdit}\r\n          store={this.props.store}\r\n          filters={FILTERS}\r\n          isDisabled={this.isDisabled}\r\n          filename='enums'\r\n        />\r\n        <FormDialog\r\n          title={translate('enum')}\r\n          onClose={this.handleClose}\r\n          isOpen={this.state.isOpen}\r\n        >\r\n          <Form\r\n            data={this.state.x}\r\n            onSubmit={this.handleClose}\r\n          />\r\n        </FormDialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  withStore,\r\n  withUser,\r\n  withLocalization\r\n)(TableWrapper);","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Form from \"./Form\";\r\nimport Table from \"./Table\";\r\n\r\nimport compose from \"../../compose\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport getSharedStyles from \"../../style\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getSharedStyles(theme),\r\n  paper: {\r\n    padding: theme.spacing.unit,\r\n  },\r\n});\r\n\r\nfunction CenteredGrid(props) {\r\n  const { classes } = props;\r\n  return (\r\n    <Grid container>\r\n      <Grid item xs={12} className={classes.p2}>\r\n        <Paper className={classes.paper}>\r\n          <Form />\r\n        </Paper>\r\n      </Grid>\r\n      <Grid item xs={12} className={classes.p2}>\r\n        <Table />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nCenteredGrid.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(withStyles(styles), withUser)(CenteredGrid);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport TextInput from \"../shared/TextInput\";\r\nimport Form from \"../shared/form/Form\";\r\nimport NumInput from \"../shared/NumInput\";\r\n\r\nimport withStore from \"../../consumers/withStore\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport compose from \"../../compose\";\r\n\r\nconst styles = (theme) => ({\r\n  nameTextInput: {\r\n    display: \"flex\",\r\n    flex: 1,\r\n  },\r\n});\r\n\r\nconst INIT_STATE = {\r\n  name: \"\",\r\n  content: \"\",\r\n  key: 0,\r\n};\r\n\r\nclass FormWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = props.data || INIT_STATE;\r\n  }\r\n\r\n  handleChange = (name, value) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleSubmit = async () => {\r\n    const { addTemplate, refreshTemplates, editTemplate } = this.props.store;\r\n\r\n    try {\r\n      if (this.state._id) {\r\n        await editTemplate(this.state);\r\n      } else {\r\n        await addTemplate(this.state);\r\n      }\r\n\r\n      refreshTemplates();\r\n      this.setState(INIT_STATE);\r\n\r\n      if (this.props.onSubmit) this.props.onSubmit();\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes, disabled } = this.props;\r\n    const { name, content, key } = this.state;\r\n\r\n    return (\r\n      <Form onSubmit={this.handleSubmit} inline disabled={disabled}>\r\n        <div className={classes.nameTextInput}>\r\n          <TextInput\r\n            value={name}\r\n            field=\"name\"\r\n            onChange={this.handleChange}\r\n            fullWidth\r\n            required\r\n            disabled={disabled}\r\n          />\r\n        </div>\r\n        <div className={classes.nameTextInput}>\r\n          <TextInput\r\n            value={content}\r\n            field=\"content\"\r\n            onChange={this.handleChange}\r\n            fullWidth\r\n            required\r\n            disabled={disabled}\r\n          />\r\n        </div>\r\n        <NumInput\r\n          value={key}\r\n          field=\"key\"\r\n          onChange={this.handleChange}\r\n          min={0}\r\n          step={1}\r\n          required\r\n        />\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nFormWrapper.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  data: PropTypes.object,\r\n  onSubmit: PropTypes.func,\r\n  date: PropTypes.instanceOf(Date),\r\n  disabled: PropTypes.bool,\r\n};\r\n\r\nexport default compose(withStyles(styles), withStore, withUser)(FormWrapper);\r\n","import React from \"react\";\r\nimport Table from \"../shared/table/Table\";\r\nimport FormDialog from \"../shared/FormDialog\";\r\nimport Form from \"./Form\";\r\n\r\nimport compose from \"../../compose\";\r\nimport withStore from \"../../consumers/withStore\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport { withLocalization } from \"../shared/localization\";\r\n\r\nconst ROWS = [{ field: \"name\", disablePadding: true }, { field: \"content\" }, { field: 'key', type: 'num' }];\r\n\r\nclass TableWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      x: null,\r\n      isOpen: false,\r\n    };\r\n  }\r\n\r\n  handleChangeClient = (name, value) => {\r\n    this.setState({ clientId: value });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ isOpen: false });\r\n  };\r\n\r\n  handleOpen = () => {\r\n    this.setState({ isOpen: true });\r\n  };\r\n\r\n  handleChange = async (filters, page, sort, render) => {\r\n    try {\r\n      return await this.props.store.getTemplates(filters, sort, page, render);\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  onEdit = async (x) => {\r\n    this.setState({ x, isOpen: true });\r\n  };\r\n\r\n  isDisabled = (x) => {\r\n    return false;\r\n  };\r\n\r\n  render() {\r\n    const { deleteTemplate } = this.props.store;\r\n    const { translate } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <Table\r\n          rows={ROWS}\r\n          data=\"templates\"\r\n          onChange={this.handleChange}\r\n          onDelete={deleteTemplate}\r\n          title={translate(\"templates\")}\r\n          onEdit={this.onEdit}\r\n          store={this.props.store}\r\n          filters={[]}\r\n          isDisabled={this.isDisabled}\r\n          filename=\"templates\"\r\n        />\r\n        <FormDialog\r\n          title={translate(\"template\")}\r\n          onClose={this.handleClose}\r\n          isOpen={this.state.isOpen}\r\n        >\r\n          <Form data={this.state.x} onSubmit={this.handleClose} />\r\n        </FormDialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(withStore, withUser, withLocalization)(TableWrapper);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Form from \"./Form\";\r\nimport Table from \"./Table\";\r\n\r\nimport compose from \"../../compose\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport getSharedStyles from \"../../style\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getSharedStyles(theme),\r\n  paper: {\r\n    padding: theme.spacing.unit,\r\n  },\r\n});\r\n\r\nfunction CenteredGrid(props) {\r\n  const { classes } = props;\r\n  return (\r\n    <Grid container>\r\n      <Grid item xs={12} className={classes.p2}>\r\n        <Paper className={classes.paper}>\r\n          <Form />\r\n        </Paper>\r\n      </Grid>\r\n      <Grid item xs={12} className={classes.p2}>\r\n        <Table />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nCenteredGrid.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(withStyles(styles), withUser)(CenteredGrid);\r\n","import React from \"react\";\r\nimport MaskedInput from \"react-text-mask\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Input from \"@material-ui/core/Input\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport { withLocalization } from \"./localization\";\r\n\r\nconst styles = (theme) => ({\r\n  formControl: {\r\n    marginLeft: theme.spacing.unit,\r\n    marginRight: theme.spacing.unit,\r\n    width: 40,\r\n  },\r\n});\r\n\r\nfunction Mask(props) {\r\n  const { inputRef, ...other } = props;\r\n\r\n  return (\r\n    <MaskedInput\r\n      {...other}\r\n      ref={inputRef}\r\n      mask={[/\\d/, /\\d/, \":\", /\\d/, /\\d/]}\r\n      placeholderChar={\"\\u2000\"}\r\n      showMask\r\n    />\r\n  );\r\n}\r\n\r\nMask.propTypes = {\r\n  inputRef: PropTypes.func.isRequired,\r\n};\r\n\r\nfunction TimeInput(props) {\r\n  const { classes } = props;\r\n  const label = props.label || props.translate(\"field.\" + props.field);\r\n\r\n  return (\r\n    <FormControl className={classes.formControl}>\r\n      <InputLabel htmlFor={props.field}>{label}</InputLabel>\r\n      <Input\r\n        value={props.value}\r\n        onChange={(e) => props.onChange(props.field, e.target.value)}\r\n        id={props.field}\r\n        inputComponent={Mask}\r\n        placeholder={props.placeholder}\r\n        disabled={props.disabled}\r\n      />\r\n    </FormControl>\r\n  );\r\n}\r\n\r\nTimeInput.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  label: PropTypes.string,\r\n  field: PropTypes.string.isRequired,\r\n  value: PropTypes.string,\r\n  onChange: PropTypes.func.isRequired,\r\n  placeholder: PropTypes.string,\r\n  disabled: PropTypes.bool,\r\n};\r\n\r\nexport default withLocalization(withStyles(styles)(TimeInput));\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\n\r\nconst styles = (theme) => ({});\r\n\r\nfunction IconButtonComponent(props) {\r\n  const { color, onClick, tooltip, disabled, className } = props;\r\n  return (\r\n    <Tooltip title={tooltip}>\r\n      <IconButton\r\n        color={color}\r\n        onClick={onClick}\r\n        aria-label={tooltip}\r\n        disabled={disabled}\r\n        className={className}\r\n      >\r\n        {props.children}\r\n      </IconButton>\r\n    </Tooltip>\r\n  );\r\n}\r\n\r\nIconButtonComponent.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n  color: PropTypes.string,\r\n  tooltip: PropTypes.oneOfType([PropTypes.string, PropTypes.element])\r\n    .isRequired,\r\n  disabled: PropTypes.bool,\r\n  className: PropTypes.string,\r\n};\r\n\r\nexport default withStyles(styles)(IconButtonComponent);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { getStyles } from \"./style\";\r\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport IconButton from \"./IconButton\";\r\nimport withUtils from \"./utils/withUtils\";\r\nimport { withLocalization } from \"./localization\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getStyles(theme),\r\n  button: {\r\n    margin: theme.spacing.unit,\r\n  },\r\n  tooltip: {\r\n    \"max-width\": \"150px\",\r\n    \"max-height\": \"150px\",\r\n  },\r\n});\r\n\r\nclass ImageAvatars extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.inputRef = React.createRef();\r\n    this.filePath = \"\";\r\n  }\r\n\r\n  onChange = async (event) => {\r\n    event.preventDefault();\r\n\r\n    let file = event.target.files[0];\r\n    this.filePath = URL.createObjectURL(file);\r\n\r\n    // zabezpecuje volanie onChange aj pri uploadovani rovnakeho suboru\r\n    // -> po ulozeni formularu nezavolalo onChange opat, v pripade nahrania\r\n    // -> rovnakeho suboru ako predtym\r\n    event.target.value = \"\";\r\n\r\n    if (this.props.mimeType === \"image/jpeg\") {\r\n      var urlCreator = window.URL || window.webkitURL;\r\n      var src = urlCreator.createObjectURL(file);\r\n      file = await this.props.utils.resize(src, this.props.height, file.name);\r\n    }\r\n\r\n    this.props.onChange(this.props.field, file);\r\n  };\r\n\r\n  onClick = () => {\r\n    if (!this.props.disabled) {\r\n      this.inputRef.current.click();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes, value, disabled, mimeType, field, translate } = this.props;\r\n    const label = this.props.label || translate(\"field.\" + field);\r\n\r\n    return (\r\n      <div>\r\n        <IconButton\r\n          className={classes.button}\r\n          tooltip={\r\n            <img\r\n              src={this.filePath}\r\n              alt=\"Attach file\"\r\n              className={classes.tooltip}\r\n            />\r\n          }\r\n          color={value ? \"primary\" : \"default\"}\r\n          onClick={this.onClick}\r\n          disabled={disabled}\r\n        >\r\n          <AttachFileIcon />\r\n        </IconButton>\r\n        <InputLabel htmlFor={field}>{label}</InputLabel>\r\n        <input\r\n          ref={this.inputRef}\r\n          style={{ display: \"none\" }}\r\n          type=\"file\"\r\n          accept={mimeType}\r\n          onChange={this.onChange}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nImageAvatars.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  field: PropTypes.string.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  value: PropTypes.string.isRequired,\r\n  height: PropTypes.number.isRequired,\r\n  label: PropTypes.string,\r\n  disabled: PropTypes.bool,\r\n  mimeType: PropTypes.string,\r\n};\r\n\r\nexport default withLocalization(withUtils(withStyles(styles)(ImageAvatars)));\r\n","import React from \"react\";\r\n\r\nconst DobyContext = React.createContext();\r\nexport default DobyContext;","import React from \"react\";\r\nimport DobyContext from \"../contexts/DobyContext\";\r\n\r\nconst withDoby = (WrappedComponent) => {\r\n  return (props) => {\r\n    return (\r\n      <DobyContext.Consumer>\r\n        {doby =>\r\n          <WrappedComponent\r\n            {...props}\r\n            doby={doby}\r\n          />\r\n        }\r\n      </DobyContext.Consumer>\r\n    );\r\n  }\r\n};\r\n\r\nexport default withDoby;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport TextInput from \"../shared/TextInput\";\r\nimport Form from \"../shared/form/Form\";\r\nimport Switch from \"../shared/Switch\";\r\nimport NumInput from \"../shared/NumInput\";\r\nimport TimeInput from \"../shared/TimeInput\";\r\nimport FileInput from \"../shared/FileInput\";\r\nimport config from \"../../config\";\r\n\r\nimport withDoby from \"../../consumers/withDoby\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport withStore from \"../../consumers/withStore\";\r\nimport compose from \"../../compose\";\r\n\r\nconst styles = (theme) => ({\r\n  nameTextInput: {\r\n    display: \"flex\",\r\n    flex: 1,\r\n  },\r\n});\r\n\r\nconst INIT_STATE = {\r\n  name: \"\",\r\n  disabled: false,\r\n  description: \"\",\r\n  difficulty: 1,\r\n  elevation: null,\r\n  elevationGain: null,\r\n  distance: null,\r\n  time: \"01:00\",\r\n  _img: null,\r\n  _thumbnail: null,\r\n};\r\n\r\nclass FormWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = props.data || INIT_STATE;\r\n  }\r\n\r\n  handleChange = (name, value) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleSubmit = async () => {\r\n    const { addSummit, refreshSummits, editSummit } = this.props.doby;\r\n\r\n    try {\r\n      if (this.state._id) {\r\n        await editSummit(this.state);\r\n      } else {\r\n        await addSummit(this.state);\r\n      }\r\n\r\n      refreshSummits();\r\n      this.setState(INIT_STATE);\r\n\r\n      if (this.props.onSubmit) this.props.onSubmit();\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes, disabled } = this.props;\r\n    const {\r\n      name,\r\n      description,\r\n      difficulty,\r\n      elevation,\r\n      elevationGain,\r\n      distance,\r\n      time,\r\n      _img,\r\n      _thumbnail,\r\n    } = this.state;\r\n\r\n    return (\r\n      <Form onSubmit={this.handleSubmit} inline disabled={disabled}>\r\n        <div className={classes.nameTextInput}>\r\n          <TextInput\r\n            value={name}\r\n            field=\"name\"\r\n            onChange={this.handleChange}\r\n            fullWidth\r\n            required\r\n            disabled={disabled}\r\n          />\r\n        </div>\r\n\r\n        <div className={classes.nameTextInput}>\r\n          <TextInput\r\n            value={description}\r\n            field=\"description\"\r\n            onChange={this.handleChange}\r\n            required\r\n            fullWidth\r\n            disabled={disabled}\r\n          />\r\n        </div>\r\n\r\n        <NumInput\r\n          value={difficulty}\r\n          field=\"difficulty\"\r\n          onChange={this.handleChange}\r\n          min={0}\r\n          max={5}\r\n          step={1}\r\n          required\r\n        />\r\n\r\n        <NumInput\r\n          value={elevation}\r\n          field=\"elevation\"\r\n          onChange={this.handleChange}\r\n          min={1}\r\n          width={110}\r\n          required\r\n        />\r\n\r\n        <NumInput\r\n          value={elevationGain}\r\n          field=\"elevationGain\"\r\n          onChange={this.handleChange}\r\n          min={1}\r\n          width={40}\r\n        />\r\n\r\n        <NumInput\r\n          value={distance}\r\n          field=\"distance\"\r\n          onChange={this.handleChange}\r\n          min={1}\r\n          width={40}\r\n        />\r\n\r\n        <TimeInput\r\n          value={time}\r\n          field=\"time\"\r\n          onChange={this.handleChange}\r\n          disabled={disabled}\r\n        />\r\n\r\n        <Switch\r\n          label=\"\"\r\n          value={this.state.disabled}\r\n          field=\"disabled\"\r\n          onChange={this.handleChange}\r\n        />\r\n\r\n        <FileInput\r\n          mimeType=\"image/jpeg\"\r\n          value={_img}\r\n          field=\"_img\"\r\n          onChange={this.handleChange}\r\n          disabled={this.state._id || this.state._id === \"\" || disabled}\r\n          height={config.imageSize}\r\n        />\r\n        <FileInput\r\n          mimeType=\"image/jpeg\"\r\n          value={_thumbnail}\r\n          field=\"_thumbnail\"\r\n          onChange={this.handleChange}\r\n          disabled={this.state._id || this.state._id === \"\" || disabled}\r\n          height={config.thumbnailSize}\r\n        />\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nFormWrapper.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  data: PropTypes.object,\r\n  onSubmit: PropTypes.func,\r\n  date: PropTypes.instanceOf(Date),\r\n  disabled: PropTypes.bool,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withDoby,\r\n  withUser,\r\n  withStore\r\n)(FormWrapper);\r\n","import React from \"react\";\r\nimport Table from \"../shared/table/Table\";\r\nimport FormDialog from \"../shared/FormDialog\";\r\nimport Form from \"./Form\";\r\nimport compose from \"../../compose\";\r\nimport withDoby from \"../../consumers/withDoby\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport { withLocalization } from \"../shared/localization\";\r\n\r\nconst ROWS = [\r\n  { field: \"name\", disablePadding: true },\r\n  { field: \"description\" },\r\n  { field: \"elevation\" },\r\n  { field: \"elevationGain\" },\r\n  { field: \"distance\" },\r\n  { field: \"time\" },\r\n  { field: \"_id\" },\r\n];\r\n\r\nclass TableWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      x: null,\r\n      isOpen: false,\r\n    };\r\n  }\r\n\r\n  handleChangeClient = (name, value) => {\r\n    this.setState({ clientId: value });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ isOpen: false });\r\n  };\r\n\r\n  handleOpen = () => {\r\n    this.setState({ isOpen: true });\r\n  };\r\n\r\n  handleChange = async (filters, page, sort, render) => {\r\n    try {\r\n      return await this.props.doby.getSummits(filters, sort, page, render);\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  onEdit = async (x) => {\r\n    this.setState({ x, isOpen: true });\r\n  };\r\n\r\n  isDisabled = (x) => {\r\n    return false;\r\n  };\r\n\r\n  render() {\r\n    const { deleteSummit } = this.props.doby;\r\n    const { translate } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <Table\r\n          rows={ROWS}\r\n          data=\"summits\"\r\n          onChange={this.handleChange}\r\n          onDelete={deleteSummit}\r\n          title={translate(\"summits_title\")}\r\n          onEdit={this.onEdit}\r\n          store={this.props.doby}\r\n          filters={[]}\r\n          isDisabled={this.isDisabled}\r\n          filename=\"summits\"\r\n        />\r\n        <FormDialog\r\n          title={translate(\"summit_title\")}\r\n          onClose={this.handleClose}\r\n          isOpen={this.state.isOpen}\r\n        >\r\n          <Form data={this.state.x} onSubmit={this.handleClose} />\r\n        </FormDialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(withDoby, withUser, withLocalization)(TableWrapper);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Form from \"./Form\";\r\nimport Table from \"./Table\";\r\n\r\nimport compose from \"../../compose\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport getSharedStyles from \"../../style\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getSharedStyles(theme),\r\n  paper: {\r\n    padding: theme.spacing.unit,\r\n  },\r\n});\r\n\r\nfunction CenteredGrid(props) {\r\n  const { classes } = props;\r\n  return (\r\n    <Grid container>\r\n      <Grid item xs={12} className={classes.p2}>\r\n        <Paper className={classes.paper}>\r\n          <Form />\r\n        </Paper>\r\n      </Grid>\r\n      <Grid item xs={12} className={classes.p2}>\r\n        <Table />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nCenteredGrid.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(withStyles(styles), withUser)(CenteredGrid);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport { withLocalization } from \"../../shared/localization\";\r\nimport classNames from \"classnames\";\r\nimport FilledInput from \"@material-ui/core/FilledInput\";\r\n\r\nconst styles = (theme) => ({\r\n  selectInput: {\r\n    background: \"white!important\",\r\n    border: \"1px solid #E7E7E7\",\r\n    borderRadius: \"6px\",\r\n    \"&:before\": {\r\n      display: \"none\",\r\n    },\r\n    \"&:after\": {\r\n      display: \"none\",\r\n    },\r\n  },\r\n  inputLabel: {\r\n    color: \"rgba(0,0,0,0.3)!important\",\r\n    fontSize: \"0.875rem\",\r\n  },\r\n  selectRoot: {\r\n    padding: \"23px 12px 8px\",\r\n    fontSize: \"0.875rem\",\r\n    color: \"#333442\",\r\n  },\r\n});\r\n\r\nfunction SelectFieldComponent(props) {\r\n  const {\r\n    classes,\r\n    data,\r\n    textField,\r\n    required,\r\n    value,\r\n    onChange,\r\n    field,\r\n    multiple,\r\n  } = props;\r\n  if (\r\n    required &&\r\n    (value === null || value === undefined || value === \"\") &&\r\n    data &&\r\n    data.length > 0\r\n  ) {\r\n    onChange(field, data[0]._id);\r\n  }\r\n\r\n  const getText = (selected) => {\r\n    const value = data.find((x) => x._id === selected);\r\n    return value ? value[textField] : null;\r\n  };\r\n\r\n  const renderValue = (selected) => {\r\n    if (!multiple) {\r\n      return getText(selected);\r\n    }\r\n\r\n    return selected.map((s) => getText(s)).join(\" | \");\r\n  };\r\n\r\n  const label = props.label || props.translate(\"field.\" + props.field);\r\n  return (\r\n    <FormControl\r\n      className={classNames(props.className)}\r\n      required={required}\r\n      fullWidth={props.fullWidth}\r\n      variant=\"filled\"\r\n      error={props.errorText && props.errorText !== \"\"}\r\n    >\r\n      {label && (\r\n        <InputLabel\r\n          htmlFor={props.field}\r\n          className={classNames(classes.inputLabel)}\r\n        >\r\n          {label}\r\n        </InputLabel>\r\n      )}\r\n      <Select\r\n        value={props.value !== null ? props.value : \"\"}\r\n        onChange={(e) => onChange(props.field, e.target.value)}\r\n        id={props.field}\r\n        multiple={props.multiple}\r\n        renderValue={renderValue}\r\n        disabled={props.disabled}\r\n        input={<FilledInput name={props.field} id={props.field} />}\r\n        className={classes.selectInput}\r\n        classes={{ select: classes.selectRoot }}\r\n      >\r\n        {!props.required && !multiple && (\r\n          <MenuItem value=\"\">\r\n            <em>None</em>\r\n          </MenuItem>\r\n        )}\r\n        {data.map((x) => (\r\n          <MenuItem key={x._id} value={x._id}>\r\n            {multiple && (\r\n              <Checkbox\r\n                checked={value.find((d) => d === x._id) !== undefined}\r\n              />\r\n            )}\r\n            <ListItemText primary={x[textField]} />\r\n          </MenuItem>\r\n        ))}\r\n      </Select>\r\n      <FormHelperText>{props.errorText}</FormHelperText>\r\n    </FormControl>\r\n  );\r\n}\r\n\r\nSelectFieldComponent.propTypes = {\r\n  className: PropTypes.string,\r\n  classes: PropTypes.object.isRequired,\r\n  label: PropTypes.string,\r\n  field: PropTypes.string.isRequired,\r\n  value: PropTypes.string,\r\n  onChange: PropTypes.func.isRequired,\r\n  required: PropTypes.bool,\r\n  data: PropTypes.array.isRequired,\r\n  textField: PropTypes.string.isRequired,\r\n  fullWidth: PropTypes.bool,\r\n  multiple: PropTypes.bool,\r\n  disabled: PropTypes.bool,\r\n  errorText: PropTypes.string,\r\n};\r\n\r\nexport default withLocalization(withStyles(styles)(SelectFieldComponent));\r\n","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport classNames from 'classnames';\r\nimport compose from '../../../compose';\r\n\r\nconst styles = theme => ({\r\n    icon: {\r\n        height: '20px',\r\n        width: 'auto'\r\n    }\r\n});\r\n\r\nfunction Icon(props) {\r\n    const { classes } = props;\r\n    return (\r\n        <>\r\n            <svg width=\"100%\" height=\"100%\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className={classNames(classes.icon)} style={{height: `${props.size}px`}}>\r\n                <path d=\"M30 16.5L19.2692 7V13.3463H1V19.6537H19.2692V26L30 16.5Z\" fill=\"white\"/>\r\n            </svg>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles)\r\n)(Icon);","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport compose from '../../../compose';\r\n\r\nimport classNames from 'classnames';\r\nimport getSharedStyles from '../../../style';\r\n\r\nimport ArrowRight from '../icons/ArrowRight'\r\n\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    button: {\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',        \r\n        whiteSpace: 'nowrap',        \r\n        userSelect: 'none',\r\n        fontSize: '14px',\r\n        lineHeight: '130%',\r\n        fontFamily: \"'IBM Plex Mono', monospace\",\r\n        letterSpacing: '0.5px',\r\n        padding: '0 20px',\r\n        height: '52px',       \r\n        background: theme.palette.primary.main,\r\n        color: '#ffffff',\r\n        fontWeight: '700',       \r\n        //borderRadius: '50px',\r\n        border: `2px solid ${theme.palette.primary.main}`,\r\n        textTransform: 'uppercase',\r\n        outline: 'none',\r\n        cursor: 'pointer',\r\n        transition: 'all 0.25s ease',\r\n        '&:hover': {\r\n            background: theme.palette.primary.dark,\r\n            borderColor: theme.palette.primary.dark,\r\n        }\r\n    },\r\n    btnFullwidth: {        \r\n        width: '100%',\r\n        maxWidth: '400px',\r\n    },\r\n    btnOutline: {\r\n         border: '1px solid #333442!important',\r\n         background: 'transparent!important',\r\n         color: '#333442!important',\r\n    },\r\n    //color variants\r\n    btnSecondary: {\r\n        background: theme.palette.primary.main,\r\n    },\r\n    //size\r\n    btnLarge: {\r\n        padding: '0 25px',\r\n        height: '52px',  \r\n        fontSize: '14px',     \r\n    },\r\n    btnSmall: {\r\n        padding: '0 15px',\r\n        height: '30px',  \r\n        fontSize: '11px',\r\n    },\r\n    btnDisabled: {\r\n        background: 'black'\r\n    },\r\n    btnArrow: {\r\n        justifyContent: 'space-between'\r\n    },\r\n});\r\n\r\nfunction Button(props) {   \r\n    const { classes, fullwidth, disabled, outline, size, variant, minWidth, arrow} = props;\r\n   \r\n    return (\r\n        <>\r\n            <button \r\n                className={classNames(props.className, classes.button, disabled && classes.btnDisabled, fullwidth && classes.btnFullwidth, outline && classes.btnOutline, size === 'lg' && classes.btnLarge, size === 'sm' && classes.btnSmall, variant === 'secondary' && classes.btnSecondary, arrow && classes.btnArrow)}\r\n                onClick={() => !disabled && props.onClick()}\r\n                style={{minWidth: minWidth ? minWidth+'px' : '0px'}}\r\n            >\r\n                {props.children}\r\n                {props.arrow && <ArrowRight size={28}/>}\r\n            </button>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n)(Button);","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport compose from '../../../compose';\r\n\r\nimport classNames from 'classnames';\r\nimport getSharedStyles from '../../../style';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\n\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    iOSSwitchBase: {\r\n        '&$iOSChecked': {\r\n            color: theme.palette.common.white,\r\n            '& + $iOSBar': {\r\n                backgroundColor: '#333442',\r\n            },\r\n        },\r\n        transition: theme.transitions.create('transform', {\r\n            duration: theme.transitions.duration.shortest,\r\n            easing: theme.transitions.easing.sharp,\r\n        }),\r\n    },\r\n    iOSChecked: {\r\n        transform: 'translateX(15px)',\r\n        '& + $iOSBar': {\r\n            opacity: 1,\r\n            border: 'none',\r\n        },\r\n    },\r\n    iOSBar: {\r\n        borderRadius: 13,\r\n        width: 42,\r\n        height: 24,\r\n        marginTop: -12,\r\n        marginLeft: -22,\r\n        border: 'solid 1px',\r\n        borderColor: theme.palette.grey[400],\r\n        backgroundColor: theme.palette.grey[50],\r\n        opacity: 1,\r\n        transition: theme.transitions.create(['background-color', 'border']),\r\n    },\r\n    iOSIcon: {\r\n        width: 20,\r\n        height: 20,\r\n    },\r\n    iOSIconChecked: {\r\n        boxShadow: theme.shadows[1],\r\n    },\r\n    controlLabelRoot: {\r\n        marginRight: '0px'\r\n    }\r\n});\r\n\r\nfunction SwitchComponent(props) {\r\n    const { classes } = props;\r\n    return (\r\n        <>\r\n            <FormControlLabel\r\n                classes={{root: classes.controlLabelRoot}}\r\n                control={\r\n                    <Switch\r\n                        classes={{\r\n                            switchBase: classes.iOSSwitchBase,\r\n                            bar: classes.iOSBar,\r\n                            icon: classes.iOSIcon,\r\n                            iconChecked: classes.iOSIconChecked,\r\n                            checked: classes.iOSChecked,\r\n                        }}\r\n                        disableRipple\r\n                        disabled={props.disabled}\r\n                        checked={props.value}\r\n                        onChange={(e) => props.onChange(props.field, e.target.checked)}\r\n                        value={props.field}\r\n                    />\r\n                }\r\n                label={props.label}\r\n            />\r\n        </>\r\n    );\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n)(SwitchComponent);","import React from 'react';\r\nimport { withRouter } from 'react-router';\r\nimport withStore from '../../consumers/withStore';\r\nimport withDoby from '../../consumers/withDoby';\r\nimport withUser from '../../consumers/withUser';\r\n\r\n//import PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { withLocalization } from '../shared/localization'\r\n\r\nimport classNames from 'classnames';\r\nimport compose from '../../compose';\r\nimport getSharedStyles from '../../style';\r\n\r\n\r\nimport Select from '../dobyComponents/form/SelectField';\r\nimport Button from '../dobyComponents/form/Button';\r\nimport TextField from '../dobyComponents/form/TextField';\r\nimport Switch from '../dobyComponents/form/Switch';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    image: {\r\n        width: '100%'\r\n    }\r\n});\r\n\r\nclass Push extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            challenges: [],\r\n            summits: [],\r\n            selectedChallengeRef: null,\r\n            selectedSummitRef: null,\r\n            summitDesc: '',\r\n            summitIsPrivate: false,\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getData();\r\n    }\r\n\r\n    //TODO: get our possible summits\r\n    getData = async () => {\r\n        const { user } = this.props.user;\r\n        const { challenges } = await this.props.doby.getUser(user._id);\r\n        this.setState({ challenges });\r\n    }\r\n\r\n    uploadPicture = () => {\r\n\r\n    }\r\n\r\n    onChangeChallenge = async (field, selectedChallengeRef) => {\r\n        const challenge = this.state.challenges.find( x => x._id === selectedChallengeRef );\r\n        if(challenge && this.state.selectedChallengeRef !== selectedChallengeRef) {\r\n            const summitFilter = [\r\n                {\r\n                    field: \"_id\",\r\n                    op: \"in\",\r\n                    value: challenge.summitsRef.map(x => x.id)\r\n                },\r\n            ];\r\n\r\n            this.setState({selectedChallengeRef});\r\n\r\n            const summits = await this.props.doby.getSummits(summitFilter);\r\n            this.setState({summits: summits.data});\r\n        }\r\n    }\r\n\r\n    onChangeSummit = (field, selectedSummitRef) => this.setState({selectedSummitRef});\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        return (\r\n            <div className={classNames(classes.container, classes.mt3)}>\r\n                <h2>{this.props.translate('summit.add')}</h2>\r\n\r\n                <img\r\n                    className={classNames(classes.image, classes.mb3)}\r\n                    alt=\"\"\r\n                    onClick={this.uploadPicture}\r\n                    src=\"https://www.google.com/logos/doodles/2021/st-patricks-day-2021-6753651837108887.2-l.png\" />\r\n\r\n                <h3>{this.props.translate('summit.image_title')}</h3>\r\n                <p>{this.props.translate('summit.image_desc')}</p>\r\n\r\n\r\n                <div>\r\n                    <Select\r\n                        value={this.state.selectedChallengeRef ? this.state.selectedChallengeRef.toString() : ''}\r\n                        field={'challenge'}\r\n                        onChange={this.onChangeChallenge}\r\n                        data={this.state.challenges}\r\n                        textField={\"name\"}\r\n                        fullWidth\r\n                        required\r\n                    />\r\n                    <Select\r\n                        value={this.state.selectedSummitRef ? this.state.selectedSummitRef.toString() : ''}\r\n                        field={'summit'}\r\n                        onChange={this.onChangeSummit}\r\n                        data={this.state.summits}\r\n                        textField={\"name\"}\r\n                        fullWidth\r\n                        required\r\n                    />\r\n                    <TextField\r\n                        value={this.state.summitDesc}\r\n                        field={'summitDesc'}\r\n                        onChange={(field, summitDesc)=> { this.setState({summitDesc})}}\r\n                        fullWidth\r\n                        multiline\r\n                    />\r\n\r\n                    <div className={classNames(classes.dFlex, classes.w100, classes.justifyContentBetween, classes.alignItemsCenter)}>\r\n                        <h3 className={classNames(classes.mt4)}>\r\n                            {this.props.translate('summit.private')}\r\n                        </h3>\r\n                        <Switch\r\n                            field={'private'}\r\n                            value={this.state.summitIsPrivate}\r\n                            onChange={(field, summitIsPrivate)=> { this.setState({summitIsPrivate})}}\r\n                        />\r\n                    </div>\r\n\r\n                    <p>{this.props.translate('summit.private_desc')}</p>\r\n\r\n                    <Button\r\n                        className={classNames(classes.mt5, classes.mb3)}\r\n                        onClick={this.showAllProductDetails}\r\n                        fullwidth\r\n                        disabled={!this.state.selectedChallengeRef || !this.state.selectedSummitRef}\r\n                    >\r\n                        {this.props.translate('summit.send')}\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    withRouter,\r\n    withStore,\r\n    withStyles(styles),\r\n    withDoby,\r\n    withUser,\r\n    withLocalization\r\n)(Push);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport TextInput from \"../shared/TextInput\";\r\nimport Form from \"../shared/form/Form\";\r\n\r\nimport withDoby from \"../../consumers/withDoby\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport compose from \"../../compose\";\r\n\r\nconst styles = (theme) => ({\r\n  nameTextInput: {\r\n    display: \"flex\",\r\n    flex: 1,\r\n  },\r\n});\r\n\r\nconst INIT_STATE = {\r\n  name: \"\",\r\n};\r\n\r\nclass FormWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = props.data || INIT_STATE;\r\n  }\r\n\r\n  handleChange = (name, value) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleSubmit = async () => {\r\n    const { addSerie, refreshSeries, editSerie } = this.props.doby;\r\n\r\n    try {\r\n      if (this.state._id) {\r\n        await editSerie(this.state);\r\n      } else {\r\n        await addSerie(this.state);\r\n      }\r\n\r\n      refreshSeries();\r\n      this.setState(INIT_STATE);\r\n\r\n      if (this.props.onSubmit) this.props.onSubmit();\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes, disabled } = this.props;\r\n    const { name } = this.state;\r\n    return (\r\n      <Form onSubmit={this.handleSubmit} inline disabled={disabled}>\r\n        <div className={classes.nameTextInput}>\r\n          <TextInput\r\n            value={name}\r\n            field=\"name\"\r\n            onChange={this.handleChange}\r\n            required\r\n            fullWidth\r\n            disabled={disabled}\r\n          />\r\n        </div>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nFormWrapper.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  data: PropTypes.object,\r\n  onSubmit: PropTypes.func,\r\n  date: PropTypes.instanceOf(Date),\r\n  disabled: PropTypes.bool,\r\n};\r\n\r\nexport default compose(withStyles(styles), withDoby, withUser)(FormWrapper);\r\n","import React from 'react';\r\nimport Table from '../shared/table/Table';\r\nimport FormDialog from '../shared/FormDialog';\r\nimport Form from './Form';\r\n\r\nimport compose from '../../compose';\r\nimport withDoby from '../../consumers/withDoby';\r\nimport withUser from '../../consumers/withUser';\r\nimport { withLocalization } from '../shared/localization'\r\n\r\nconst ROWS = [\r\n  { field: 'name', disablePadding: true },\r\n  { field: '_id' }\r\n];\r\n\r\nclass TableWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);  \r\n    this.state = {\r\n      x: null,\r\n      isOpen: false\r\n    }\r\n  }\r\n\r\n  handleChangeClient = (name, value) => {\r\n    this.setState({ clientId: value });\r\n  }\r\n\r\n  handleClose = () => {\r\n    this.setState({ isOpen: false });\r\n  }\r\n\r\n  handleOpen = () => {\r\n    this.setState({ isOpen: true });\r\n  }\r\n\r\n  handleChange = async (filters, page, sort, render) => {\r\n    try {\r\n      return await this.props.doby.getSeries(filters, sort, page, render);\r\n    }\r\n    catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  }\r\n\r\n  onEdit = async (x) => {\r\n    this.setState({ x, isOpen: true })\r\n  }\r\n\r\n  isDisabled = x => {\r\n    return false;\r\n  }\r\n\r\n  render() {\r\n    const { deleteSerie } = this.props.doby;\r\n    const { translate } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <Table\r\n          rows={ROWS}\r\n          data='series'\r\n          onChange={this.handleChange}\r\n          onDelete={deleteSerie}\r\n          title={translate('series')}\r\n          onEdit={this.onEdit}\r\n          store={this.props.doby}\r\n          filters={[]}\r\n          isDisabled={this.isDisabled}\r\n          filename='series'\r\n        />\r\n        <FormDialog\r\n          title={translate('serie')}\r\n          onClose={this.handleClose}\r\n          isOpen={this.state.isOpen}\r\n        >\r\n          <Form\r\n            data={this.state.x}\r\n            onSubmit={this.handleClose}\r\n          />\r\n        </FormDialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  withDoby,\r\n  withUser,\r\n  withLocalization\r\n)(TableWrapper);","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Form from \"./Form\";\r\nimport Table from \"./Table\";\r\n\r\nimport compose from \"../../compose\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport getSharedStyles from \"../../style\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getSharedStyles(theme),\r\n  paper: {\r\n    padding: theme.spacing.unit,\r\n  },\r\n});\r\n\r\nfunction CenteredGrid(props) {\r\n  const { classes } = props;\r\n  return (\r\n    <Grid container>\r\n      <Grid item xs={12} className={classes.p2}>\r\n        <Paper className={classes.paper}>\r\n          <Form />\r\n        </Paper>\r\n      </Grid>\r\n      <Grid item xs={12} className={classes.p2}>\r\n        <Table />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nCenteredGrid.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(withStyles(styles), withUser)(CenteredGrid);\r\n","import * as React from 'react';\r\nimport ReactMarkdown from 'markdown-to-jsx';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Link from '@material-ui/core/Link';\r\n\r\nconst styles = (theme) => ({\r\n  listItem: {\r\n    marginTop: theme.spacing.unit,\r\n  },\r\n});\r\n\r\nconst options = {\r\n  overrides: {\r\n    h1: {\r\n      component: Typography,\r\n      props: {\r\n        gutterBottom: true,\r\n        variant: 'h4',\r\n      },\r\n    },\r\n    h2: {\r\n      component: Typography,\r\n      props: { gutterBottom: true, variant: 'h6' },\r\n    },\r\n    h3: {\r\n      component: Typography,\r\n      props: { gutterBottom: true, variant: 'subtitle1' },\r\n    },\r\n    h4: {\r\n      component: Typography,\r\n      props: {\r\n        gutterBottom: true,\r\n        variant: 'caption',\r\n        paragraph: true,\r\n      },\r\n    },\r\n    p: {\r\n      component: Typography,\r\n      props: { paragraph: true },\r\n    },\r\n    a: { component: Link },\r\n    li: {\r\n      component: withStyles(styles)((props) => {\r\n        const { classes, ...other } = props;\r\n        return (\r\n          <li className={classes.listItem}>\r\n            <Typography component=\"span\" {...other} />\r\n          </li>\r\n        );\r\n      }),\r\n    },\r\n  },\r\n};\r\n\r\nexport default function Markdown(props) {\r\n  return <ReactMarkdown options={options} {...props} />;\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ReactMde from \"react-mde\";\r\nimport Markdown from \"./Markdown\";\r\nimport withUtils from \"./utils/withUtils\";\r\nimport \"react-mde/lib/styles/css/react-mde-all.css\";\r\n\r\nconst URL = \"https://mailer.poprad.space\";\r\nfunction Editor(props) {\r\n  const save = async function* (data) {\r\n    var blob = new Blob([data], { type: \"image/jpeg\" });\r\n    var urlCreator = window.URL || window.webkitURL;\r\n    var src = urlCreator.createObjectURL(blob);\r\n    const d = await props.utils.resize(src, this.props.height, \"img.jpg\");\r\n\r\n    try {\r\n      const file = await props.utils.postFile(\r\n        URL,\r\n        d,\r\n        \"dGVzdDozPGdEdGc2PkQnOXR9XCFE\"\r\n      );\r\n      yield `${URL}/uploads/${file._id}`;\r\n      return true;\r\n    } catch (error) {\r\n      console.log(error);\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const [selectedTab, setSelectedTab] = React.useState(\"write\");\r\n  return (\r\n    <ReactMde\r\n      value={props.value}\r\n      onChange={(value) => props.onChange(props.field, value)}\r\n      selectedTab={selectedTab}\r\n      readOnly={props.disabled}\r\n      onTabChange={setSelectedTab}\r\n      generateMarkdownPreview={(content) =>\r\n        Promise.resolve(<Markdown>{content}</Markdown>)\r\n      }\r\n      paste={{\r\n        saveImage: save,\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nEditor.propTypes = {\r\n  field: PropTypes.string.isRequired,\r\n  value: PropTypes.string.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  height: PropTypes.number.isRequired,\r\n  disabled: PropTypes.bool,\r\n};\r\n\r\nexport default withUtils(Editor);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport ClearIcon from \"@material-ui/icons/Clear\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Form from \"../shared/form/Form\";\r\nimport Select from \"../shared/Select\";\r\n\r\nimport withDoby from \"../../consumers/withDoby\";\r\nimport withStore from \"../../consumers/withStore\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport compose from \"../../compose\";\r\n\r\nconst styles = (theme) => ({\r\n  nameTextInput: {\r\n    display: \"flex\",\r\n    flex: 1,\r\n  },\r\n  margin: {\r\n    margin: theme.spacing.unit,\r\n  },\r\n});\r\n\r\nconst INIT_STATE = {\r\n  enumTypeData: [],\r\n  enumType: \"\",\r\n  enumValueData: [],\r\n  enumValue: \"\",\r\n  disabled: false,\r\n};\r\n\r\nclass TechParamForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = props.data || INIT_STATE;\r\n  }\r\n\r\n  handleChange = (name, value) => {\r\n    if (name === \"enumType\") {\r\n      const { enums } = this.props.store;\r\n\r\n      const enumValueData = enums.data.filter((e) => e.enumTypeId === value);\r\n      this.setState({ enumValueData });\r\n    }\r\n\r\n    this.setState({ [name]: value }, this.callBack);\r\n  };\r\n\r\n  callBack = () => {\r\n    const { enumType, enumValue } = this.state;\r\n    if (enumType !== \"\" && enumValue !== \"\")\r\n      this.props.onChange(enumType, enumValue);\r\n  };\r\n\r\n  handleSubmit = async () => {};\r\n\r\n  handleDelete = () => {\r\n    this.props.onDelete(this.state.enumType, this.props.inOrder);\r\n    this.setState({ disabled: false });\r\n  };\r\n\r\n  render() {\r\n    const { classes, enumTypeData } = this.props;\r\n    const { enumType, enumValueData, enumValue, disabled } = this.state;\r\n\r\n    return (\r\n      <Form onSubmit={this.handleSubmit} inline disabled={true}>\r\n        <div className={classes.nameTextInput}>\r\n          <Select\r\n            value={enumType}\r\n            field=\"enumType\"\r\n            onChange={this.handleChange}\r\n            data={enumTypeData}\r\n            textField=\"name\"\r\n            fullWidth\r\n            required\r\n            disabled={disabled}\r\n          />\r\n        </div>\r\n        <div className={classes.nameTextInput}>\r\n          <Select\r\n            value={enumValue}\r\n            field=\"enumValue\"\r\n            onChange={this.handleChange}\r\n            data={enumValueData}\r\n            textField=\"name\"\r\n            fullWidth\r\n            required\r\n            disabled={enumValueData.length === 0 || disabled}\r\n          />\r\n        </div>\r\n        <IconButton\r\n          aria-label=\"Clear\"\r\n          className={classes.margin}\r\n          onClick={this.handleDelete}\r\n        >\r\n          <ClearIcon fontSize=\"small\" />\r\n        </IconButton>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nTechParamForm.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  onDelete: PropTypes.func.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n  enumTypeData: PropTypes.array.isRequired,\r\n  data: PropTypes.object.isRequired,\r\n  inOrder: PropTypes.number,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withStore,\r\n  withDoby,\r\n  withUser\r\n)(TechParamForm);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextInput from \"../shared/TextInput\";\r\nimport Form from \"../shared/form/Form\";\r\nimport NumInput from \"../shared/NumInput\";\r\nimport FileInput from \"../shared/FileInput\";\r\nimport Switch from \"../shared/Switch\";\r\nimport Editor from \"../shared/Editor\";\r\nimport Select from \"../shared/Select\";\r\nimport config from \"../../config\";\r\nimport TechParamForm from \"./TechParamForm\";\r\n\r\nimport withDoby from \"../../consumers/withDoby\";\r\nimport withStore from \"../../consumers/withStore\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport compose from \"../../compose\";\r\nimport _ from \"lodash\";\r\n\r\nconst styles = (theme) => ({\r\n  nameTextInput: {\r\n    display: \"flex\",\r\n    flex: 1,\r\n  },\r\n  margin: {\r\n    margin: theme.spacing.unit,\r\n  },\r\n});\r\n\r\nconst INIT_STATE = {\r\n  name: \"\",\r\n  catalog_id: \"\",\r\n  ean: \"\",\r\n  short_description: \"\",\r\n  long_description: \"\",\r\n  price_without_tax: 0,\r\n  disabled: false,\r\n  main: false,\r\n  category: [],\r\n  productsRef: [],\r\n  _img: null,\r\n  _thumbnail: null,\r\n  tech_param: {},\r\n};\r\n\r\nclass FormWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { ...(props.data || INIT_STATE), tech_param_forms: [] };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const { tech_param, tech_param_forms } = this.state;\r\n\r\n    try {\r\n      const { getEnums } = this.props.store;\r\n      const { getSubordinateProducts } = this.props.doby;\r\n\r\n      const filter = [\r\n        { field: \"enumTypeId\", op: \"gte\", value: 200 },\r\n        { field: \"enumTypeId\", op: \"lt\", value: 300 },\r\n        { field: \"disabled\", value: false },\r\n      ];\r\n      await getEnums(filter);\r\n      await getSubordinateProducts();\r\n\r\n      if (!_.isEmpty(tech_param) && tech_param_forms.length === 0)\r\n        this.setTechParamForms(tech_param);\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  }\r\n\r\n  handleChange = (name, value) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleSubmit = async () => {\r\n    const { addProduct, refreshProducts, editProduct } = this.props.doby;\r\n\r\n    try {\r\n      if (this.state._id) {\r\n        await editProduct(this.state);\r\n      } else {\r\n        await addProduct(this.state);\r\n      }\r\n      refreshProducts();\r\n      this.setState({ ...INIT_STATE, tech_param_forms: [] });\r\n      if (this.props.onSubmit) this.props.onSubmit();\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  handleChangeTechParamForm = (enumTypeId, enumValueID) => {\r\n    const { tech_param } = this.state;\r\n\r\n    this.setState({\r\n      tech_param: { ...tech_param, [enumTypeId]: enumValueID },\r\n    });\r\n  };\r\n\r\n  handleAddTechParam = (event) => {\r\n    event.preventDefault();\r\n    this.addTechParamForm();\r\n  };\r\n\r\n  removeTechParam = (enumTypeId, inOrder) => {\r\n    const { tech_param, tech_param_forms } = this.state;\r\n    delete tech_param[enumTypeId];\r\n\r\n    this.setState({\r\n      tech_param,\r\n      tech_param_forms: tech_param_forms.filter((p) => p.inOrder !== inOrder),\r\n    });\r\n  };\r\n\r\n  addTechParamForm = (enumTypeID = null, enumValueID = null) => {\r\n    const { tech_param_forms } = this.state;\r\n    const { enumTypes, enums } = this.props.store;\r\n\r\n    const enumTypesFiltered = enumTypes.data.filter(\r\n      (e) => e._id > 200 && e._id < 300\r\n    );\r\n\r\n    let data = null;\r\n    if (enumTypeID !== null) {\r\n      data = {\r\n        enumType: Number.parseInt(enumTypeID),\r\n        enumValueData: enums.data.filter(\r\n          (e) => e.enumTypeId === Number.parseInt(enumTypeID)\r\n        ),\r\n        enumValue: enumValueID,\r\n        disabled: true,\r\n      };\r\n    }\r\n\r\n    const inOrder = tech_param_forms.length;\r\n    this.setState({\r\n      tech_param_forms: [\r\n        ...tech_param_forms,\r\n        {\r\n          inOrder,\r\n          element: (\r\n            <TechParamForm\r\n              classes={this.props.classes}\r\n              onChange={this.handleChangeTechParamForm}\r\n              onDelete={this.removeTechParam}\r\n              enumTypeData={enumTypesFiltered}\r\n              inOrder={inOrder}\r\n              data={data}\r\n            />\r\n          ),\r\n        },\r\n      ],\r\n    });\r\n  };\r\n\r\n  setTechParamForms = (tech_param) => {\r\n    const entries = Object.entries(tech_param);\r\n    for (const [enumTypeID, enumValueID] of entries)\r\n      this.addTechParamForm(enumTypeID, enumValueID);\r\n  };\r\n\r\n  render() {\r\n    const { classes, disabled } = this.props;\r\n    const { enums, enumTypes } = this.props.store;\r\n    const { subordinateProducts } = this.props.doby;\r\n    const {\r\n      name,\r\n      price_without_tax,\r\n      category,\r\n      productsRef,\r\n      _img,\r\n      _thumbnail,\r\n      tech_param_forms,\r\n      catalog_id,\r\n      ean,\r\n      short_description,\r\n      long_description,\r\n    } = this.state;\r\n\r\n    const enumTypesFiltered = enumTypes.data.filter(\r\n      (e) => e._id > 200 && e._id < 300\r\n    );\r\n    const disabledAddTechParamForm =\r\n      tech_param_forms.length === enumTypesFiltered.length;\r\n\r\n    return (\r\n      <>\r\n        <Form onSubmit={this.handleSubmit} inline disabled={disabled}>\r\n          <TextInput\r\n            value={name}\r\n            field=\"name\"\r\n            onChange={this.handleChange}\r\n            required\r\n            disabled={disabled}\r\n          />\r\n          <TextInput\r\n            value={short_description}\r\n            field=\"short_description\"\r\n            onChange={this.handleChange}\r\n            disabled={disabled}\r\n          />\r\n          <TextInput\r\n            value={catalog_id}\r\n            field=\"catalog_id\"\r\n            onChange={this.handleChange}\r\n            required\r\n            disabled={disabled}\r\n          />\r\n          <TextInput\r\n            value={ean}\r\n            field=\"ean\"\r\n            onChange={this.handleChange}\r\n            disabled={disabled}\r\n          />\r\n          <div className={classes.nameTextInput}>\r\n            <Select\r\n              value={category}\r\n              field=\"category\"\r\n              onChange={this.handleChange}\r\n              data={enums.data.filter((e) => e.enumTypeId === 200)}\r\n              textField=\"name\"\r\n              multiple\r\n              fullWidth\r\n              disabled={disabled}\r\n            />\r\n          </div>\r\n          <NumInput\r\n            value={price_without_tax}\r\n            field=\"price_without_tax\"\r\n            onChange={this.handleChange}\r\n            min={0}\r\n            required\r\n          />\r\n          <div className={classes.nameTextInput}>\r\n            <Select\r\n              value={productsRef}\r\n              field=\"productsRef\"\r\n              onChange={this.handleChange}\r\n              data={subordinateProducts.data}\r\n              textField=\"name\"\r\n              multiple\r\n              fullWidth\r\n              disabled={disabled}\r\n            />\r\n          </div>\r\n          <Switch\r\n            label=\"Zrušené\"\r\n            value={this.state.disabled}\r\n            field=\"disabled\"\r\n            onChange={this.handleChange}\r\n          />\r\n          <Switch\r\n            label=\"Na hlavnej stránke\"\r\n            value={this.state.main}\r\n            field=\"main\"\r\n            onChange={this.handleChange}\r\n          />\r\n          <FileInput\r\n            mimeType=\"image/jpeg\"\r\n            value={_img}\r\n            field=\"_img\"\r\n            onChange={this.handleChange}\r\n            disabled={this.state._id || this.state._id === \"\" || disabled}\r\n            height={config.imageSize}\r\n          />\r\n          <FileInput\r\n            mimeType=\"image/jpeg\"\r\n            value={_thumbnail}\r\n            field=\"_thumbnail\"\r\n            onChange={this.handleChange}\r\n            disabled={this.state._id || this.state._id === \"\" || disabled}\r\n            height={config.thumbnailSize}\r\n          />\r\n        </Form>\r\n\r\n        <Editor\r\n          field=\"long_description\"\r\n          value={long_description}\r\n          onChange={this.handleChange}\r\n          height={config.imageSize}\r\n          disabled={disabled}\r\n        />\r\n\r\n        {tech_param_forms.map((p) => p.element)}\r\n\r\n        <Button\r\n          disabled={disabledAddTechParamForm}\r\n          onClick={this.handleAddTechParam}\r\n          className={classes.button}\r\n        >\r\n          + Pridať technicky parameter\r\n        </Button>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nFormWrapper.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  data: PropTypes.object,\r\n  onSubmit: PropTypes.func,\r\n  date: PropTypes.instanceOf(Date),\r\n  disabled: PropTypes.bool,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withStore,\r\n  withDoby,\r\n  withUser\r\n)(FormWrapper);\r\n","import React from \"react\";\r\nimport Table from \"../shared/table/Table\";\r\nimport FormDialog from \"../shared/FormDialog\";\r\nimport Form from \"./Form\";\r\n\r\nimport compose from \"../../compose\";\r\nimport withStore from \"../../consumers/withStore\";\r\nimport withDoby from \"../../consumers/withDoby\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport { withLocalization } from \"../shared/localization\";\r\n\r\nconst ROWS = [\r\n  { field: \"name\", disablePadding: true },\r\n  { field: \"price_without_tax\", type: \"num\" },\r\n  { field: \"tax\", type: \"num\" },\r\n  { field: \"ean\" },\r\n  { field: \"price_with_tax\", type: \"num\" },\r\n  { field: \"disabled\", type: \"bool\" },\r\n  { field: \"_id\" },\r\n];\r\n\r\nclass TableWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      x: null,\r\n      isOpen: false,\r\n    };\r\n  }\r\n\r\n  handleChangeClient = (name, value) => {\r\n    this.setState({ clientId: value });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ isOpen: false });\r\n  };\r\n\r\n  handleOpen = () => {\r\n    this.setState({ isOpen: true });\r\n  };\r\n\r\n  handleChange = async (filters, page, sort, render) => {\r\n    try {\r\n      return await this.props.doby.getProducts(filters, sort, page, render);\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  handleClone = async (x) => {\r\n    this.setState({ x: { ...x, _id: \"\" }, isOpen: true });\r\n  };\r\n\r\n  onEdit = async (x) => {\r\n    this.setState({ x, isOpen: true });\r\n  };\r\n\r\n  isDisabled = (x) => {\r\n    return false;\r\n  };\r\n\r\n  render() {\r\n    const { deleteProduct } = this.props.doby;\r\n    const { translate } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <Table\r\n          rows={ROWS}\r\n          data=\"products\"\r\n          onChange={this.handleChange}\r\n          onClone={this.handleClone}\r\n          onDelete={deleteProduct}\r\n          title={translate(\"products\")}\r\n          onEdit={this.onEdit}\r\n          store={{ ...this.props.doby, ...this.props.store }}\r\n          filters={[]}\r\n          isDisabled={this.isDisabled}\r\n          filename=\"products\"\r\n        />\r\n        <FormDialog\r\n          title={translate(\"product\")}\r\n          onClose={this.handleClose}\r\n          isOpen={this.state.isOpen}\r\n        >\r\n          <Form data={this.state.x} onSubmit={this.handleClose} />\r\n        </FormDialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  withStore,\r\n  withDoby,\r\n  withUser,\r\n  withLocalization\r\n)(TableWrapper);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Form from \"./Form\";\r\nimport Table from \"./Table\";\r\n\r\nimport compose from \"../../compose\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport getSharedStyles from \"../../style\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getSharedStyles(theme),\r\n  paper: {\r\n    padding: theme.spacing.unit,\r\n  },\r\n});\r\n\r\nfunction CenteredGrid(props) {\r\n  const { classes } = props;\r\n  return (\r\n    <Grid container>\r\n      <Grid item xs={12} className={classes.p2}>\r\n        <Paper className={classes.paper}>\r\n          <Form />\r\n        </Paper>\r\n      </Grid>\r\n      <Grid item xs={12} className={classes.p2}>\r\n        <Table />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nCenteredGrid.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(withStyles(styles), withUser)(CenteredGrid);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport TextInput from \"../shared/TextInput\";\r\nimport Form from \"../shared/form/Form\";\r\nimport Select from \"../shared/Select\";\r\nimport FileInput from \"../shared/FileInput\";\r\nimport Editor from \"../shared/Editor\";\r\nimport config from \"../../config\";\r\n\r\nimport withDoby from \"../../consumers/withDoby\";\r\nimport withStore from \"../../consumers/withStore\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport compose from \"../../compose\";\r\n\r\nconst styles = (theme) => ({\r\n  nameTextInput: {\r\n    display: \"flex\",\r\n    flex: 1,\r\n  },\r\n});\r\n\r\nconst INIT_STATE = {\r\n  title: \"\",\r\n  description: \"\",\r\n  typeRef: null,\r\n  content: \"\",\r\n  _img: null,\r\n  _thumbnail: null,\r\n};\r\n\r\nclass FormWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = props.data || INIT_STATE;\r\n  }\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      const { getEnums } = this.props.store;\r\n      const filter = [\r\n        { field: \"enumTypeId\", value: 1 },\r\n        { field: \"disabled\", value: false },\r\n      ];\r\n      await getEnums(filter);\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  }\r\n\r\n  handleChangeTypeRef = (name, value) => {\r\n    this.setState({ [name]: { id: value } });\r\n  };\r\n\r\n  handleChange = (name, value) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleSubmit = async () => {\r\n    const { addPost, refreshPosts, editPost } = this.props.doby;\r\n\r\n    try {\r\n      if (this.state._id) {\r\n        await editPost(this.state);\r\n      } else {\r\n        await addPost(this.state);\r\n      }\r\n\r\n      refreshPosts();\r\n      this.setState(INIT_STATE);\r\n\r\n      if (this.props.onSubmit) this.props.onSubmit();\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes, disabled } = this.props;\r\n    const {\r\n      title,\r\n      description,\r\n      typeRef,\r\n      content,\r\n      _img,\r\n      _thumbnail,\r\n    } = this.state;\r\n    const { enums } = this.props.store;\r\n\r\n    return (\r\n      <>\r\n        <Form onSubmit={this.handleSubmit} inline disabled={disabled}>\r\n          <TextInput\r\n            value={title}\r\n            field=\"title\"\r\n            onChange={this.handleChange}\r\n            required\r\n            disabled={disabled}\r\n          />\r\n          <div className={classes.nameTextInput}>\r\n            <TextInput\r\n              value={description}\r\n              field=\"description\"\r\n              onChange={this.handleChange}\r\n              required\r\n              fullWidth\r\n              disabled={disabled}\r\n            />\r\n          </div>\r\n          <Select\r\n            value={typeRef ? typeRef.id : null}\r\n            field=\"typeRef\"\r\n            onChange={this.handleChangeTypeRef}\r\n            data={enums.data}\r\n            textField=\"name\"\r\n            required\r\n            disabled={disabled}\r\n          />\r\n          <FileInput\r\n            mimeType=\"image/jpeg\"\r\n            value={_img}\r\n            field=\"_img\"\r\n            onChange={this.handleChange}\r\n            disabled={this.state._id || this.state._id === \"\" || disabled}\r\n            height={config.imageSize}\r\n          />\r\n          <FileInput\r\n            mimeType=\"image/jpeg\"\r\n            value={_thumbnail}\r\n            field=\"_thumbnail\"\r\n            onChange={this.handleChange}\r\n            disabled={this.state._id || this.state._id === \"\" || disabled}\r\n            height={config.thumbnailSize}\r\n          />\r\n        </Form>\r\n        <Editor\r\n          field=\"content\"\r\n          value={content}\r\n          onChange={this.handleChange}\r\n          height={config.imageSize}\r\n          disabled={disabled}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nFormWrapper.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  data: PropTypes.object,\r\n  onSubmit: PropTypes.func,\r\n  date: PropTypes.instanceOf(Date),\r\n  disabled: PropTypes.bool,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withStore,\r\n  withDoby,\r\n  withUser\r\n)(FormWrapper);\r\n","import React from \"react\";\r\nimport Table from \"../shared/table/Table\";\r\nimport FormDialog from \"../shared/FormDialog\";\r\nimport Form from \"./Form\";\r\n\r\nimport compose from \"../../compose\";\r\nimport withStore from \"../../consumers/withStore\";\r\nimport withDoby from \"../../consumers/withDoby\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport { withLocalization } from \"../shared/localization\";\r\n\r\nconst ROWS = [\r\n  { field: \"title\", disablePadding: true },\r\n  { field: \"description\" },\r\n  {\r\n    field: \"type.name\",\r\n    type: \"enum\",\r\n    data: \"enums\",\r\n    idField: \"typeRef.id\",\r\n    sortable: false,\r\n  },\r\n  { field: \"_id\" },\r\n];\r\n\r\nclass TableWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      x: null,\r\n      isOpen: false,\r\n    };\r\n  }\r\n\r\n  handleChangeClient = (name, value) => {\r\n    this.setState({ clientId: value });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ isOpen: false });\r\n  };\r\n\r\n  handleOpen = () => {\r\n    this.setState({ isOpen: true });\r\n  };\r\n\r\n  handleChange = async (filters, page, sort, render) => {\r\n    try {\r\n      return await this.props.doby.getPosts(filters, sort, page, render);\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  onEdit = async (x) => {\r\n    this.setState({ x, isOpen: true });\r\n  };\r\n\r\n  isDisabled = (x) => {\r\n    return false;\r\n  };\r\n\r\n  render() {\r\n    const { deletePost } = this.props.doby;\r\n    const { translate } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <Table\r\n          rows={ROWS}\r\n          data=\"posts\"\r\n          onChange={this.handleChange}\r\n          onDelete={deletePost}\r\n          title={translate(\"posts\")}\r\n          onEdit={this.onEdit}\r\n          store={{ ...this.props.doby, ...this.props.store }}\r\n          filters={[]}\r\n          isDisabled={this.isDisabled}\r\n          filename='posts'\r\n        />\r\n        <FormDialog\r\n          title={translate(\"post\")}\r\n          onClose={this.handleClose}\r\n          isOpen={this.state.isOpen}\r\n        >\r\n          <Form data={this.state.x} onSubmit={this.handleClose} />\r\n        </FormDialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  withStore,\r\n  withDoby,\r\n  withUser,\r\n  withLocalization\r\n)(TableWrapper);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Form from \"./Form\";\r\nimport Table from \"./Table\";\r\n\r\nimport compose from \"../../compose\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport getSharedStyles from \"../../style\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getSharedStyles(theme),\r\n  paper: {\r\n    padding: theme.spacing.unit,\r\n  },\r\n});\r\n\r\nfunction CenteredGrid(props) {\r\n  const { classes } = props;\r\n  return (\r\n    <Grid container>\r\n      <Grid item xs={12} className={classes.p2}>\r\n        <Paper className={classes.paper}>\r\n          <Form />\r\n        </Paper>\r\n      </Grid>\r\n      <Grid item xs={12} className={classes.p2}>\r\n        <Table />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nCenteredGrid.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(withStyles(styles), withUser)(CenteredGrid);\r\n","import React from 'react';\r\nimport Table from '../shared/table/Table';\r\n\r\nimport compose from '../../compose';\r\nimport withUser from '../../consumers/withUser';\r\nimport { withLocalization } from '../shared/localization'\r\n\r\nconst ROWS = [\r\n  { field: 'name', disablePadding: true },\r\n  { field: 'email' },\r\n  { field: 'tel' },\r\n  { field: '_id' }\r\n];\r\n\r\nclass TableWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);  \r\n    this.state = {\r\n      x: null,\r\n      isOpen: false\r\n    }\r\n  }\r\n\r\n  handleChangeClient = (name, value) => {\r\n    this.setState({ clientId: value });\r\n  }\r\n\r\n  handleClose = () => {\r\n    this.setState({ isOpen: false });\r\n  }\r\n\r\n  handleOpen = () => {\r\n    this.setState({ isOpen: true });\r\n  }\r\n\r\n  handleChange = async (filters, page, sort, render) => {\r\n    try {\r\n      return await this.props.user.getUsers(filters, sort, page, render);\r\n    }\r\n    catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  }\r\n\r\n  onEdit = async (x) => {\r\n    this.setState({ x, isOpen: true })\r\n  }\r\n\r\n  isDisabled = x => {\r\n    return true;\r\n  }\r\n\r\n  render() {\r\n    const { translate } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <Table\r\n          rows={ROWS}\r\n          data='users'\r\n          onChange={this.handleChange}\r\n          title={translate('users')}\r\n          onEdit={this.onEdit}\r\n          store={this.props.user}\r\n          filters={[]}\r\n          isDisabled={this.isDisabled}\r\n          filename='users'\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  withUser,\r\n  withLocalization\r\n)(TableWrapper);","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Table from \"./Table\";\r\n\r\nimport compose from \"../../compose\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport getSharedStyles from \"../../style\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getSharedStyles(theme),\r\n  paper: {\r\n    padding: theme.spacing.unit,\r\n  },\r\n});\r\n\r\nfunction CenteredGrid(props) {\r\n  const { classes } = props;\r\n  return (\r\n    <Grid container>\r\n      <Grid item xs={12} className={classes.p2}>\r\n        <Table />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nCenteredGrid.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(withStyles(styles), withUser)(CenteredGrid);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport TextInput from \"../shared/TextInput\";\r\nimport Form from \"../shared/form/Form\";\r\nimport FileInput from \"../shared/FileInput\";\r\nimport NumInput from \"../shared/NumInput\";\r\nimport Select from \"../shared/Select\";\r\nimport config from \"../../config\";\r\n\r\nimport withDoby from \"../../consumers/withDoby\";\r\nimport withStore from \"../../consumers/withStore\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport compose from \"../../compose\";\r\n\r\nconst styles = (theme) => ({\r\n  nameTextInput: {\r\n    display: \"flex\",\r\n    flex: 1,\r\n  },\r\n});\r\n\r\nconst INIT_STATE = {\r\n  name: \"\",\r\n  description: \"\",\r\n  typeRef: null,\r\n  key: 0,\r\n  _logo: \"\",\r\n};\r\n\r\nclass FormWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = props.data || INIT_STATE;\r\n  }\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      const { getEnums } = this.props.store;\r\n      const filter = [\r\n        { field: \"enumTypeId\", value: 3 },\r\n        { field: \"disabled\", value: false },\r\n      ];\r\n      await getEnums(filter);\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  }\r\n\r\n  handleChangeTypeRef = (name, value) => {\r\n    this.setState({ [name]: { id: value } });\r\n  };\r\n\r\n  handleChange = (name, value) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleSubmit = async (content) => {\r\n    const { addPartner, refreshPartners, editPartner } = this.props.doby;\r\n    const data = { ...this.state, content };\r\n\r\n    try {\r\n      if (this.state._id) {\r\n        await editPartner(data);\r\n      } else {\r\n        await addPartner(data);\r\n      }\r\n\r\n      refreshPartners();\r\n      this.setState(INIT_STATE);\r\n\r\n      if (this.props.onSubmit) this.props.onSubmit();\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes, disabled } = this.props;\r\n    const { name, description, typeRef, key, _logo } = this.state;\r\n    const { enums } = this.props.store;\r\n\r\n    return (\r\n      <Form onSubmit={this.handleSubmit} inline disabled={disabled}>\r\n        <TextInput\r\n          value={name}\r\n          field=\"name\"\r\n          onChange={this.handleChange}\r\n          required\r\n          disabled={disabled}\r\n        />\r\n        <div className={classes.nameTextInput}>\r\n          <TextInput\r\n            value={description}\r\n            field=\"description\"\r\n            onChange={this.handleChange}\r\n            required\r\n            fullWidth\r\n            disabled={disabled}\r\n          />\r\n        </div>\r\n        <Select\r\n          value={typeRef ? typeRef.id : null}\r\n          field=\"typeRef\"\r\n          onChange={this.handleChangeTypeRef}\r\n          data={enums.data}\r\n          textField=\"name\"\r\n          required\r\n          disabled={disabled}\r\n        />\r\n        <NumInput value={key} field=\"key\" onChange={this.handleChange} />\r\n\r\n        <FileInput\r\n          mimeType=\"image/jpeg\"\r\n          value={_logo}\r\n          field=\"_logo\"\r\n          onChange={this.handleChange}\r\n          disabled={this.state._id || disabled}\r\n          height={config.logoSize}\r\n        />\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nFormWrapper.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  data: PropTypes.object,\r\n  onSubmit: PropTypes.func,\r\n  date: PropTypes.instanceOf(Date),\r\n  disabled: PropTypes.bool,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withStore,\r\n  withDoby,\r\n  withUser\r\n)(FormWrapper);\r\n","import React from \"react\";\r\nimport Table from \"../shared/table/Table\";\r\nimport FormDialog from \"../shared/FormDialog\";\r\nimport Form from \"./Form\";\r\n\r\nimport compose from \"../../compose\";\r\nimport withStore from \"../../consumers/withStore\";\r\nimport withDoby from \"../../consumers/withDoby\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport { withLocalization } from \"../shared/localization\";\r\n\r\nconst ROWS = [\r\n  { field: \"name\", disablePadding: true },\r\n  { field: \"description\" },\r\n  {\r\n    field: \"type.name\",\r\n    type: \"enum\",\r\n    data: \"enums\",\r\n    idField: \"typeRef.id\",\r\n    sortable: false,\r\n  },\r\n  { field: \"key\", type: \"num\" },\r\n  { field: \"_id\" },\r\n];\r\n\r\nclass TableWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      x: null,\r\n      isOpen: false,\r\n    };\r\n  }\r\n\r\n  handleChangeClient = (name, value) => {\r\n    this.setState({ clientId: value });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ isOpen: false });\r\n  };\r\n\r\n  handleOpen = () => {\r\n    this.setState({ isOpen: true });\r\n  };\r\n\r\n  handleChange = async (filters, page, sort, render) => {\r\n    try {\r\n      return await this.props.doby.getPartners(filters, sort, page, render);\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  onEdit = async (x) => {\r\n    this.setState({ x, isOpen: true });\r\n  };\r\n\r\n  isDisabled = (x) => {\r\n    return false;\r\n  };\r\n\r\n  render() {\r\n    const { deletePartner } = this.props.doby;\r\n    const { translate } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <Table\r\n          rows={ROWS}\r\n          data=\"partners\"\r\n          onChange={this.handleChange}\r\n          onDelete={deletePartner}\r\n          title={translate(\"partners\")}\r\n          onEdit={this.onEdit}\r\n          store={{ ...this.props.doby, ...this.props.store }}\r\n          filters={[]}\r\n          isDisabled={this.isDisabled}\r\n          filename=\"partners\"\r\n        />\r\n        <FormDialog\r\n          title={translate(\"partner\")}\r\n          onClose={this.handleClose}\r\n          isOpen={this.state.isOpen}\r\n        >\r\n          <Form data={this.state.x} onSubmit={this.handleClose} />\r\n        </FormDialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  withStore,\r\n  withDoby,\r\n  withUser,\r\n  withLocalization\r\n)(TableWrapper);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Form from \"./Form\";\r\nimport Table from \"./Table\";\r\n\r\nimport compose from \"../../compose\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport getSharedStyles from \"../../style\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getSharedStyles(theme),\r\n  paper: {\r\n    padding: theme.spacing.unit,\r\n  },\r\n});\r\n\r\nfunction CenteredGrid(props) {\r\n  const { classes } = props;\r\n  return (\r\n    <Grid container>\r\n      <Grid item xs={12} className={classes.p2}>\r\n        <Paper className={classes.paper}>\r\n          <Form />\r\n        </Paper>\r\n      </Grid>\r\n      <Grid item xs={12} className={classes.p2}>\r\n        <Table />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nCenteredGrid.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(withStyles(styles), withUser)(CenteredGrid);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { withLocalization } from '../shared/localization';\r\nimport getSharedStyles from '../../style';\r\nimport compose from '../../compose';\r\nimport classNames from 'classnames';\r\nimport Button from './form/Button';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n\r\n    card: {\r\n        minWidth: 300,   \r\n    },   \r\n});\r\n\r\nfunction ChallengeCard(props) {\r\n    const { classes } = props;\r\n    return (\r\n        <div className={classNames(classes.card, classes.roundedMd, classes.p5, classes.cardShadow, props.className)}>\r\n            <div className={classNames()}>\r\n                <div className={classNames(classes.textMd, classes.fontBold)}>\r\n                    {props.title}\r\n                </div>\r\n                <div className={classNames(classes.textXs, classes.text200)}>\r\n                    {props.description}\r\n                </div>\r\n            </div>\r\n            <div className={classNames(classes.mt4, classes.dFlex, classes.w100, classes.justifyContentBetween)}>\r\n                <Button \r\n                    fullwidth\r\n                    className={classNames(classes.mr1)}\r\n                    onClick={props.onClickMoreInfo}\r\n                >\r\n                   {props.translate('more_info')}\r\n                </Button>\r\n                <Button \r\n                    fullwidth\r\n                    className={classNames(classes.ml1)}\r\n                    onClick={props.onClickParticipate}\r\n                >\r\n                    {props.translate('participate')}\r\n                </Button>               \r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nChallengeCard.propTypes = {\r\n    className: PropTypes.string,\r\n    onClickMoreInfo: PropTypes.func,\r\n    onClickParticipate: PropTypes.func,\r\n    title: PropTypes.string.isRequired,\r\n    description: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withLocalization\r\n)(ChallengeCard);","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport getSharedStyles from '../../style';\r\nimport { getStyles } from '../shared/style';\r\nimport classNames from 'classnames';\r\n\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport VizSensor from 'react-visibility-sensor';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    ...getStyles(theme),\r\n\r\n    root: {\r\n        justifyContent: 'center'\r\n    },\r\n    itemCard: {\r\n        boxShadow: 'none',\r\n        backgroundColor: 'transparent'\r\n    },\r\n    media: {\r\n        height: 140,\r\n        width: '100%',\r\n        backgroundColor: '#ededed',\r\n    },\r\n    price: {\r\n        fontWeight: 'bold',\r\n        float: 'left',\r\n        display: 'inline-block'\r\n    },\r\n    source: {\r\n        float: 'right',\r\n        display: 'inline-block'\r\n    },\r\n    membersOnlySpacer: {\r\n        height: 10,\r\n        width: '100%'\r\n    },\r\n    membersOnly: {\r\n        height: 25,\r\n        backgroundColor: '#4c4c4c',\r\n        width: '90%',\r\n        color: 'white',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        textAlign: 'center',\r\n        paddingLeft: 5\r\n    }\r\n});\r\n\r\nfunction ItemCard(props) {\r\n    const [img, setImg] = useState(null);\r\n    const onViz = async (isVisible) => {\r\n        try {\r\n            if(props.Id) {\r\n                const data = await props.onViz(props.Id);\r\n                var reader = new FileReader();\r\n                reader.onloadend = () => {\r\n                    setImg(reader.result);\r\n                }\r\n                reader.readAsDataURL(data);\r\n            }\r\n        } catch(e) {\r\n            console.error(e);\r\n        }\r\n    }\r\n\r\n    const { classes } = props;\r\n    return (\r\n        <VizSensor\r\n            partialVisibility\r\n            onChange={onViz}\r\n        >\r\n            <Card\r\n                className={classNames(classes.itemCard, classes.w100)}\r\n                onClick={props.onClick}\r\n            >\r\n                <CardActionArea>\r\n                    <CardMedia\r\n                        className={classes.media}\r\n                        image={img || '/img/logo.png'}\r\n                        title={props.name}\r\n                    >\r\n                        {props.membersOnly ? (\r\n                            <div className={styles.center}>\r\n                                <div className={classes.membersOnlySpacer}></div>\r\n                                <div className={classNames(classes.membersOnly, styles.center)}>Pre účastníkov výzvy</div>\r\n                            </div>\r\n                        ) : null\r\n                        }\r\n                    </CardMedia>\r\n                    <CardContent className={classNames(classes.p0, classes.mt3)}>\r\n                        <Typography>{props.name}</Typography>\r\n                        <Typography component=\"p\" className={classes.price}>\r\n                            <small>{props.price}{props.curr}</small>\r\n                        </Typography>\r\n                        <Typography component=\"p\" className={classes.source}>\r\n                            {props.source}\r\n                        </Typography>\r\n                    </CardContent>\r\n                </CardActionArea>\r\n            </Card>\r\n        </VizSensor>\r\n    );\r\n}\r\n\r\nItemCard.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n    onClick: PropTypes.func.isRequired,\r\n    name: PropTypes.string.isRequired,\r\n    price: PropTypes.number.isRequired,\r\n    curr: PropTypes.string.isRequired,\r\n    source: PropTypes.string.isRequired,\r\n    onViz: PropTypes.func.isRequired,\r\n    Id: PropTypes.string,\r\n    membersOnly: PropTypes.bool\r\n};\r\n\r\nexport default withStyles(styles)(ItemCard);","import React from 'react';\r\nimport { withRouter } from 'react-router';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport getSharedStyles from '../../style';\r\nimport classNames from 'classnames';\r\n\r\nimport Select from '../shared/Select';\r\nimport ChallengeCard from '../dobyComponents/ChallengeCard'\r\nimport ItemCard from './ItemCard';\r\nimport compose from '../../compose';\r\nimport config from '../../config';\r\nimport withStore from '../../consumers/withStore';\r\nimport withDoby from '../../consumers/withDoby';\r\nimport withUser from '../../consumers/withUser';\r\n\r\nimport Flickity from \"react-flickity-component\";\r\nimport { withLocalization } from '../shared/localization'\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    challengeCarousel: {\r\n        '& .flickity-viewport': {\r\n            //padding: '7px'\r\n        },\r\n        '& .carousel-cell:first-child': {\r\n            paddingLeft: '1.25rem'\r\n        },\r\n        '& .carousel-cell:last-child': {\r\n            paddingRight: '0.5rem',           \r\n        }\r\n    },\r\n    challengeList: {\r\n        overflowX: 'auto',\r\n        overflowY: 'hidden',\r\n        position: 'relative',\r\n        '&::-webkit-scrollbar': {\r\n            display: 'none'\r\n        }\r\n    },\r\n    challengeListWrapper: {\r\n        display: 'flex',\r\n    },\r\n    itemFilterSelect: {\r\n        marginBottom: '20px'\r\n    }\r\n});\r\n\r\nconst flickityOptions = {\r\n    cellAlign: 'left',\r\n    contain: true,\r\n    prevNextButtons: false,\r\n    pageDots: false\r\n}\r\n\r\nclass Eshop extends React.Component {   \r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            itemFilterId: '1'\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchData();\r\n    }\r\n\r\n    fetchData = async () => {\r\n        await this.props.doby.getChallenges();\r\n\r\n        const filter = [\r\n            { field: \"main\", value: true },\r\n        ];\r\n\r\n        await this.props.doby.getProducts(filter);\r\n    }\r\n\r\n    handleChange = (name, value) => {\r\n        this.setState({[name]: value});\r\n    }\r\n\r\n    joinChallenge = (challenge) => {\r\n        if(challenge._id) \r\n            this.props.history.push(`/challenge-checkout/${challenge._id}`);\r\n    }\r\n\r\n    showProductDetail = (product)=>  {\r\n        if(product.catalog_id.length > 0)\r\n            this.props.history.push(`/eshop/product/${product.catalog_id}`);\r\n    }\r\n\r\n    renderChallenges = () => {\r\n        const { challenges } = this.props.doby;\r\n        const { classes } = this.props;\r\n        return challenges.data.map(challenge => {\r\n            const endDate = new Date(challenge.end);\r\n            return (\r\n                <div className={\"carousel-cell\"} key={challenge._id}>\r\n                    <ChallengeCard\r\n                        title={challenge.name}\r\n                        description={`${this.props.translate('register_to_date')} ${endDate.getDay()}.${endDate.getMonth() + 1}.`}\r\n                        onClickParticipate={()=> this.joinChallenge(challenge)}\r\n                        className={classNames(classes.mt2, classes.mb2, classes.mr3)}\r\n                    />\r\n                </div>\r\n            );\r\n        });\r\n    }\r\n\r\n    renderProducts = () => {\r\n        const { products } = this.props.doby;\r\n        return products.isLoading ? (\r\n            <div style={{flexGrow: 1}}>\r\n                <LinearProgress color=\"secondary\"/>\r\n            </div>) : products.data.map(product => {                \r\n            return (\r\n                <Grid item xs={6} sm={3} lg={2} key={product._id}>\r\n                    <ItemCard\r\n                        onClick={()=> this.showProductDetail(product)}\r\n                        name={product.name}\r\n                        price={product.price_with_tax}\r\n                        curr={config.currency}\r\n                        Id={product.thumbnailId}\r\n                        onViz={this.props.store.getFile}\r\n                        source={product.count > 0 ? this.props.translate('in_stock') : this.props.translate('out_stock')}\r\n                        //membersOnly\r\n                    />\r\n                </Grid>\r\n            );\r\n        })\r\n    }\r\n\r\n    render() {        \r\n        const { classes } = this.props;\r\n        return (\r\n            <div>\r\n                <div>\r\n                    <Flickity\r\n                        className={classNames(classes.mt4, classes.challengeCarousel)}\r\n                        options={flickityOptions}\r\n                        reloadOnUpdate={true}\r\n                    >\r\n                        { this.renderChallenges() }                    \r\n                    </Flickity>\r\n                </div>\r\n                {/* <div className={classNames(classes.challengeList, classes.mt4)}>\r\n                    <div className={classNames(classes.challengeListWrapper, classes.pt2, classes.pb2, classes.pl5)}>\r\n                        { this.renderChallenges() }\r\n                    </div>\r\n                </div> */}\r\n                <div className={classNames(classes.container, classes.mt5)}>\r\n                    <Select\r\n                        className={classes.itemFilterSelect}\r\n                        value={this.state.itemFilterId}\r\n                        field=\"itemFilterId\"\r\n                        onChange={this.handleChange}\r\n                        data={[\r\n                            {name: this.props.translate('most_liked'), _id: '1'}, \r\n                            {name: this.props.translate('cheapest'), _id: '2'},\r\n                            {name: this.props.translate('most_expensive'), _id: '3'}\r\n                        ]}\r\n                        textField=\"name\"\r\n                        required\r\n                    />\r\n                    <Grid container spacing={24}>\r\n                        { this.renderProducts() }\r\n                    </Grid>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nEshop.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(\r\n    withRouter,\r\n    withStore,\r\n    withStyles(styles),\r\n    withDoby,\r\n    withUser,\r\n    withLocalization\r\n)(Eshop);","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { withLocalization } from \"../../shared/localization\";\r\nimport getSharedStyles from '../../../style';\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport CheckBoxOutlineBlankIcon from \"@material-ui/icons/CheckBoxOutlineBlank\";\r\nimport CheckBoxIcon from \"@material-ui/icons/CheckBox\";\r\nimport classNames from \"classnames\";\r\n\r\nconst styles = (theme) => ({\r\n    ...getSharedStyles(theme),\r\n    checkbox: {\r\n        color: `${theme.palette.secondary.main}!important`,\r\n        padding: 0,\r\n    },\r\n    checkboxLight: {\r\n        color: \"white!important\",\r\n    },\r\n    checkboxIcon: {\r\n        fontSize: \"24px\",\r\n    },\r\n    controlNoLabel: {\r\n        marginRight: \"0\",\r\n    },\r\n    formControlLabelRoot: {\r\n        marginLeft: '0',\r\n        marginRight: '0',\r\n    },\r\n    label: {\r\n        marginLeft: '5px',\r\n    }\r\n});\r\n\r\nfunction CheckboxFieldComponent(props) {\r\n    const { classes } = props;\r\n    const label = props.label || props.translate(\"field.\" + props.field);\r\n    const noLabel = props.noLabel ? props.noLabel : false;\r\n    return (\r\n        <FormControl className={classNames(props.className)} error={props.errorText && props.errorText !== \"\"}>\r\n            <FormControlLabel\r\n                control={\r\n                    <Checkbox\r\n                        //value={props.value}\r\n                        checked={props.value}\r\n                        onChange={(e) => props.onChange(props.field, e.target.checked)}\r\n                        classes={{ root: classNames(classes.checkbox, props.light && classes.checkboxLight) }}\r\n                        icon={\r\n                            <CheckBoxOutlineBlankIcon\r\n                                className={classNames(classes.checkboxIcon)}\r\n                            />\r\n                        }\r\n                        checkedIcon={\r\n                            <CheckBoxIcon className={classNames(classes.checkboxIcon)} />\r\n                        }\r\n                        disabled={props.disabled}\r\n                    />\r\n                }\r\n                label={!noLabel && label}\r\n                classes={{ root: props.noLabel && classes.controlNoLabel, root: classes.formControlLabelRoot, label: classNames(classes.label, props.labelClasses) }}\r\n                \r\n            />\r\n            {props.errorText && <FormHelperText className={classNames(classes.textError)}>{props.errorText}</FormHelperText>}\r\n        </FormControl>\r\n    );\r\n}\r\n\r\nCheckboxFieldComponent.propTypes = {\r\n    onChange: PropTypes.func.isRequired,\r\n    field: PropTypes.string.isRequired,\r\n    label: PropTypes.string,\r\n    value: PropTypes.string,\r\n    noLabel: PropTypes.bool,\r\n    disabled: PropTypes.bool,\r\n    labelClasses: PropTypes.string,\r\n    checkboxLight: PropTypes.bool,\r\n};\r\n\r\nexport default withLocalization(withStyles(styles)(CheckboxFieldComponent));\r\n","import config from  '../config';\r\n\r\nexport const formatPrice = (price) => (Math.round((price * 100) + Number.EPSILON) / 100).toFixed(2) + '\\xa0' + getCurrencySymbol(config.currency);\r\nexport const getCurrencySymbol = (currency) => {\r\n    switch(currency) {\r\n        case 'EUR': \r\n            return '€';\r\n        case 'USD': \r\n            return '$';\r\n        default:\r\n            return '🤢';\r\n    }\r\n}","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport compose from '../../../compose';\r\nimport { withLocalization } from '../../shared/localization'\r\nimport withStore from \"../../../consumers/withStore\";\r\nimport withDoby from \"../../../consumers/withDoby\";\r\nimport withUser from \"../../../consumers/withUser\";\r\nimport config from '../../../config'\r\n\r\nimport classNames from 'classnames';\r\nimport getSharedStyles from '../../../style';\r\n\r\nimport TextField from '../../dobyComponents/form/TextField';\r\nimport SelectField from '../../dobyComponents/form/SelectField';\r\nimport Checkbox from '../../dobyComponents/form/CheckboxField';\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport Button from '../../dobyComponents/form/Button';\r\n\r\nimport { formatPrice, getCurrencySymbol } from '../../../utils/helpers';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n});\r\n\r\nclass DeliveryPayment extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            invoiceErrorTexts: {\r\n                invoiceNameSurname: null,\r\n                invoiceCountry: null,\r\n                invoiceCity: null,\r\n                invoicePsc: null,\r\n                invoiceStreet: null, \r\n                invoiceStreetNumber: null\r\n            },\r\n            companyOrderErrorTexts: {\r\n                ico: null,\r\n                dic: null,\r\n                icdph: null,\r\n                bic: null,\r\n                iban: null,\r\n                accountOwner: null\r\n            },\r\n            commonErrorTexts: {\r\n                nameSurname: null,\r\n                email: null,\r\n                country: null,\r\n                city: null,\r\n                psc: null, \r\n                street: null,\r\n                streetNumber: null,\r\n                tel: null   \r\n            },\r\n            errorTexts: {},\r\n            isValid: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchData();\r\n    }\r\n\r\n    fetchData = async () => {\r\n        const { getEnums } = this.props.store;\r\n        const filter = [\r\n            { field: \"enumTypeId\", value: 5 },\r\n            { field: \"disabled\", value: false },\r\n        ];\r\n\r\n        await getEnums(filter);\r\n        await this.props.store.getTransports();\r\n        this.props.doby.cartGetProducts();\r\n        this.fillFromUser();\r\n    }\r\n\r\n    fillFromUser = () => {\r\n        const { user } = this.props.user;\r\n        if (!user) return;\r\n\r\n        //NOTE: prefill deliver order data from user profile\r\n        this.props.doby.deliveryOrderFill({\r\n            nameSurname: user.name,\r\n            country: user.country,\r\n            city: user.city,\r\n            email: user.email,\r\n            tel: user.tel,\r\n            psc: user.postCode\r\n        });\r\n\r\n        this.validateForm();\r\n    }\r\n\r\n    handleChangeCountry = async (field, value) => {\r\n        const filter = [\r\n            { field: \"countryId\", value },\r\n            { field: \"disabled\", value: false },\r\n        ];\r\n\r\n        this.props.doby.deliveryOrderChanged(field, value);\r\n        await this.props.store.getTransports(filter);\r\n    }\r\n\r\n    validateForm = () => {\r\n        const { deliveryData } = this.props.doby.checkout.data;\r\n        let errorTexts = {};\r\n        \r\n        for(let key in this.state.commonErrorTexts) {\r\n            if(key === 'tel') {\r\n                errorTexts[key] = deliveryData[key].length <= 4 ? this.props.translate('required_field') : null \r\n                continue;\r\n            }\r\n\r\n            errorTexts[key] = deliveryData[key].length <= 0 ? this.props.translate('required_field') : null \r\n        }\r\n\r\n        if(deliveryData.invoiceData) {\r\n            for(let key in this.state.invoiceErrorTexts) {\r\n                errorTexts[key] = deliveryData[key].length <= 0 ? this.props.translate('required_field') : null \r\n            }\r\n        }\r\n\r\n        if(deliveryData.companyOrder) {\r\n            for(let key in this.state.companyOrderErrorTexts) {\r\n                errorTexts[key] = deliveryData[key].length <= 0 ? this.props.translate('required_field') : null \r\n            }\r\n        }\r\n\r\n        const fieldsAreValid = Object.values(errorTexts).filter(v => v).length === 0;\r\n        const checkboxesAreChoosen = deliveryData.deliveryType && deliveryData.paymentMethod;\r\n        this.setState({errorTexts, isValid: fieldsAreValid && checkboxesAreChoosen});\r\n    }\r\n    \r\n    render() {\r\n        const { classes } = this.props;\r\n        const { enums } = this.props.store;\r\n        const { transports } = this.props.store;\r\n\r\n        const deliveryOrderChanged = async (field, value)  =>{\r\n            await this.props.doby.deliveryOrderChanged(field, value);\r\n            this.validateForm();\r\n        } \r\n\r\n        const { deliveryData } = this.props.doby.checkout.data;\r\n\r\n        return (\r\n            <form>\r\n                <div className={classNames(classes.container)}>\r\n                    <Grid\r\n                        container\r\n                        direction=\"row\"\r\n                        justify=\"center\"\r\n                        alignItems=\"center\"\r\n                    >\r\n                        <Grid item xs={12}>\r\n                            <h3 className={classNames(classes.mt4, classes.mb4, classes.textMonoH3)}>{this.props.translate('delivery_details')}</h3>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                                onChange={deliveryOrderChanged}\r\n                                fullWidth\r\n                                required\r\n                                value={deliveryData.nameSurname}\r\n                                field=\"nameSurname\"\r\n                                errorText={this.state.errorTexts.nameSurname}\r\n                                onBlur={this.validateForm}\r\n                            />\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt2)}>\r\n                            <TextField\r\n                                onChange={deliveryOrderChanged}\r\n                                fullWidth\r\n                                required\r\n                                value={deliveryData.email}\r\n                                field=\"email\"\r\n                                errorText={this.state.errorTexts.email}\r\n                                onBlur={this.validateForm}\r\n                            />\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt2)}>\r\n                            <SelectField\r\n                                onChange={this.handleChangeCountry}\r\n                                fullWidth\r\n                                required\r\n                                data={enums.data}\r\n                                value={deliveryData.country}\r\n                                field=\"country\"\r\n                                textField=\"name\"\r\n                                disabled={false}\r\n                                errorText={this.state.errorTexts.country}\r\n                                onBlur={this.validateForm}\r\n                            />\r\n                        </Grid>\r\n\r\n                        <Grid item xs={8} className={classNames(classes.mt2, classes.pr2)}>\r\n                            <TextField\r\n                                onChange={deliveryOrderChanged}\r\n                                fullWidth\r\n                                required\r\n                                value={deliveryData.city}\r\n                                field=\"city\"\r\n                                errorText={this.state.errorTexts.city}\r\n                                onBlur={this.validateForm}\r\n                            />\r\n                        </Grid>\r\n\r\n                        <Grid item xs={4} className={classNames(classes.mt2)}>\r\n                            <TextField\r\n                                onChange={deliveryOrderChanged}\r\n                                fullWidth\r\n                                required\r\n                                value={deliveryData.psc}\r\n                                field=\"psc\"\r\n                                errorText={this.state.errorTexts.psc}\r\n                                onBlur={this.validateForm}\r\n                            />\r\n                        </Grid>\r\n\r\n                        <Grid item xs={8} className={classNames(classes.mt2, classes.pr2)}>\r\n                            <TextField\r\n                                onChange={deliveryOrderChanged}\r\n                                fullWidth\r\n                                required\r\n                                value={deliveryData.street}\r\n                                field=\"street\"\r\n                                errorText={this.state.errorTexts.street}\r\n                                onBlur={this.validateForm}\r\n                            />\r\n                        </Grid>\r\n\r\n                        <Grid item xs={4} className={classNames(classes.mt2)}>\r\n                            <TextField\r\n                                onChange={deliveryOrderChanged}\r\n                                fullWidth\r\n                                required\r\n                                value={deliveryData.streetNumber}\r\n                                field=\"streetNumber\"\r\n                                errorText={this.state.errorTexts.streetNumber}\r\n                                onBlur={this.validateForm}\r\n                            />\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt2)}>\r\n                            <TextField\r\n                                onChange={deliveryOrderChanged}\r\n                                fullWidth\r\n                                required\r\n                                value={deliveryData.tel}\r\n                                field=\"tel\"\r\n                                errorText={this.state.errorTexts.tel}\r\n                                onBlur={this.validateForm}\r\n                            />\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt2)}>\r\n                            <Checkbox\r\n                                onChange={deliveryOrderChanged}\r\n                                fullWidth\r\n                                required\r\n                                value={deliveryData.invoiceData}\r\n                                field=\"invoiceData\"\r\n                            />\r\n                        </Grid>\r\n\r\n                        {deliveryData.invoiceData && <>\r\n                            <Grid item xs={12}>\r\n                                <TextField\r\n                                    onChange={deliveryOrderChanged}\r\n                                    fullWidth\r\n                                    required\r\n                                    value={deliveryData.invoiceNameSurname}\r\n                                    field=\"invoiceNameSurname\"\r\n                                    label={this.props.translate('field.nameSurname')}\r\n                                    errorText={this.state.errorTexts.invoiceNameSurname}\r\n                                    onBlur={this.validateForm}\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={12} className={classNames(classes.mt2)}>\r\n                                <SelectField\r\n                                    onChange={deliveryOrderChanged}\r\n                                    fullWidth\r\n                                    required\r\n                                    data={enums.data}\r\n                                    value={deliveryData.invoiceCountry}\r\n                                    field=\"invoiceCountry\"\r\n                                    textField=\"name\"\r\n                                    label={this.props.translate('field.country')}\r\n                                    errorText={this.state.errorTexts.invoiceCountry}\r\n                                    onBlur={this.validateForm}\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={8} className={classNames(classes.mt2, classes.pr2)}>\r\n                                <TextField\r\n                                    onChange={deliveryOrderChanged}\r\n                                    fullWidth\r\n                                    required\r\n                                    value={deliveryData.invoiceCity}\r\n                                    field=\"invoiceCity\"\r\n                                    label={this.props.translate('field.city')}\r\n                                    errorText={this.state.errorTexts.invoiceCity}\r\n                                    onBlur={this.validateForm}\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={4} className={classNames(classes.mt2)}>\r\n                                <TextField\r\n                                    onChange={deliveryOrderChanged}\r\n                                    fullWidth\r\n                                    required\r\n                                    value={deliveryData.invoicePsc}\r\n                                    field=\"invoicePsc\"\r\n                                    label={this.props.translate('field.psc')}\r\n                                    errorText={this.state.errorTexts.invoicePsc}\r\n                                    onBlur={this.validateForm}\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={8} className={classNames(classes.mt2, classes.pr2)}>\r\n                                <TextField\r\n                                    onChange={deliveryOrderChanged}\r\n                                    fullWidth\r\n                                    required\r\n                                    value={deliveryData.invoiceStreet}\r\n                                    field=\"invoiceStreet\"\r\n                                    label={this.props.translate('field.street')}\r\n                                    errorText={this.state.errorTexts.invoiceStreet}\r\n                                    onBlur={this.validateForm}\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={4} className={classNames(classes.mt2)}>\r\n                                <TextField\r\n                                    onChange={deliveryOrderChanged}\r\n                                    fullWidth\r\n                                    required\r\n                                    value={deliveryData.invoiceStreetNumber}\r\n                                    field=\"invoiceStreetNumber\"\r\n                                    label={this.props.translate('field.streetNumber')}\r\n                                    errorText={this.state.errorTexts.invoiceStreetNumber}\r\n                                    onBlur={this.validateForm}\r\n                                />\r\n                            </Grid>\r\n                        </>}\r\n\r\n                        <Grid item xs={12}>\r\n                            <Checkbox\r\n                                onChange={deliveryOrderChanged}\r\n                                fullWidth\r\n                                required\r\n                                value={deliveryData.companyOrder}\r\n                                field=\"companyOrder\"\r\n                            />\r\n                        </Grid>\r\n\r\n                        {deliveryData.companyOrder && <>\r\n                            <Grid item xs={12}>\r\n                                <TextField\r\n                                    onChange={deliveryOrderChanged}\r\n                                    fullWidth\r\n                                    required\r\n                                    value={deliveryData.ico}\r\n                                    field=\"ico\"\r\n                                    errorText={this.state.errorTexts.ico}\r\n                                    onBlur={this.validateForm}\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={12} className={classNames(classes.mt2)}>\r\n                                <TextField\r\n                                    onChange={deliveryOrderChanged}\r\n                                    fullWidth\r\n                                    required\r\n                                    value={deliveryData.dic}\r\n                                    field=\"dic\"\r\n                                    errorText={this.state.errorTexts.dic}\r\n                                    onBlur={this.validateForm}\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={12} className={classNames(classes.mt2)}>\r\n                                <TextField\r\n                                    onChange={deliveryOrderChanged}\r\n                                    fullWidth\r\n                                    required\r\n                                    value={deliveryData.icdph}\r\n                                    field=\"icdph\"\r\n                                    errorText={this.state.errorTexts.icdph}\r\n                                    onBlur={this.validateForm}\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={12} className={classNames(classes.mt2)}>\r\n                                <TextField\r\n                                    onChange={deliveryOrderChanged}\r\n                                    fullWidth\r\n                                    required\r\n                                    value={deliveryData.bic}\r\n                                    field=\"bic\"\r\n                                    errorText={this.state.errorTexts.bic}\r\n                                    onBlur={this.validateForm}\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={12} className={classNames(classes.mt2)}>\r\n                                <TextField\r\n                                    onChange={deliveryOrderChanged}\r\n                                    fullWidth\r\n                                    required\r\n                                    value={deliveryData.iban}\r\n                                    field=\"iban\"\r\n                                    errorText={this.state.errorTexts.iban}\r\n                                    onBlur={this.validateForm}\r\n                                />\r\n                            </Grid>\r\n\r\n                            <Grid item xs={12} className={classNames(classes.mt2)}>\r\n                                <TextField\r\n                                    onChange={deliveryOrderChanged}\r\n                                    fullWidth\r\n                                    required\r\n                                    value={deliveryData.accountOwner}\r\n                                    field=\"accountOwner\"\r\n                                    errorText={this.state.errorTexts.accountOwner}\r\n                                    onBlur={this.validateForm}\r\n                                />\r\n                            </Grid>\r\n                        </>}\r\n\r\n                        <Grid item xs={12}>\r\n                            <h3 className={classNames(classes.mt4, classes.mb4, classes.textMonoH3)}>{this.props.translate('delivery')}</h3>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                            <div className={classNames(classes.flexCol, classes.w100)}>\r\n                                {transports && transports.data.map(item => {\r\n                                    return (\r\n                                        <div\r\n                                            className={classNames(classes.dFlex, classes.w100, classes.alignItemsCenter, classes.justifyContentBetween)}\r\n                                            onClick={(e) => deliveryOrderChanged(\"deliveryType\", item._id)}\r\n                                        >\r\n                                            <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.justifyContentBetween)}>\r\n                                                <div>\r\n                                                    ikona\r\n                                                    </div>\r\n                                                <div className={classNames(classes.ml5, classes.textM)}>\r\n                                                    {item.name}\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.justifyContentBetween)}>\r\n                                                <div className={classNames(classes.mr3, classes.fontBold)}>\r\n                                                    {formatPrice(item.price)} {getCurrencySymbol(config.currency)}\r\n                                                </div>\r\n                                                <div>\r\n                                                    <Radio\r\n                                                        onChange={(e) => deliveryOrderChanged(\"deliveryType\", item._id)}\r\n                                                        value={item._id}\r\n                                                        checked={deliveryData.deliveryType === item._id}\r\n                                                    />\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    )\r\n                                })\r\n                                }\r\n                            </div>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                            <h3 className={classNames(classes.mt4, classes.mb4, classes.textMonoH3)}>{this.props.translate('payment')}</h3>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                            <div className={classNames(classes.flexCol, classes.w100)}>\r\n                                {\r\n                                    deliveryData.paymentMethods.map(item => {\r\n                                        return (\r\n                                            <div className={classNames(classes.dFlex, classes.w100, classes.alignItemsCenter, classes.justifyContentBetween)} onClick={(e) => deliveryOrderChanged(\"paymentMethod\", item.id)}>\r\n                                                <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.justifyContentBetween)}>\r\n                                                    <div>\r\n                                                        ikona\r\n                                                    </div>\r\n                                                    <div className={classNames(classes.ml5, classes.textM)}>\r\n                                                        {item.name}\r\n                                                    </div>\r\n                                                </div>\r\n\r\n                                                <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.justifyContentBetween)}>\r\n                                                    <div className={classNames(classes.mr3, classes.fontBold)}>\r\n                                                        {formatPrice(item.price)} {getCurrencySymbol(config.currency)}\r\n                                                    </div>\r\n                                                    <div>\r\n                                                        <Radio\r\n                                                            onChange={(e) => deliveryOrderChanged(\"paymentMethod\", item.id)}\r\n                                                            value={item.id}\r\n                                                            checked={deliveryData.paymentMethod === item.id}\r\n                                                        />\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </div>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                            <Button\r\n                                onClick={() => { this.props.changeStep(4) }}\r\n                                className={classNames(classes.mb5, classes.mt4)}\r\n                                disabled={!this.state.isValid}\r\n                                fullwidth\r\n                            >\r\n                                {this.props.translate('continue')}\r\n                            </Button>\r\n                        </Grid>\r\n                    </Grid>\r\n                </div>\r\n            </form>\r\n        );\r\n    };\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withLocalization,\r\n    withStore,\r\n    withDoby,\r\n    withUser,\r\n)(DeliveryPayment);","import React, { useState }  from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport withDoby from '../../../consumers/withDoby';\r\nimport withUser from '../../../consumers/withUser';\r\nimport withStore from '../../../consumers/withStore';\r\nimport compose from '../../../compose';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { withLocalization } from '../../shared/localization'\r\nimport { formatPrice, getCurrencySymbol } from '../../../utils/helpers';\r\n\r\nimport getSharedStyles from '../../../style';\r\nimport classNames from 'classnames';\r\nimport config from '../../../config';\r\n//import ClearIcon from '@material-ui/icons/Clear';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    productThumbnail: {\r\n        width: '70px'\r\n    },\r\n    itemCountBtn: {\r\n        backgroundColor: '#ececec',\r\n        width: '24px',\r\n        height: '24px',\r\n        lineHeight: '21px',\r\n        textAlign: 'center',\r\n        fontSize: '19px',\r\n        borderRadius: '4px',\r\n        cursor: 'pointer'\r\n    },\r\n    itemCount: {\r\n        width: '60px',\r\n        textAlign: 'center'\r\n    }\r\n});\r\n\r\nfunction CheckouCartItem(props) {\r\n    const { classes } = props;\r\n    const renderVariants = () => {\r\n        return (\r\n            <div className={classNames(classes.textXs2)}>Variant</div>\r\n        );\r\n    }\r\n   \r\n    const [img, setImg] = useState(null);\r\n    const getImage = async () => {\r\n        try {\r\n            if(props.thumbnailId) {\r\n                const data = await props.store.getFile(props.thumbnailId);\r\n                var reader = new FileReader();\r\n                reader.onloadend = () => {\r\n                    setImg(reader.result);\r\n                }\r\n                reader.readAsDataURL(data);\r\n            }\r\n        } catch(e) {\r\n            console.error(e);\r\n        }\r\n    }\r\n    getImage();\r\n\r\n    return (         \r\n        <>\r\n            <div className={classNames(classes.dFlex, classes.w100, classes.alignItemsCenter, classes.justifyContentBetween)}> \r\n                <div className={classNames(classes.dFlex, classes.w100, classes.alignItemsCenter)}>\r\n                    <div>\r\n                        <img\r\n                            className={classes.productThumbnail} \r\n                            src={ img || ''} \r\n                            alt=\"\"\r\n                        />\r\n                    </div>\r\n                    <div className={classNames(classes.flexCol, classes.ml3)}>\r\n                        <div className={classNames(classes.textXs)}>{props.productName}</div>\r\n                        <div>{renderVariants()}</div>\r\n                    </div>\r\n                </div>   \r\n                <div className={classNames(classes.flexCol)}>\r\n                    <div className={classNames(classes.fontBold)}>{formatPrice(props.priceWithTax * props.productCount)}</div>\r\n                    <div className={classNames(classes.textXs2, classes.textRight)}>{props.translate('with_tax')}</div> \r\n                </div>            \r\n            </div> \r\n            <hr className={classNames(classes.w100, classes.mt4, classes.mb4, classes.hrLine)}/>\r\n        </>         \r\n    );\r\n}\r\n\r\nCheckouCartItem.propTypes = {\r\n    productName: PropTypes.string.isRequired, \r\n    techParams: PropTypes.array, \r\n    priceWithTax: PropTypes.number.isRequired,\r\n    thumbnailId: PropTypes.string,\r\n    productId: PropTypes.string.isRequired,\r\n    productCount: PropTypes.number.isRequired,\r\n    countInStock: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withDoby,\r\n    withUser,\r\n    withLocalization,\r\n    withStore\r\n)(CheckouCartItem);","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport compose from '../../../compose';\r\nimport { withLocalization } from '../../shared/localization'\r\nimport withStore from \"../../../consumers/withStore\";\r\nimport withDoby from \"../../../consumers/withDoby\";\r\nimport withUser from \"../../../consumers/withUser\";\r\nimport config from '../../../config'\r\n\r\nimport classNames from 'classnames';\r\nimport getSharedStyles from '../../../style';\r\n\r\nimport TextField from '../../dobyComponents/form/TextField';\r\nimport Checkbox from '../../dobyComponents/form/CheckboxField';\r\nimport Button from '../../dobyComponents/form/Button';\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\nimport CheckouCartItem from './CheckouCartItem';\r\n\r\nimport { loadStripe } from \"@stripe/stripe-js\";\r\nimport { formatPrice, getCurrencySymbol } from '../../../utils/helpers';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    starterPackDiscount: {\r\n        border: '1px solid #C8D2E1',\r\n        background: '#ECECEC',\r\n    },\r\n    fixedBottomBar: {\r\n        position: 'fixed',\r\n        bottom: '0',\r\n        left: '0',\r\n        width: '100%',\r\n        background: '#F8F8F8',\r\n        zIndex: 1,\r\n    },\r\n    spacingBottom: {\r\n        paddingBottom: '190px'\r\n    }\r\n});\r\n\r\nclass CheckoutSummary extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            starterPackDiscount: false,\r\n            discountCode: \"\",\r\n            standardPack: null,\r\n            standardPackProduct: null,\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.doby.cartGetProducts();\r\n        this.fetchData();\r\n        this.checkStarterpack();\r\n    }\r\n\r\n    fetchData = async () => {\r\n        const { getEnums } = this.props.store;\r\n        const filter = [\r\n            { field: \"enumTypeId\", value: 5 },\r\n            { field: \"disabled\", value: false },\r\n        ];\r\n\r\n        await getEnums(filter);\r\n        await this.props.store.getTransports();\r\n    }\r\n\r\n    handleChange = async (field, value) => {\r\n        this.setState({\r\n            [field]: value\r\n        });\r\n\r\n        if (field === 'discountCode' && value.length === config.discountCodeLength) {\r\n            await this.props.doby.redeeemDiscountCode(value);\r\n        }\r\n    }\r\n\r\n    checkStarterpack = async () => {\r\n        const { cart } = this.props.doby;\r\n        \r\n        for(let item of cart.data.products) {\r\n            if(item.product.catalog_id === 'pack') {\r\n                const filter = [\r\n                    { field: \"_id\", value: item.product.productsRef.map(item=>item.id), op:'in' },\r\n                ];\r\n                let products = await this.props.doby.getProducts(filter);\r\n                for(let packProduct of products.data) {\r\n                    if(packProduct.catalog_id === 'coupon') {\r\n                        this.setState({standardPack: packProduct, standardPackProduct: item.product});\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    renderCartitems() {\r\n        const { cart } = this.props.doby;\r\n        return cart.data.products.map(item => {\r\n            const { product } = item;\r\n            return (\r\n                <CheckouCartItem\r\n                    key={product.id}\r\n                    productId={product.id}\r\n                    productName={product.name}\r\n                    priceWithTax={product.price_with_tax}\r\n                    thumbnailId={product.thumbnailId}\r\n                    productCount={item.count}\r\n                    countInStock={product.count}\r\n                //techParams={product.techParams}\r\n                />\r\n            );\r\n        });\r\n    }\r\n\r\n    getTotalPrice = () => {\r\n        const { transports } = this.props.store;\r\n        const { coupon } = this.props.doby.checkout.data;\r\n        const { deliveryType } = this.props.doby.checkout.data.deliveryData;\r\n        const { products } = this.props.doby.cart.data;\r\n\r\n        let priceProducts = 0;\r\n        let pricePack = 0;\r\n        let price = 0;\r\n\r\n        for (const item of products) {\r\n            if(item.product.catalog_id === 'pack')\r\n                pricePack += item.product.price_with_tax;\r\n            else \r\n                priceProducts += (item.count * item.product.price_with_tax);\r\n        }\r\n\r\n        //NOTE: apply discounts, before adding price for delivery\r\n        if (coupon._id) {\r\n            //TODO: enums ?\r\n            if (coupon.discountType === 1) {\r\n                price = price * (100.0 - coupon.amount) / 100.0;\r\n            } else {\r\n                price -= coupon.amount;\r\n            }\r\n        }\r\n        let couponBalance = this.state.standardPack ? this.state.standardPack.price_with_tax : 0;\r\n        if(!this.state.starterPackDiscount) {\r\n            price = priceProducts + pricePack;\r\n        } else {\r\n            if(priceProducts < couponBalance) {\r\n                priceProducts = 0;\r\n                couponBalance -= priceProducts;\r\n            } else {\r\n                priceProducts = priceProducts - couponBalance;\r\n                couponBalance = 0;                \r\n            }\r\n            price = priceProducts + pricePack;\r\n\r\n         \r\n        }\r\n\r\n        //NOTE: add delivery price\r\n        const transport = transports.data.find(x => x._id === deliveryType);\r\n        if (transport) {\r\n            price += transport.price;\r\n        }\r\n\r\n        return formatPrice(price);\r\n    }\r\n\r\n    proceedCheckout = async () => {\r\n        const { cart } = this.props.doby;\r\n        const { deliveryData, coupon } = this.props.doby.checkout.data;\r\n\r\n        let items = [];\r\n        for (const product of cart.data.products) {\r\n            product.product.count = product.count;\r\n            if(this.state.standardPackProduct && product.product._id === this.state.standardPackProduct._id) {\r\n                items.push({...product.product, id: product.product._id, useCoupon: this.state.starterPackDiscount});\r\n                continue;\r\n            }\r\n            \r\n            items.push({...product.product, id: product.product._id});\r\n        }\r\n\r\n        //TODO: validation ( function ? )\r\n        const name = deliveryData.nameSurname.split(' ')[0];\r\n        const surname = deliveryData.nameSurname.split(' ')[1];\r\n        const country_obj = this.props.store.enums.data.find((x => x._id === deliveryData.country));\r\n        const id_delivery_obj = this.props.store.transports.data.find((x => x._id === deliveryData.deliveryType));\r\n\r\n        if (!country_obj || !id_delivery_obj)\r\n            return;\r\n\r\n        const destination_country_id = country_obj.key;\r\n        const id_delivery = id_delivery_obj.key;\r\n\r\n        const order = await this.props.doby.createOrder({\r\n            //--- \r\n            name,\r\n            surname,\r\n            phone: deliveryData.tel,\r\n            email: deliveryData.email,\r\n            street: deliveryData.street,\r\n            street_number: deliveryData.streetNumber,\r\n            postal_code: deliveryData.psc,\r\n            city: deliveryData.city,\r\n            country: deliveryData.country,\r\n            couponRef: { ...coupon, id: coupon._id},\r\n\r\n            //--- FA\r\n            fa_city: deliveryData.invoiceCity,\r\n            fa_company: '',\r\n            fa_country: deliveryData.invoiceCountry,\r\n            fa_postal_code: deliveryData.invoicePsc,\r\n            fa_street: deliveryData.invoiceStreet,\r\n            fa_street_number: deliveryData.invoiceStreet,\r\n            //---\r\n\r\n            id_delivery,\r\n            payment_method_id: deliveryData.paymentMethod,\r\n            items,\r\n            destination_country_id,\r\n            ru: config.stripe.redirect_url\r\n        });\r\n\r\n        if (order) {\r\n            const { payment_id } = order;\r\n            const stripe = await loadStripe(config.stripe.id);\r\n\r\n            const result = await stripe.redirectToCheckout({\r\n                sessionId: payment_id,\r\n            });\r\n\r\n            if (result.error) {\r\n                // If `redirectToCheckout` fails due to a browser or network\r\n                // error, display the localized error message to your customer\r\n                // using `result.error.message`.\r\n                console.error(result.error);\r\n            }\r\n        }\r\n        console.log(order);\r\n    }\r\n\r\n    renderDiscounts = () => {\r\n        const { classes } = this.props;\r\n        const { coupon } = this.props.doby.checkout.data;\r\n        const getDiscountByType = (type, amount) => type === 1 ? `-${amount}%` : `-${amount}${getCurrencySymbol(config.currency)}`;\r\n        return (\r\n            <>\r\n                { coupon._id &&\r\n                    <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.justifyContentBetween, classes.w100)}>\r\n                        <div className={classNames(classes.textXs)}>\r\n                            {this.props.translate('coupon_discount')}\r\n                        </div>\r\n                        <div className={classNames(classes.textXs)}>\r\n                            {getDiscountByType(coupon.discountType, coupon.amount)}\r\n                        </div>\r\n                    </div>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n\r\n    renderStarterpackDiscount = () => {\r\n        const { classes } = this.props;\r\n        \r\n        return ( this.state.standardPack && \r\n            <Grid item xs={12} className={classes.mt3}>\r\n                <div className={classNames(classes.starterPackDiscount, classes.px4, classes.py2, classes.roundedMd, classes.dFlex, classes.alignItemsCenter)}>\r\n                    <div>\r\n                        <Checkbox\r\n                            onChange={this.handleChange}\r\n                            fullWidth\r\n                            required\r\n                            value={this.state.starterPackDiscount}\r\n                            field=\"starterPackDiscount\"\r\n                            noLabel\r\n                        />\r\n                    </div>\r\n                    <div className={classNames(classes.flexCol)}>\r\n                        <div className={classNames(classes.textXs)}>\r\n                            {this.props.translate('starterpack_discount')}\r\n                        </div>\r\n                        <div className={classNames(classes.textXs2)}>\r\n                            - {formatPrice(this.state.standardPack.price_with_tax)} na produkty\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Grid>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        const { deliveryData } = this.props.doby.checkout.data;\r\n        const country = this.props.store.enums.data.find((x => x._id === deliveryData.country));\r\n        return (\r\n            <>\r\n                <div className={classNames(classes.container, classes.spacingBottom)}>\r\n                    <Grid\r\n                        container\r\n                        direction=\"row\"\r\n                        justify=\"center\"\r\n                        alignItems=\"center\"\r\n                    >\r\n                        <Grid item xs={12} className={classes.mt4}>\r\n                            <div className={classNames(classes.flexCol, classes.w100)}>\r\n                                <div className={classNames(classes.dFlex, classes.w100, classes.justifyContentBetween, classes.alignItemsCenter)}>\r\n                                    <div className={classNames(classes.textXs, classes.fontMedium)}>\r\n                                        {this.props.translate('field.name')}\r\n                                    </div>\r\n                                    <div className={classes.textXs}>\r\n                                        {deliveryData.nameSurname}\r\n                                    </div>\r\n                                </div>\r\n                                <div className={classNames(classes.dFlex, classes.w100, classes.justifyContentBetween, classes.alignItemsCenter, classes.mt3)}>\r\n                                    <div className={classNames(classes.textXs, classes.fontMedium)}>\r\n                                        {this.props.translate('field.email')}\r\n                                    </div>\r\n                                    <div className={classes.textXs}>\r\n                                        {deliveryData.email}\r\n                                    </div>\r\n                                </div>\r\n                                <div className={classNames(classes.dFlex, classes.w100, classes.justifyContentBetween, classes.alignItemsCenter, classes.mt3)}>\r\n                                    <div className={classNames(classes.textXs, classes.fontMedium)}>\r\n                                        {this.props.translate('field.tel')}\r\n                                    </div>\r\n                                    <div className={classes.textXs}>\r\n                                        {`+${deliveryData.tel}`}\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className={classNames(classes.dFlex, classes.w100, classes.justifyContentBetween, classes.mt6)}>\r\n                                    <div className={classNames(classes.textXs, classes.fontMedium)}>\r\n                                        {this.props.translate('delivery_address')}\r\n                                    </div>\r\n                                    <div className={classNames(classes.flexCol, classes.textRight)}>\r\n                                        <div className={classes.textXs}>\r\n                                            {deliveryData.street}\r\n                                        </div>\r\n                                        <div className={classNames(classes.textXs, classes.mt1)}>\r\n                                            {`${deliveryData.email}, ${deliveryData.psc}`}\r\n                                        </div>\r\n                                        <div className={classNames(classes.textXs, classes.mt1)}>\r\n                                            {country ? country.name : ''}\r\n                                        </div>\r\n                                        <div className={classNames(classes.textXs, classes.mt2, classes.fontSemibold)} onClick={() => { this.props.changeStep(3) }}>\r\n                                            {this.props.translate('edit')}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classes.mt5}>\r\n                            <hr className={classNames(classes.w100, classes.mb4, classes.hrLine)} />\r\n                            {this.renderCartitems()}\r\n                        </Grid>\r\n\r\n                        {this.renderStarterpackDiscount()}\r\n\r\n                        <Grid item xs={12} className={classes.mt6}>\r\n                            <hr className={classNames(classes.w100, classes.mb4, classes.hrLine)} />\r\n                            <TextField\r\n                                onChange={this.handleChange}\r\n                                fullWidth\r\n                                required\r\n                                value={this.state.discountCode}\r\n                                field=\"discountCode\"\r\n                            />\r\n                        </Grid>\r\n                    </Grid>\r\n                </div>\r\n\r\n                <div className={classNames(classes.fixedBottomBar, classes.py4)}>\r\n                    <div className={classNames(classes.container)}>\r\n                        <div className={classNames(classes.flexCol, classes.w100)}>\r\n\r\n                            {this.renderDiscounts()}\r\n\r\n                            <div className={classNames(classes.dFlex, classes.mt2, classes.justifyContentBetween)}>\r\n                                <div className={classNames(classes.flexCol)}>\r\n                                    <div className={classNames(classes.fontMedium)}>\r\n                                        {this.props.translate('totalPrice')}\r\n                                    </div>\r\n                                    <div className={classNames(classes.textXs2)}>\r\n                                        {this.props.translate('price_with_tax')}\r\n                                    </div>\r\n                                </div>\r\n                                <div className={classNames(classes.fontBold)}>\r\n                                    {this.getTotalPrice()}\r\n                                </div>\r\n                            </div>\r\n                            <Button\r\n                                onClick={this.proceedCheckout}\r\n                                fullwidth\r\n                                className={classNames(classes.mt4)}>\r\n                                {this.props.translate('continue')}\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        );\r\n    };\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withLocalization,\r\n    withStore,\r\n    withDoby,\r\n    withUser,\r\n)(CheckoutSummary);","import React, { useState } from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport compose from '../../../compose';\r\n\r\nimport classNames from 'classnames';\r\nimport getSharedStyles from '../../../style';\r\n\r\nimport DeliveryPayment from './DeliveryPayment';\r\nimport CheckoutSummary from './CheckoutSummary'\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    checkoutStep: {\r\n        width: '25%',\r\n        height: '60px',\r\n        background: 'red',\r\n    },\r\n    checkoutStepActive: {\r\n        background: 'green'\r\n    }\r\n});\r\n\r\nfunction Checkout(props) {\r\n    const [currentStep, setCurrentStep] = useState(3);\r\n    const { classes } = props;\r\n\r\n    const changeStep = (step) => {\r\n        setCurrentStep(step)\r\n    }\r\n    return (\r\n        <>\r\n            <div className={classNames(classes.dFlex, classes.w100)}>\r\n                <div className={classNames(classes.checkoutStep)}>\r\n\r\n                </div>\r\n                <div className={classNames(classes.checkoutStep)}>\r\n\r\n                </div>\r\n                <div className={classNames(classes.checkoutStep, classes.checkoutStepActive)}>\r\n\r\n                </div>\r\n                <div className={classNames(classes.checkoutStep)}>\r\n\r\n                </div>\r\n            </div>\r\n\r\n            <div>\r\n                {currentStep === 3 && <DeliveryPayment changeStep={changeStep}/>}\r\n                {currentStep === 4 && <CheckoutSummary changeStep={changeStep}/>}               \r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n)(Checkout);","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport withStore from '../../consumers/withStore';\r\nimport withDoby from '../../consumers/withDoby';\r\nimport withUser from '../../consumers/withUser';\r\nimport compose from '../../compose';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { withLocalization } from '../shared/localization'\r\nimport getSharedStyles from '../../style';\r\nimport classNames from 'classnames';\r\nimport config from '../../config';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport { formatPrice, getCurrencySymbol } from '../../utils/helpers';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    productThumbnail: {\r\n        width: '70px'\r\n    },\r\n    itemCountBtn: {\r\n        backgroundColor: '#ececec',\r\n        width: '24px',\r\n        height: '24px',\r\n        lineHeight: '23px',\r\n        textAlign: 'center',\r\n        fontSize: '19px',\r\n        borderRadius: '4px',\r\n        cursor: 'pointer'\r\n    },\r\n    itemCount: {\r\n        width: '45px',\r\n        textAlign: 'center',\r\n    },\r\n    fixedBottomBar: {\r\n        position: 'fixed',\r\n        bottom: '0',\r\n        left: '0',\r\n        width: '100%',\r\n        background: '#F8F8F8',\r\n        zIndex: 1,\r\n    },\r\n});\r\n\r\nfunction CartItem(props) {\r\n    const { classes } = props;\r\n    const renderVariants = () => {\r\n        return (\r\n            <div className={classNames(classes.textXs2)}>Variant</div>\r\n        );\r\n    }\r\n\r\n    const [img, setImg] = useState(null);\r\n    const [challenge, setChallenge] = useState(null);\r\n\r\n    const getImage = async (currentChallange = null) => {\r\n        try {\r\n            console.log(currentChallange);\r\n            if(props.thumbnailId || currentChallange) {\r\n                const data = await props.store.getFile(currentChallange ? currentChallange.logoId : props.thumbnailId);\r\n                var reader = new FileReader();\r\n                reader.onloadend = () => {\r\n                    setImg(reader.result);\r\n                }\r\n                reader.readAsDataURL(data);\r\n            }\r\n        } catch(e) {\r\n            console.error(e);\r\n        }\r\n    }\r\n\r\n    const getChallenge = async () => {\r\n        const challenges = await props.doby.getChallenges();\r\n        const currentChallange = challenges.data.find(x => x._id === props.challengeRef);\r\n        setChallenge(currentChallange);\r\n        getImage(currentChallange);\r\n    }\r\n\r\n    const removeCartItem = () => props.doby.cartRemoveProduct(props.productId);\r\n    const increaseItemCount = (increase) => props.doby.cartIncreaseCount(props.productId, increase);\r\n\r\n    useEffect( async () => {\r\n        if(props.challengeRef) {\r\n            await getChallenge();\r\n            return;\r\n        }\r\n        getImage();\r\n    }, []);\r\n\r\n    return (\r\n        <div className={classNames(classes.flexCol)}>\r\n            <div className={classNames(classes.dFlex, classes.w100, classes.alignItemsCenter, classes.justifyContentBetween)}>\r\n                <div className={classNames(classes.dFlex, classes.w100, classes.alignItemsCenter)}>\r\n                    <div>\r\n                        <img\r\n                            className={classes.productThumbnail}\r\n                            src={img || ''} alt=\"\" />\r\n                    </div>\r\n\r\n                    <div className={classNames(classes.flexCol, classes.ml3)}>\r\n                        <div className={classNames(classes.textXs)}>{challenge ? challenge.name : props.productName}</div>\r\n                        <div>{renderVariants()}</div>\r\n                    </div>\r\n                </div>\r\n                <div><ClearIcon onClick={removeCartItem} /></div>\r\n            </div>\r\n            <div className={classNames(classes.dFlex, classes.alignItemsEnd, classes.justifyContentBetween)}>\r\n                <div className={classNames(classes.dFlex, classes.alignItemsCenter)}>\r\n                    { props.catalogId !== \"pack\" && <>\r\n                    <div className={classNames(classes.itemCountBtn)} onClick={() => increaseItemCount(-1)}>-</div>\r\n                    <div className={classNames(classes.itemCount, classes.textXs)}>{props.productCount}ks</div>\r\n                    <div className={classNames(classes.itemCountBtn)} onClick={() => increaseItemCount(1)}>+</div>\r\n                    </> }\r\n                    <div className={classNames(classes.ml4, classes.textXs2)}>{props.productCount <= props.countInStock ? props.translate('in_stock') : props.translate('out_stock')}</div>\r\n                </div>\r\n                <div className={classNames(classes.flexCol)}>\r\n                    <div className={classNames(classes.fontBold)}>{formatPrice(Number(props.priceWithTax) * Number(props.productCount))}</div>\r\n                    <div className={classNames(classes.textXs2, classes.textRight)}>{props.translate('with_tax')}</div>\r\n                </div>\r\n            </div>\r\n            <hr className={classNames(classes.w100, classes.mt4, classes.mb4, classes.hrLine)} />\r\n        </div>\r\n    );\r\n}\r\n\r\nCartItem.propTypes = {\r\n    productName: PropTypes.string.isRequired,\r\n    techParams: PropTypes.array,\r\n    priceWithTax: PropTypes.number.isRequired,\r\n    thumbnailId: PropTypes.string,\r\n    productId: PropTypes.string.isRequired,\r\n    catalogId: PropTypes.string.isRequired,\r\n    productCount: PropTypes.number.isRequired,\r\n    countInStock: PropTypes.number.isRequired,\r\n    challengeRef: PropTypes.string,\r\n};\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withDoby,\r\n    withStore,\r\n    withUser,\r\n    withLocalization\r\n)(CartItem);","import React from 'react';\r\nimport { withRouter } from 'react-router';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport getSharedStyles from '../../style';\r\nimport classNames from 'classnames';\r\nimport compose from '../../compose';\r\nimport withStore from '../../consumers/withStore';\r\nimport withDoby from '../../consumers/withDoby';\r\nimport withUser from '../../consumers/withUser';\r\nimport { withLocalization } from '../shared/localization'\r\nimport { formatPrice, getCurrencySymbol } from '../../utils/helpers';\r\n\r\nimport Button from '../dobyComponents/form/Button';\r\nimport CartItem from './CartItem';\r\nimport config from '../../config';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    emptyCartImg: {\r\n        width: '60%'\r\n    },\r\n    bottomSection: {\r\n        marginTop: '20px',\r\n        bottom: '0'\r\n    },\r\n    fixedBottomBar: {\r\n        position: 'fixed',\r\n        bottom: '0',\r\n        left: '0',\r\n        width: '100%',\r\n        background: '#F8F8F8',\r\n        zIndex: 1,\r\n    },\r\n});\r\n\r\nclass Cart extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.doby.cartGetProducts();\r\n    }\r\n\r\n\r\n    handleChange = (name, value) => {\r\n        this.setState({ [name]: value });\r\n    }\r\n\r\n    getCartProductCount = () => {\r\n        const { cart } = this.props.doby;\r\n        return cart.data.products.length;\r\n    }\r\n\r\n    goToEshop = () => this.props.history.push(`/eshop`);\r\n    goToCheckout = () => this.props.history.push('/eshop/checkout');\r\n    \r\n    renderEmptyCart = ()=> {\r\n        const { classes } = this.props;\r\n        return ( \r\n            <div className={classNames(classes.flexCol)}>\r\n                <div className={classNames(classes.mt8, classes.textCenter)}>\r\n                    <img className={classes.emptyCartImg} alt=\"\" src=\"https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Fwww.pngmart.com%2Ffiles%2F6%2FSheep-PNG-Clipart.png&f=1&nofb=1\"/>\r\n                </div>\r\n                \r\n                <div className={classNames(classes.textCenter, classes.mt4)}>\r\n                    {this.props.translate('cart_is_empty1')}<br/>\r\n                    {this.props.translate('cart_is_empty2')}\r\n                </div>\r\n\r\n                <Button className={classNames(classes.mt4)}\r\n                    onClick={this.goToEshop}\r\n                    fullwidth\r\n                >\r\n                    {this.props.translate('go_to_eshop')}\r\n                </Button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderCartItems = ()=> {\r\n        const { products } = this.props.doby.cart.data;\r\n        return products.map(item => {\r\n            const { product } = item;\r\n            return (\r\n                <CartItem \r\n                    key={product._id}\r\n                    productId={product._id}\r\n                    productName={product.name}\r\n                    priceWithTax={product.price_with_tax}\r\n                    thumbnailId={product.thumbnailId}\r\n                    productCount={item.count}\r\n                    countInStock={product.count}\r\n                    catalogId={product.catalog_id}\r\n                    challengeRef={product.challengeRef && product.challengeRef.id}\r\n                    //techParams={product.techParams}\r\n                />\r\n            );\r\n        });\r\n    }\r\n\r\n    getTotalPrice = ()=> {\r\n        let price = 0;\r\n        const { products } = this.props.doby.cart.data;\r\n        for(const item of products) {\r\n            price += (item.count * item.product.price_with_tax);\r\n        }\r\n        return formatPrice(price);\r\n    }\r\n\r\n    renderCart = ()=> {\r\n        const { classes } = this.props;\r\n        return ( \r\n            <>\r\n                { this.renderCartItems() }\r\n                <div className={classNames(classes.bottomSection)}>\r\n                    <Button className={classNames(classes.mt4, classes.mb4)}\r\n                        onClick={this.goToCheckout}\r\n                        fullwidth\r\n                    >\r\n                        {this.props.translate('checkout')}\r\n                    </Button>\r\n\r\n                    {/* <h5 className={classNames(classes.textMd, classes.fontBold, classes.mt1)} style={{display: 'inline-block'}}>{this.props.translate('total_cost')}</h5>\r\n                    <h5 className={classNames(classes.textMd, classes.mt1)} style={{display: 'inline-block', float: 'right', color: '#0e95d4'}}>{this.getTotalPrice()}{config.currency}</h5> */}\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        const productCount = this.getCartProductCount();\r\n\r\n        return (\r\n            <>\r\n                <div className={classNames(classes.container, classes.mt5)}>\r\n                    <h5 className={classNames(classes.textBase, classes.fontRegular, classes.uppercase, classes.mb5)}>{this.props.translate('cart')} {productCount > 0 ? `( ${productCount} )` : ``}</h5>\r\n                    { productCount > 0 ? this.renderCart() : this.renderEmptyCart() }\r\n                </div>\r\n\r\n                <div className={classNames(classes.fixedBottomBar, classes.py4)}>\r\n                    <div className={classNames(classes.container)}>\r\n                        <div className={classNames(classes.flexCol, classes.w100)}>                           \r\n                            <div className={classNames(classes.dFlex, classes.mt2, classes.justifyContentBetween)}>\r\n                                <div className={classNames(classes.flexCol)}>\r\n                                    <div className={classNames(classes.fontMedium)}>\r\n                                        {this.props.translate('totalPrice')}\r\n                                    </div>\r\n                                    <div className={classNames(classes.textXs2)}>\r\n                                        {this.props.translate('with_tax')}\r\n                                    </div>\r\n                                </div>\r\n                                <div className={classNames(classes.fontBold)}>\r\n                                    {this.getTotalPrice()}\r\n                                </div>\r\n                            </div>          \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nCart.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(\r\n    withRouter,\r\n    withStore,\r\n    withStyles(styles),\r\n    withDoby,\r\n    withUser,\r\n    withLocalization\r\n)(Cart);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport getSharedStyles from '../../style';\r\nimport { getStyles } from '../shared/style';\r\nimport { withLocalization } from '../shared/localization'\r\n\r\nimport compose from '../../compose';\r\nimport classNames from 'classnames';\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\n\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    ...getStyles(theme),\r\n\r\n    root: {\r\n        justifyContent: 'center'\r\n    },\r\n    backdrop: {\r\n        zIndex: theme.zIndex.drawer + 1,\r\n        color: '#fff',\r\n    },\r\n    drawer: {\r\n        borderTopLeftRadius: '20px',\r\n        borderTopRightRadius: '20px'\r\n    }\r\n});\r\n\r\nfunction RollerModal(props) {\r\n    const { classes } = props;\r\n    return (\r\n        <Drawer\r\n            anchor=\"bottom\"\r\n            open={props.opened}\r\n            onClose={props.onClose}\r\n            //className={classes.drawer}\r\n            classes={{ paper: classes.drawer }}\r\n        >\r\n            <div className={classNames(classes.container, classes.mt5)}>\r\n                <h5 className={classNames(classes.fontBold, classes.mt7)}>Detaily</h5>\r\n                <p>\r\n                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Fermentum leo vel orci porta non. Morbi tristique senectus et netus. Porta non pulvinar neque laoreet suspendisse interdum consectetur libero.\r\n                </p>\r\n\r\n                <h5 className={classNames(classes.fontBold, classes.mt7)}>Detaily</h5>\r\n                <p>\r\n                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Fermentum leo vel orci porta non. Morbi tristique senectus et netus. Porta non pulvinar neque laoreet suspendisse interdum consectetur libero.\r\n                </p>\r\n            </div>\r\n        </Drawer>\r\n    );\r\n}\r\n\r\nRollerModal.propTypes = {\r\n    onClose: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withLocalization\r\n)(RollerModal);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { withRouter } from 'react-router';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { withLocalization } from '../shared/localization'\r\n\r\nimport config from '../../config';\r\nimport getSharedStyles from '../../style';\r\nimport compose from '../../compose';\r\nimport withDoby from '../../consumers/withDoby';\r\nimport withStore from '../../consumers/withStore';\r\nimport withUser from '../../consumers/withUser';\r\nimport classNames from 'classnames';\r\nimport Select from '../shared/Select';\r\nimport Button from '../dobyComponents/form/Button';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport ItemCard from './ItemCard';\r\nimport RollerModal from './RollerModal';\r\n\r\nimport { formatPrice, getCurrencySymbol } from '../../utils/helpers';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    root: {\r\n        backgroundColor: '#f7f7f8'\r\n    },\r\n    content: {\r\n        padding: 0,\r\n    },\r\n    imageContainer: {\r\n        width: '100%',\r\n        height: '300px',\r\n        overflow: 'hidden',\r\n        position: 'relative',\r\n        //background: 'red',\r\n        // margin: -2 * theme.spacing.unit\r\n    },\r\n    productImage: {\r\n        position: 'absolute',\r\n        width: '100%',\r\n        top: '50%',\r\n        left: '50%',\r\n        transform: 'translate(-50%,-50%)'\r\n    },\r\n    productContent: {\r\n        position: 'relative',\r\n        padding: 10\r\n    },\r\n    productTitle: {\r\n        margin: 0,\r\n        padding: 0,\r\n        paddingBottom: 5,\r\n        fontSize: 19\r\n    },\r\n    productPrice: {\r\n        margin: 0,\r\n        padding: 0,\r\n        fontSize: 15,\r\n        display: 'inline-block'\r\n    },\r\n    productPriceDPH: {\r\n        color: 'grey',\r\n        fontSize: 9\r\n    },\r\n});\r\n\r\nconst _defaultState = {\r\n    detailImage: null,\r\n    selectedVariants: {},\r\n    selectedProduct: null,\r\n    detailsModalOpened: false,\r\n    showSnackbar: false,\r\n    lastLocation: window.location\r\n};\r\n\r\nclass ProductDetail extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = _defaultState;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchData();\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if(this.state.lastLocation !== window.location.href) {\r\n            this.setState({..._defaultState, lastLocation: window.location.href});\r\n            this.fetchData();\r\n        }\r\n    }\r\n\r\n    fetchDetailImage = async () => {\r\n        const { imageId } = this.state.selectedProduct;\r\n        if(imageId) {\r\n            const data = await this.props.store.getFile(imageId);\r\n            let reader = new FileReader();\r\n            reader.onloadend = () => this.setState({detailImage: reader.result});\r\n            reader.readAsDataURL(data);\r\n        } \r\n    }\r\n\r\n    fetchData = async () => {\r\n        const { _id } = this.props.match.params;\r\n        await this.props.doby.getProductsByCatalogId(_id);\r\n\r\n        const filter = [{ field: \"main\", value: true }];\r\n        await this.props.doby.getProducts(filter);\r\n\r\n        const catalogProducts = this.props.doby.catalog.data;\r\n        if(catalogProducts.length > 0) {\r\n            this.setState({ selectedProduct: catalogProducts[0] }, () => {\r\n                this.fetchDetailImage();\r\n            });\r\n        }\r\n    }\r\n\r\n    handleChange = (name, value) => this.setState({ [name]: value });\r\n\r\n    handleChangeDropdown = (name, value) => {\r\n        this.setState((state) => {\r\n            return {\r\n                ...state,\r\n                selectedVariants: {\r\n                    ...state.selectedVariants,\r\n                    [name]: value\r\n                }\r\n            };\r\n        }, () => {\r\n            const product = this.getProductByDropdownSelection();\r\n            this.setState({ selectedProduct: product }, ()=> this.fetchDetailImage());\r\n        });\r\n    }\r\n\r\n    handleProductImageLoaded = (e) => {\r\n        let width = e.target.naturalWidth;\r\n        let height = e.target.naturalHeight;\r\n        if (height < width) {\r\n            e.target.style.height = '100%';\r\n            e.target.style.width = 'auto';\r\n        } else {\r\n            e.target.style.width = '100%';\r\n            e.target.style.height = 'auto';\r\n        }\r\n    }\r\n\r\n    renderDropdowns = () => {\r\n        let dropdowns = [];\r\n        for (let variantKey in this.props.doby.productVariants.data) {\r\n            dropdowns.push(\r\n                <Select\r\n                    key={variantKey}\r\n                    value={this.state.selectedVariants[variantKey] ? this.state.selectedVariants[variantKey].toString() : ''}\r\n                    field={variantKey}\r\n                    onChange={this.handleChangeDropdown}\r\n                    data={this.props.doby.productVariants.data[variantKey].data}\r\n                    textField={\"name\"}\r\n                    fullWidth\r\n                    required\r\n                />\r\n            );\r\n        }\r\n        return (\r\n            <>\r\n                { dropdowns}\r\n            </>\r\n        );\r\n    }\r\n\r\n    getProductByDropdownSelection = () => {\r\n        //NOTE: musíme vybrat tolko dropdownov kolko mame unikatnych parametrov pre produkt variant\r\n        if (Object.keys(this.state.selectedVariants).length !== Object.keys(this.props.doby.productVariants.data).length)\r\n            return null;\r\n\r\n        for (let variant of this.props.doby.catalog.data) {\r\n            let hasAllRequirements = false;\r\n            for (let variantKey in this.state.selectedVariants) {\r\n                if (variant.tech_param && variant.tech_param[variantKey] === this.state.selectedVariants[variantKey]) {\r\n                    hasAllRequirements = true;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (hasAllRequirements)\r\n                return variant\r\n        }\r\n        return null;\r\n    }\r\n\r\n    addToCart = () => {\r\n        if (this.state.selectedProduct) {\r\n            this.props.doby.cartAddProduct(this.state.selectedProduct);\r\n            this.setState({showSnackbar: true});\r\n        }\r\n    }\r\n\r\n    showProductDetail = (product) => {\r\n        if (product.catalog_id && product.catalog_id.length > 0)\r\n            this.props.history.push(`/eshop/product/${product.catalog_id}`);\r\n    }\r\n\r\n    renderSimillarProducts = () => {\r\n        const { products } = this.props.doby;\r\n        return products.isLoading ? (\r\n            <div style={{ flexGrow: 1 }}>\r\n                <LinearProgress color=\"secondary\" />\r\n            </div>) : products.data.map(product => {\r\n                return (\r\n                    <Grid item xs={6} sm={3} lg={2} key={product._id}>\r\n                        <ItemCard\r\n                            onClick={() => this.showProductDetail(product)}\r\n                            name={product.name}\r\n                            price={product.price_with_tax}\r\n                            curr={config.currency}\r\n                            Id={product.thumbnailId}\r\n                            onViz={this.props.store.getFile}\r\n                            source={product.count > 0 ? this.props.translate('in_stock') : this.props.translate('out_stock')}\r\n                            //membersOnly\r\n                        />\r\n                    </Grid>\r\n                );\r\n            })\r\n    }\r\n\r\n    showAllProductDetails = () => this.setState({ detailsModalOpened: true });\r\n    closeDetailsModal = () => this.setState({ detailsModalOpened: false });\r\n\r\n    renderProductDetail = () => {\r\n        const { classes } = this.props;\r\n        return (\r\n            <>\r\n                <div className={classes.imageContainer}>\r\n                    <img\r\n                        className={classes.productImage}\r\n                        src={this.state.detailImage ? this.state.detailImage : ''}\r\n                        onLoad={(e) => { this.handleProductImageLoaded(e) }}\r\n                        alt={''}\r\n                    />\r\n                </div>\r\n                <div className={classNames(classes.container, classes.mt5)}>\r\n                    <h5 className={classNames(classes.fontBold)}>{this.state.selectedProduct ? this.state.selectedProduct.name : ''}</h5>\r\n                    <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.justifyContentBetween, classes.mb3)}>\r\n                        <div className={classes.fontBold}>{this.state.selectedProduct ? formatPrice(this.state.selectedProduct.price_with_tax) : ''} <small className={classes.productPriceDPH}>s DPH</small> </div>\r\n                        <div className={classes.productStock}>{this.state.selectedProduct ? this.state.selectedProduct.count > 0 ? this.props.translate('in_stock') : this.props.translate('out_stock') : ''}</div>\r\n                    </div>\r\n\r\n                    {this.renderDropdowns()}\r\n                    { console.log(this.state.selectedProduct)} \r\n\r\n                    <Button\r\n                        className={classNames(classes.mt4, classes.mb3)}\r\n                        onClick={this.addToCart}\r\n                        disabled={!this.state.selectedProduct || (this.state.selectedProduct && this.state.selectedProduct.disabled)}\r\n                        fullwidth\r\n                    >\r\n                        {this.props.translate('add_to_cart')}\r\n                    </Button>\r\n\r\n                    <p>\r\n                        {this.state.selectedProduct ? this.state.selectedProduct.short_description : ''}\r\n                    </p>\r\n\r\n                    <Button\r\n                        className={classNames(classes.mt4, classes.mb3)}\r\n                        onClick={this.showAllProductDetails}\r\n                        fullwidth\r\n                    >\r\n                        {this.props.translate('all_product_details')}\r\n                    </Button>\r\n\r\n                    <h5 className={classNames( classes.fontBold, classes.mt7)}>{this.props.translate('find_similar_products')}</h5>\r\n\r\n                    <Grid container spacing={24} className={classes.mt2}>\r\n                        {this.renderSimillarProducts()}\r\n                    </Grid>\r\n                </div>\r\n\r\n                { <RollerModal\r\n                    onClose={this.closeDetailsModal}\r\n                    opened={this.state.detailsModalOpened}\r\n                />}\r\n            </>\r\n        );\r\n    }\r\n\r\n    handleClose = () => this.setState({showSnackbar: false});\r\n    render() {\r\n        return (\r\n            <>\r\n                { this.props.doby.catalog.isLoading ? (\r\n                    <div style={{ flexGrow: 1 }}>\r\n                        <LinearProgress color=\"secondary\" />\r\n                    </div>\r\n                ) : this.renderProductDetail()}\r\n\r\n                <Snackbar\r\n                    anchorOrigin={{\r\n                        vertical: 'bottom',\r\n                        horizontal: 'left',\r\n                    }}\r\n                    open={this.state.showSnackbar}\r\n                    autoHideDuration={6000}\r\n                    onClose={this.handleClose}\r\n                    message={this.props.translate('successfully_added_to_cart')}\r\n                    action={\r\n                        <React.Fragment>\r\n                            <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={this.handleClose}>\r\n                                <CloseIcon fontSize=\"small\" />\r\n                            </IconButton>\r\n                        </React.Fragment>\r\n                    }\r\n                />\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nProductDetail.propTypes = {\r\n    classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(\r\n    withRouter,\r\n    withStyles(styles),\r\n    withDoby,\r\n    withStore,\r\n    withUser,\r\n    withLocalization\r\n)(ProductDetail);","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport TextInput from \"../shared/TextInput\";\nimport Select from \"../shared/Select\";\nimport Form from \"../shared/form/Form\";\nimport Switch from '../shared/Switch';\nimport NumInput from \"../shared/NumInput\";\n\nimport withStore from \"../../consumers/withStore\";\nimport withUser from \"../../consumers/withUser\";\nimport compose from \"../../compose\";\n\nconst styles = theme => ({\n  nameTextInput: {\n    display: \"flex\",\n    flex: 1\n  }\n});\n\nconst INIT_STATE = {\n  name: \"\",\n  countryId: null,\n  disabled: false,\n  price: 0,\n  key: 0\n};\n\nclass FormWrapper extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = props.data || INIT_STATE\n  }\n\n  handleChangeCountryRef = (name, value) => {\n    this.setState({ [name]: { id: value } });\n  };\n\n  handleChange = (name, value) => {\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = async () => {\n    const {\n      addTransport,\n      refreshTransports,\n      editTransport\n    } = this.props.store;\n\n    try {\n      if (this.state._id) {\n        await editTransport(this.state);\n      } else {\n        await addTransport(this.state);\n      }\n      refreshTransports();\n      this.setState(INIT_STATE);\n      if (this.props.onSubmit) this.props.onSubmit();\n    } catch (error) {\n      this.props.user.showError(error);\n    }\n  };\n\n  async componentDidMount() {\n    try {\n      const { getEnums, } = this.props.store;\n      const filter = [\n        { field: \"enumTypeId\", value: 5 },\n        { field: \"disabled\", value: false },\n      ];\n      await getEnums(filter);\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  render() {\n    const { classes, disabled } = this.props;\n    const { name, price, key, countryId } = this.state;\n    const { enums } = this.props.store;\n\n    return (\n      <Form \n        onSubmit={this.handleSubmit} \n        inline\n        disabled={disabled}\n      >\n        <div className={classes.nameTextInput}>\n          <TextInput\n            value={name}\n            field=\"name\"\n            onChange={this.handleChange}\n            fullWidth\n            required\n            disabled={disabled}\n          />\n        </div>\n        <Select\n          value={countryId}\n          field=\"countryId\"\n          onChange={this.handleChange}\n          data={enums.data}\n          textField=\"name\"\n          disabled={disabled}\n        />\n        <NumInput\n          value={price}\n          field=\"price\"\n          onChange={this.handleChange}\n          min={0}\n          required\n        />\n        <NumInput\n          value={key}\n          field=\"key\"\n          onChange={this.handleChange}\n          min={0}\n          step={1}\n          required\n        />\n        <Switch\n          label=\"\"\n          value={this.state.disabled}\n          field=\"disabled\"\n          onChange={this.handleChange}\n        />\n      </Form>\n    );\n  }\n}\n\nFormWrapper.propTypes = {\n  classes: PropTypes.object.isRequired,\n  data: PropTypes.object,\n  onSubmit: PropTypes.func,\n  date: PropTypes.instanceOf(Date),\n  disabled: PropTypes.bool\n};\n\nexport default compose(withStyles(styles), withStore, withUser)(FormWrapper);\n","import React from 'react';\r\nimport Table from '../shared/table/Table';\r\nimport FormDialog from '../shared/FormDialog';\r\nimport Form from './Form';\r\n\r\nimport compose from '../../compose';\r\nimport withStore from '../../consumers/withStore';\r\nimport withUser from '../../consumers/withUser';\r\nimport { withLocalization } from '../shared/localization'\r\n\r\nconst ROWS = [\r\n  { field: 'name', disablePadding: true },\r\n  { field: 'price', type: 'num' },\r\n  { field: 'key', type: 'num' },\r\n  { field: 'disabled', type: 'bool' },\r\n];\r\n\r\nclass TableWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    \r\n    this.state = {\r\n      x: null,\r\n      isOpen: false\r\n    }\r\n  }\r\n\r\n  handleChangeClient = (name, value) => {\r\n    this.setState({ clientId: value });\r\n  }\r\n\r\n  handleClose = () => {\r\n    this.setState({ isOpen: false });\r\n  }\r\n\r\n  handleOpen = () => {\r\n    this.setState({ isOpen: true });\r\n  }\r\n\r\n  handleChange = async (filters, page, sort, render) => {\r\n    try {\r\n      return await this.props.store.getTransports(filters, sort, page, render);\r\n    }\r\n    catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  }\r\n\r\n  onEdit = async (x) => {\r\n    this.setState({ x, isOpen: true })\r\n  }\r\n\r\n  isDisabled = x => {\r\n    return false;\r\n  }\r\n\r\n  render() {\r\n    const { deleteTransport } = this.props.store;\r\n    const { translate } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <Table\r\n          rows={ROWS}\r\n          data='transports'\r\n          onChange={this.handleChange}\r\n          onDelete={deleteTransport}\r\n          title={translate('transports')}\r\n          onEdit={this.onEdit}\r\n          store={this.props.store}\r\n          filters={[]}\r\n          isDisabled={this.isDisabled}\r\n          filename='transports'\r\n        />\r\n        <FormDialog\r\n          title={translate('transport')}\r\n          onClose={this.handleClose}\r\n          isOpen={this.state.isOpen}\r\n        >\r\n          <Form\r\n            data={this.state.x}\r\n            onSubmit={this.handleClose}\r\n          />\r\n        </FormDialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  withStore,\r\n  withUser,\r\n  withLocalization\r\n)(TableWrapper);","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Form from \"./Form\";\r\nimport Table from \"./Table\";\r\n\r\nimport compose from \"../../compose\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport getSharedStyles from \"../../style\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getSharedStyles(theme),\r\n  paper: {\r\n    padding: theme.spacing.unit,\r\n  },\r\n});\r\n\r\nfunction CenteredGrid(props) {\r\n  const { classes } = props;\r\n  return (\r\n    <Grid container>\r\n      <Grid item xs={12} className={classes.p2}>\r\n        <Paper className={classes.paper}>\r\n          <Form />\r\n        </Paper>\r\n      </Grid>\r\n      <Grid item xs={12} className={classes.p2}>\r\n        <Table />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nCenteredGrid.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(withStyles(styles), withUser)(CenteredGrid);\r\n","import config from '../config';\r\nimport { mail, storage } from \"kd-web\";\r\nimport * as signalR from '@aspnet/signalr';\r\n\r\nexport const send = async (data) => {\r\n  try {\r\n    return await mail.send(data);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const sendMock = async () => {\r\n  try {\r\n    const data =    {\r\n      subject: \"subject\",\r\n      body: \"body\",\r\n      from: \"mail@gmail.com\",\r\n      fromName: \"mailer\",\r\n      recipientRef: {\r\n       id: \"5fef09fe7d1c7341543b71a5\"\r\n      },\r\n      templateId: 1,\r\n      params: [\"<b>toto je test</b>\"]\r\n   };\r\n\r\n    return await mail.send(data);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst getToken = () => {\r\n  return storage.getUser().refreshToken;\r\n}\r\n\r\nconst onConnect = (userId) => {\r\n  console.log(\"hub_connect\", userId);\r\n}\r\n\r\nconst onDisconnect = (userId) => {\r\n  console.log(\"hub_disconnect\", userId);\r\n}\r\n\r\nexport const initHub = (onNotification) => {\r\n  const connection = new signalR.HubConnectionBuilder()\r\n    .withUrl(`${config.url.mail}/hub`, { accessTokenFactory: getToken })\r\n    .configureLogging(signalR.LogLevel.Error)\r\n    .build();\r\n\r\n  connection.start().catch(err => {\r\n    console.error(\"hub\", err)\r\n  });\r\n\r\n  connection.on(\"connect\", onConnect);\r\n  connection.on(\"disconnect\", onDisconnect);\r\n  connection.on(\"notification\", onNotification);\r\n}","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport compose from '../../../compose';\r\nimport { withLocalization } from '../../shared/localization'\r\nimport { withRouter } from 'react-router';\r\nimport classNames from 'classnames';\r\nimport withStore from \"../../../consumers/withStore\";\r\nimport withDoby from \"../../../consumers/withDoby\";\r\nimport withUser from \"../../../consumers/withUser\";\r\nimport getSharedStyles from '../../../style';\r\nimport Button from '../../dobyComponents/form/Button';\r\n\r\nimport config from '../../../config';\r\nimport * as mailUtils from \"../../../utils/mailUtils\";\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    emptyCartImg: {\r\n        width: '60%'\r\n    },\r\n});\r\n\r\nclass VerificationPayment extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            succeeded: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchData();\r\n    }\r\n\r\n    sendCouponMail = async(coupon) =>{\r\n        const { user } = this.props.user;\r\n        const data = {\r\n            subject: this.props.translate('email_coupon_subject'),\r\n            from: config.mail.address,\r\n            fromName: config.mail.name,\r\n            recipientRef: {\r\n                id: user._id\r\n            },\r\n            templateId: config.mail.sendCouponTemplate,\r\n            params: [user.name, coupon]\r\n        };\r\n        await mailUtils.send(data);\r\n    }\r\n\r\n    fetchData = async () => {\r\n        const query = new URLSearchParams(this.props.location.search);\r\n        if (query) {\r\n            const id = query.get('id');\r\n            if (id) {\r\n                const result = await this.props.doby.verifyOrder(id);\r\n                if(result) {\r\n                    this.setState({succeeded: true});\r\n                    this.props.doby.cartRemoveProducts();\r\n\r\n                    if(result.coupon) {\r\n                        await this.sendCouponMail(result.coupon.code);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    goToEshop = () => this.props.history.push(`/eshop`);\r\n\r\n    render = () => {   \r\n        const { classes } = this.props;\r\n        return (\r\n            <>\r\n                <div className={classNames(classes.flexCol, classes.container)}>\r\n                    { \r\n                        this.props.doby.checkout.isLoading ? (<CircularProgress/>) : (\r\n                            <>\r\n                                <div className={classNames(classes.mt8, classes.textCenter)}>\r\n                                    <img className={classes.emptyCartImg} alt=\"\" src={this.state.succeeded ? \"https://cdn3.iconfinder.com/data/icons/flat-actions-icons-9/792/Tick_Mark_Dark-512.png\" : \"https://nika.shop/wp-content/uploads/2020/01/fail-png-7.png\"} />\r\n                                </div>\r\n                                <div className={classNames(classes.textCenter, classes.mt4)}>\r\n                                    {this.props.translate(this.state.succeeded ? 'payment_successfull' : 'payment_failed')}\r\n                                </div>\r\n                            </>\r\n                        ) \r\n                    }\r\n\r\n                    <Button \r\n                        className={classNames(classes.mt4)}\r\n                        onClick={this.goToEshop}\r\n                        fullwidth\r\n                    >\r\n                        {this.props.translate('go_to_eshop')}\r\n                    </Button>\r\n    \r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withLocalization,\r\n    withStore,\r\n    withDoby,\r\n    withUser,\r\n    withRouter,\r\n)(VerificationPayment);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport TextInput from \"../../shared/TextInput\";\r\nimport Select from \"../../shared/Select\";\r\nimport Form from \"../../shared/form/Form\";\r\nimport DatePicker from \"../../shared/DatePicker\";\r\nimport FileInput from \"../../shared/FileInput\";\r\nimport NumInput from \"../../shared/NumInput\";\r\nimport config from \"../../../config\";\r\n\r\nimport withDoby from \"../../../consumers/withDoby\";\r\nimport withUser from \"../../../consumers/withUser\";\r\nimport withStore from \"../../../consumers/withStore\";\r\nimport compose from \"../../../compose\";\r\n\r\nconst styles = (theme) => ({\r\n  nameTextInput: {\r\n    display: \"flex\",\r\n    flex: 1,\r\n  },\r\n});\r\n\r\nconst INIT_STATE = {\r\n  name: \"\",\r\n  description: \"\",\r\n  summitsRef: [],\r\n  serieRef: null,\r\n  difficulty: 1,\r\n  start: new Date(),\r\n  end: new Date(),\r\n  _img: null,\r\n  _thumbnail: null,\r\n  _map: null,\r\n  _logo: null,\r\n  _badge: null,\r\n};\r\n\r\nclass FormWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = props.data || INIT_STATE;\r\n  }\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      const { getSummits, getSeries } = this.props.doby;\r\n\r\n      await getSummits();\r\n      await getSeries();\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  }\r\n\r\n  handleChange = (name, value) => {\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleChangeSummitsRef = (name, value) => {\r\n    const v = value.map((x) => ({ id: x }));\r\n    this.setState({ [name]: v });\r\n  };\r\n\r\n  handleChangeSerieRef = (name, value) => {\r\n    this.setState({ [name]: { id: value } });\r\n  };\r\n\r\n  handleSubmit = async () => {\r\n    const { addChallenge, refreshChallenges, editChallenge } = this.props.doby;\r\n\r\n    try {\r\n      if (this.state._id) {\r\n        await editChallenge(this.state);\r\n      } else {\r\n        await addChallenge(this.state);\r\n      }\r\n\r\n      refreshChallenges();\r\n      this.setState(INIT_STATE);\r\n\r\n      if (this.props.onSubmit) this.props.onSubmit();\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { classes, disabled } = this.props;\r\n    const {\r\n      name,\r\n      description,\r\n      start,\r\n      end,\r\n      summitsRef,\r\n      serieRef,\r\n      difficulty,\r\n      _img,\r\n      _map,\r\n      _thumbnail,\r\n      _logo,\r\n      _badge,\r\n    } = this.state;\r\n    const { summits, series } = this.props.doby;\r\n\r\n    return (\r\n      <Form onSubmit={this.handleSubmit} inline disabled={disabled}>\r\n        <TextInput\r\n          value={name}\r\n          field=\"name\"\r\n          onChange={this.handleChange}\r\n          required\r\n          disabled={disabled}\r\n        />\r\n        <div className={classes.nameTextInput}>\r\n          <TextInput\r\n            value={description}\r\n            field=\"description\"\r\n            onChange={this.handleChange}\r\n            required\r\n            fullWidth\r\n            disabled={disabled}\r\n          />\r\n        </div>\r\n        <Select\r\n          value={serieRef ? serieRef.id : null}\r\n          field=\"serieRef\"\r\n          onChange={this.handleChangeSerieRef}\r\n          data={series.data}\r\n          textField=\"name\"\r\n          required\r\n          idField=\"id\"\r\n          disabled={disabled}\r\n        />\r\n\r\n        <NumInput\r\n          value={difficulty}\r\n          field=\"difficulty\"\r\n          onChange={this.handleChange}\r\n          min={0}\r\n          max={5}\r\n          step={1}\r\n          required\r\n        />\r\n\r\n        <DatePicker\r\n          value={start}\r\n          field=\"start\"\r\n          onChange={this.handleChange}\r\n          required\r\n        />\r\n\r\n        <DatePicker\r\n          value={end}\r\n          field=\"end\"\r\n          onChange={this.handleChange}\r\n          required\r\n        />\r\n\r\n        <div className={classes.nameTextInput}>\r\n          <Select\r\n            value={summitsRef.map((x) => x.id)}\r\n            field=\"summitsRef\"\r\n            onChange={this.handleChangeSummitsRef}\r\n            fullWidth\r\n            data={summits.data}\r\n            textField=\"name\"\r\n            required\r\n            multiple\r\n            idField=\"id\"\r\n            disabled={disabled}\r\n          />\r\n        </div>\r\n\r\n        <FileInput\r\n          mimeType=\"image/jpeg\"\r\n          value={_img}\r\n          field=\"_img\"\r\n          onChange={this.handleChange}\r\n          disabled={this.state._id || disabled}\r\n          height={config.imageSize}\r\n        />\r\n\r\n        <FileInput\r\n          mimeType=\"image/jpeg\"\r\n          value={_thumbnail}\r\n          field=\"_thumbnail\"\r\n          onChange={this.handleChange}\r\n          disabled={this.state._id || disabled}\r\n          height={config.thumbnailSize}\r\n        />\r\n\r\n        <FileInput\r\n          mimeType=\"image/png\"\r\n          value={_logo}\r\n          field=\"_logo\"\r\n          onChange={this.handleChange}\r\n          disabled={this.state._id || disabled}\r\n        />\r\n\r\n        <FileInput\r\n          mimeType=\"image/png\"\r\n          value={_map}\r\n          field=\"_map\"\r\n          onChange={this.handleChange}\r\n          disabled={this.state._id || disabled}\r\n        />\r\n\r\n        <FileInput\r\n          mimeType=\"image/jpeg\"\r\n          value={_badge}\r\n          field=\"_badge\"\r\n          onChange={this.handleChange}\r\n          disabled={this.state._id || disabled}\r\n          height={config.badgeSize}\r\n        />\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nFormWrapper.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  data: PropTypes.object,\r\n  onSubmit: PropTypes.func,\r\n  date: PropTypes.instanceOf(Date),\r\n  disabled: PropTypes.bool,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withDoby,\r\n  withUser,\r\n  withStore\r\n)(FormWrapper);\r\n","import React from \"react\";\r\nimport Table from \"../../shared/table/Table\";\r\nimport FormDialog from \"../../shared/FormDialog\";\r\nimport Form from \"./Form\";\r\n\r\nimport compose from \"../../../compose\";\r\nimport withDoby from \"../../../consumers/withDoby\";\r\nimport withUser from \"../../../consumers/withUser\";\r\nimport withStore from \"../../../consumers/withStore\";\r\nimport { withLocalization } from \"../../shared/localization\";\r\n\r\nconst ROWS = [\r\n  { field: \"name\", disablePadding: true },\r\n  { field: \"description\" },\r\n  { field: \"start\", type: \"date\" },\r\n  { field: \"end\", type: \"date\" },\r\n  { field: \"_id\" },\r\n];\r\n\r\nclass TableWrapper extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      x: null,\r\n      isOpen: false,\r\n    };\r\n  }\r\n\r\n  handleChangeClient = (name, value) => {\r\n    this.setState({ clientId: value });\r\n  };\r\n\r\n  handleClose = () => {\r\n    this.setState({ isOpen: false });\r\n  };\r\n\r\n  handleOpen = () => {\r\n    this.setState({ isOpen: true });\r\n  };\r\n\r\n  handleChange = async (filters, page, sort, render) => {\r\n    try {\r\n      return await this.props.doby.getChallenges(filters, sort, page, render);\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  onEdit = async (x) => {\r\n    this.setState({ x, isOpen: true });\r\n  };\r\n\r\n  isDisabled = (x) => {\r\n    const isStarted = new Date(x.start) - new Date() <= 0;\r\n    return isStarted;\r\n  };\r\n\r\n  render() {\r\n    const { deleteChallenge } = this.props.doby;\r\n    const { translate } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <Table\r\n          rows={ROWS}\r\n          data=\"challenges\"\r\n          onChange={this.handleChange}\r\n          onDelete={deleteChallenge}\r\n          title={translate(\"challenges_title\")}\r\n          onEdit={this.onEdit}\r\n          store={{ ...this.props.doby, ...this.props.store }}\r\n          filters={[]}\r\n          isDisabled={this.isDisabled}\r\n          filename=\"challenges\"\r\n        />\r\n        <FormDialog\r\n          title={translate(\"challenge_title\")}\r\n          onClose={this.handleClose}\r\n          isOpen={this.state.isOpen}\r\n        >\r\n          <Form data={this.state.x} onSubmit={this.handleClose} />\r\n        </FormDialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  withStore,\r\n  withDoby,\r\n  withUser,\r\n  withLocalization\r\n)(TableWrapper);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Form from \"./Form\";\r\nimport Table from \"./Table\";\r\n\r\nimport compose from \"../../../compose\";\r\nimport withUser from \"../../../consumers/withUser\";\r\nimport getSharedStyles from \"../../../style\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getSharedStyles(theme),\r\n  paper: {\r\n    padding: theme.spacing.unit,\r\n  },\r\n});\r\n\r\nfunction CenteredGrid(props) {\r\n  const { classes } = props;\r\n  return (\r\n    <Grid container>\r\n      <Grid item xs={12} className={classes.p2}>\r\n        <Paper className={classes.paper}>\r\n          <Form />\r\n        </Paper>\r\n      </Grid>\r\n      <Grid item xs={12} className={classes.p2}>\r\n        <Table />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nCenteredGrid.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(withStyles(styles), withUser)(CenteredGrid);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { withLocalization } from \"../shared/localization\";\r\nimport getSharedStyles from \"../../style\";\r\nimport compose from \"../../compose\";\r\nimport classNames from \"classnames\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getSharedStyles(theme),\r\n  profileImgHolder: {\r\n    width: \"40px\",\r\n    height: \"40px\",\r\n    borderRadius: \"50px\",\r\n    overflow: \"hidden\",\r\n    position: \"relative\",\r\n  },\r\n  profileImg: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    position: \"absolute\",\r\n    top: \"0\",\r\n    left: \"0\",\r\n    objectFit: \"cover\",\r\n  },\r\n  postImgWrapper: {\r\n    width: \"100%\",\r\n    height: \"220px\",\r\n    background: \"rgba(0,0,0,0.1)\",\r\n    overflow: \"hidden\",\r\n    position: \"relative\",\r\n  },\r\n  postImg: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    position: \"absolute\",\r\n    left: 0,\r\n    right: 0,\r\n    objectFit: \"cover\",\r\n  },\r\n  postCard: {\r\n    background: \"#ffffff\",\r\n  },\r\n});\r\n\r\nconst convertDate = (date) => {\r\n  return `${date.getDate()}.${date.getMonth() + 1}.${date.getFullYear()}`;\r\n};\r\n\r\nfunction ActivityPost(props) {\r\n  const { classes } = props;\r\n  const climbCreated = new Date(props.climbCreated);\r\n\r\n  return (\r\n    <div className={classNames(props.className, classes.postCard, classes.py5)}>\r\n      <div className={classNames(classes.flexCol, classes.w100)}>\r\n        <div className={classNames(classes.container)}>\r\n          <div\r\n            className={classNames(\r\n              classes.dFlex,\r\n              classes.w100,\r\n              classes.alignItemsCenter,\r\n              classes.justifyContentBetween\r\n            )}\r\n          >\r\n            <div\r\n              className={classNames(\r\n                classes.dFlex,\r\n                classes.alignItemsCenter,\r\n                classes.justifyContentBetween\r\n              )}\r\n            >\r\n              <div className={classNames(classes.profileImgHolder)}>\r\n                <img\r\n                  alt=\"avatarImg\"\r\n                  src={\r\n                    props.avatar\r\n                      ? \"data:image/jpeg;base64,\" + props.avatar\r\n                      : \"./img/user-img.jpg\"\r\n                  }\r\n                  className={classNames(classes.profileImg)}\r\n                />\r\n              </div>\r\n              <div className={classNames(classes.flexCol, classes.ml3)}>\r\n                <div className={classNames(classes.textXs)}>\r\n                  {props.userName}\r\n                </div>\r\n                <div className={classNames(classes.textXs2, classes.text200)}>\r\n                  {props.userAddress}\r\n                </div>\r\n                <div className={classNames()}></div>\r\n              </div>\r\n            </div>\r\n            <div>...</div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className={classNames(classes.postImgWrapper, classes.mt5)}>\r\n          <img\r\n            alt=\"summitImg\"\r\n            src={\r\n              props.image\r\n                ? \"data:image/jpeg;base64,\" + props.image\r\n                : \"./img/user-img.jpg\"\r\n            }\r\n            className={classes.postImg}\r\n          />\r\n        </div>\r\n\r\n        <div className={classNames(classes.container, classes.mt5)}>\r\n          <div className={classNames(classes.flexCol, classes.w100)}>\r\n            <div\r\n              className={classNames(\r\n                classes.dFlex,\r\n                classes.alignItemsCenter,\r\n                classes.justifyContentBetween\r\n              )}\r\n            >\r\n              <div\r\n                className={classNames(\r\n                  classes.dFlex,\r\n                  classes.alignItemsCenter\r\n                )}\r\n              >\r\n                <div>Ikona</div>\r\n                <div className={classNames(classes.FlexCol, classes.ml3)}>\r\n                  <div className={classNames(classes.textXs)}>\r\n                    {props.summitName}\r\n                  </div>\r\n                  <div className={classNames(classes.textXs2, classes.text200)}>\r\n                    {`${props.summitElevation}m | Pridané ${convertDate(\r\n                      climbCreated\r\n                    )}`}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div\r\n                className={classNames(\r\n                  classes.flexRCol,\r\n                  classes.alignItemsCenter\r\n                )}\r\n              >\r\n                <div className={classNames(classes.textXs)}>\r\n                  {props.challengeName}\r\n                </div>\r\n                <div\r\n                  className={classNames(\r\n                    classes.textXs2,\r\n                    classes.text200,\r\n                    classes.textRight\r\n                  )}\r\n                >{`${props.challengeFinishedSummits}/${props.challengeAllSummits}`}</div>\r\n              </div>\r\n            </div>\r\n            <div className={classNames(classes.textXs2, classes.mt3)}>\r\n              {props.description}\r\n            </div>\r\n            <div\r\n              className={classNames(\r\n                classes.w100,\r\n                classes.dFlex,\r\n                classes.alignItemsCenter,\r\n                classes.justifyContentBetween,\r\n                classes.mt3\r\n              )}\r\n            >\r\n              <div className={classNames()}>Likes {props.likesCount}</div>\r\n              <div className={classNames()}>Comments</div>\r\n              <div className={classNames()}>Share</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nActivityPost.propTypes = {\r\n  className: PropTypes.object.isRequired,\r\n  description: PropTypes.string.isRequired,\r\n  userName: PropTypes.string.isRequired,\r\n  userAddress: PropTypes.string.isRequired,\r\n  avatar: PropTypes.string.isRequired,\r\n  image: PropTypes.string.isRequired,\r\n  summitName: PropTypes.string.isRequired,\r\n  summitElevation: PropTypes.string.isRequired,\r\n  climbCreated: PropTypes.string.isRequired,\r\n  challengeName: PropTypes.string.isRequired,\r\n  challengeAllSummits: PropTypes.number.isRequired,\r\n  challengeFinishedSummits: PropTypes.number.isRequired,\r\n  likesCount: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default compose(withStyles(styles), withLocalization)(ActivityPost);\r\n","import React from 'react';\r\nimport { withRouter } from 'react-router';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport getSharedStyles from '../../style';\r\nimport classNames from 'classnames';\r\nimport withDoby from '../../consumers/withDoby';\r\nimport withUser from '../../consumers/withUser';\r\nimport { withLocalization } from '../shared/localization'\r\nimport compose from '../../compose';\r\nimport Button from '../dobyComponents/form/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\n\r\nimport ActivityPost from '../dobyComponents/ActivityPost'\r\n\r\nconst styles = (theme) => ({\r\n    ...getSharedStyles(theme),\r\n    filterIconHolder: {\r\n        width: '60px'\r\n    },  \r\n    tabsRootClasses: {\r\n        background: '#F1F1F1',\r\n        border: '3px solid #F1F1F1'\r\n    },\r\n    tabsInicator: {\r\n        height: '100%',\r\n        background: '#333442',\r\n    },\r\n    tabSelected: {\r\n        zIndex: 3,\r\n        color: 'white'\r\n    },   \r\n    filterOverlay: {\r\n        position: 'fixed',\r\n        height: '100%',\r\n        width: '100%',\r\n        background: '#F7F7F7',\r\n        top: 0,\r\n        left: 0,\r\n        zIndex: 15,\r\n        paddingTop: '60px'\r\n    }\r\n});\r\n\r\n\r\nclass Home extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            currentTab: 0,\r\n            filterOpen: false,\r\n        };\r\n    }\r\n\r\n    componentDidMount() {  \r\n\r\n    }    \r\n\r\n    handleTabChange = (event, tab) => {\r\n        this.setState({currentTab: tab})\r\n    };\r\n\r\n    renderActivityPosts = () => {\r\n        const { classes } = this.props;\r\n        let activityPosts = [0,1,2,3]\r\n\r\n        return activityPosts.map(post=>{\r\n            return (\r\n                <ActivityPost className={classNames(classes.mb3)}/>             \r\n            )\r\n        })\r\n    }\r\n\r\n    openFilter = () => {\r\n        console.log('aaa')\r\n        this.setState({filterOpen: true})\r\n    }\r\n\r\n    applyFilters = () =>{\r\n        this.setState({filterOpen: false})\r\n    }\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n\r\n        return (\r\n            <>\r\n               <Grid\r\n                    container\r\n                    direction=\"row\"\r\n                    justify=\"center\"\r\n                    alignItems=\"center\"\r\n                >\r\n                    <Grid item xs={12} className={classNames(classes.pt5, classes.pb2, classes.bgWhite)}>\r\n                        <div className={classNames(classes.container)}>\r\n                            <div className={classNames(classes.dFlex, classes.w100, classes.alignItemsCenter)}>\r\n                                <div className={classNames(classes.flexGrow)}>\r\n                                    <Tabs\r\n                                        value={this.state.currentTab}\r\n                                        onChange={this.handleTabChange}\r\n                                        aria-label=\"simple tabs example\"\r\n                                        variant=\"fullWidth\"\r\n                                        classes={{root: classes.tabsRootClasses, indicator: classNames(classes.tabsInicator, classes.roundedMd)}}\r\n                                        className={classNames(classes.roundedMd)}\r\n                                    >\r\n                                        <Tab \r\n                                            label=\"Sledujem\" \r\n                                            \r\n                                            classes={{selected: classes.tabSelected, root: classNames(classes.textXs2, classes.fontMedium, classes.capitalize)}}\r\n                                        />\r\n                                        <Tab \r\n                                            label=\"Vsetci\"\r\n                                        \r\n                                            classes={{selected: classes.tabSelected, root: classNames(classes.textXs2, classes.fontMedium, classes.capitalize)}}\r\n                                        />\r\n                                        <Tab\r\n                                            label=\"Moje\"\r\n                                           \r\n                                            classes={{selected: classes.tabSelected, root: classNames(classes.textXs2, classes.fontMedium, classes.capitalize)}}\r\n                                        />\r\n                                    </Tabs>\r\n                                </div>\r\n                                <div className={classNames(classes.filterIconHolder, classes.textRight)} onClick={this.openFilter}>\r\n                                    icon\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </Grid>  \r\n\r\n                    <Grid item xs={12} className={classNames()}>\r\n                        {this.renderActivityPosts()}\r\n                    </Grid>\r\n                </Grid>\r\n\r\n                { this.state.filterOpen && <div className={classNames(classes.filterOverlay)}>\r\n                    <div className={classNames(classes.container)}>\r\n                        <div className={classNames(classes.fontBold, classes.textMd, classes.mt5)}>\r\n                            Filter\r\n                        </div>\r\n                        <Button fullwidth onClick={this.applyFilters}>Pouzit filtre</Button>\r\n                    </div>\r\n                </div>}\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default compose(   \r\n    withStyles(styles),\r\n    withUser,\r\n    withLocalization,\r\n    withRouter\r\n)(Home);","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport compose from \"../../compose\";\r\n\r\nimport classNames from \"classnames\";\r\nimport getSharedStyles from \"../../style\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getSharedStyles(theme),\r\n  challengeCard: {\r\n    background: \"#333442\",\r\n    color: \"white\",\r\n  },\r\n  dateText: {\r\n    color: \"rgba(255,255,255,0.4)\",\r\n  },\r\n  progressLine: {\r\n    width: \"100%\",\r\n    height: \"5px\",\r\n    borderRadius: \"5px\",\r\n    background: \"#FF8C00\",\r\n  },\r\n});\r\n\r\nconst convertDate = (date) => {\r\n  return `${date.getDate()}.${date.getMonth() + 1}.${date.getFullYear()}`;\r\n};\r\n\r\nconst handleDates = (sDateFrom, sDateTo) => {\r\n  const dateFrom = new Date(sDateFrom);\r\n  const dateTo = new Date(sDateTo);\r\n\r\n  //const differenceInMiliseconds = dateTo.getTime() - dateFrom.getTime();\r\n  const differenceInMiliseconds = new Date() - dateTo.getTime();  \r\n  const differenceInDays = Math.round(\r\n    Math.abs(differenceInMiliseconds) / (1000 * 3600 * 24)\r\n  );\r\n  const differenceInHours = Math.round(differenceInMiliseconds / (1000 * 3600));\r\n  const differenceInMinutes = Math.round(differenceInMiliseconds / (1000 * 60));\r\n\r\n  return {\r\n    dateFrom: convertDate(dateFrom),\r\n    dateTo: convertDate(dateTo),\r\n    remaining:\r\n      differenceInDays !== 0\r\n        ? differenceInDays + \"dní\"\r\n        : `${differenceInHours}h ${differenceInMinutes}min`,   \r\n  };\r\n};\r\n\r\nfunction ActiveChallenge(props) {\r\n  const { classes } = props;\r\n  const { dateFrom, dateTo, remaining } = handleDates(\r\n    props.dateFrom,\r\n    props.dateTo\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className={classNames(\r\n          classes.challengeCard,\r\n          classes.roundedMd,\r\n          classes.p5,\r\n          props.className\r\n        )}\r\n      >\r\n        <div className={classNames(classes.flexCol, classes.w100)}>\r\n          <div\r\n            className={classNames(\r\n              classes.dFlex,\r\n              classes.justifyContentBetween,\r\n              classes.w100\r\n            )}\r\n          >\r\n            <div className={classNames(classes.flexCol)}>\r\n              <div\r\n                className={classNames(\r\n                  classes.textWhite,\r\n                  classes.textMonoH4,\r\n                  classes.fontBold, \r\n                  classes.pr2\r\n                )}\r\n              >\r\n                {props.name}\r\n              </div>\r\n              <div className={classNames(classes.dateText, classes.textXs2)}>\r\n                {`${dateFrom} - ${dateTo}`}\r\n              </div>\r\n            </div>\r\n            <div className={classNames(classes.flexCol)}>\r\n              <div className={classNames(classes.textCenter)}>ikona</div>\r\n              <div className={classNames(classes.textXs2)}>{remaining}</div>\r\n            </div>\r\n          </div>\r\n          <div\r\n            className={classNames(classes.flexCol, classes.w100, classes.mt4)}\r\n          >\r\n            <div\r\n              className={classNames(\r\n                classes.dFlex,\r\n                classes.justifyContentBetween,\r\n                classes.w100\r\n              )}\r\n            >\r\n              <div className={classNames(classes.textXs2)}>Štíty</div>\r\n              <div className={classNames(classes.textXs2)}>\r\n                {`${props.summitsFinished}/${props.allSummits}`}\r\n              </div>\r\n            </div>\r\n            <div className={classNames(classes.mt2)}>\r\n              <div className={classNames(classes.progressLine)}></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nActiveChallenge.propTypes = {\r\n  className: PropTypes.object.isRequired,\r\n  name: PropTypes.string,\r\n  allSummits: PropTypes.number,\r\n  summitsFinished: PropTypes.number,\r\n  dateFrom: PropTypes.string,\r\n  dateTo: PropTypes.string,\r\n};\r\n\r\nexport default compose(withStyles(styles))(ActiveChallenge);\r\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Downshift from 'downshift';\nimport { withStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Paper from '@material-ui/core/Paper';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nfunction renderInput(inputProps) {\n  const { InputProps, classes, ref, ...other } = inputProps;\n\n  return (\n    <TextField\n      InputProps={{\n        inputRef: ref,\n        classes: {\n          root: classes.inputRoot,\n          input: classes.inputInput,\n        },\n        ...InputProps,\n      }}\n      {...other}\n    />\n  );\n}\n\nfunction renderSuggestion({ suggestion, index, itemProps, highlightedIndex, selectedItem, textField }) {\n  const isHighlighted = highlightedIndex === index;\n  const isSelected = selectedItem && suggestion._id === selectedItem._id;\n\n  return (\n    <MenuItem\n      {...itemProps}\n      key={suggestion._id}\n      selected={isHighlighted}\n      component=\"div\"\n      style={{\n        fontWeight: isSelected ? 500 : 400,\n      }}\n    >\n      {suggestion[textField]}\n    </MenuItem>\n  );\n}\nrenderSuggestion.propTypes = {\n  highlightedIndex: PropTypes.number,\n  index: PropTypes.number,\n  itemProps: PropTypes.object,\n  selectedItem: PropTypes.string,\n  suggestion: PropTypes.string.isRequired,\n};\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  container: {\n    flexGrow: 1,\n    position: 'relative',\n  },\n  paper: {\n    position: 'absolute',\n    zIndex: 1,\n    marginTop: theme.spacing.unit,\n    left: 0,\n    right: 0,\n  },\n  chip: {\n    margin: `${theme.spacing.unit / 2}px ${theme.spacing.unit / 4}px`,\n  },\n  inputRoot: {\n    flexWrap: 'wrap',\n  },\n  inputInput: {\n    width: 'auto',\n    flexGrow: 1,\n  },\n  divider: {\n    height: theme.spacing.unit * 2,\n  }\n});\n\nlet _timer;\nfunction IntegrationDownshift(props) {\n  const { classes } = props;\n\n  const onInputValueChange = (value) => {\n    if (_timer){\n      clearTimeout(_timer);\n    }\n\n    _timer = setTimeout(() => {\n      const filters = [{ field: props.textField, value, op: 'regex' }];\n      props.onFilterChange(filters);\n    }, 500);\n  }\n\n  return (\n    <div className={classes.root}>\n      <Downshift\n        itemToString={item => item ? item[props.textField] : ''} \n        id=\"downshift-simple\" \n        onChange={(value) => props.onChange(props.field, value)} \n        onInputValueChange={onInputValueChange}\n        selectedItem={props.value}\n      >\n        {({\n          getInputProps,\n          getItemProps,\n          getMenuProps,\n          highlightedIndex,\n          inputValue,\n          isOpen,\n          selectedItem,\n        }) => (\n          <div className={classes.container}>\n            {renderInput({\n              fullWidth: props.fullWidth,\n              classes,\n              label: props.label,\n              required: props.required,\n              disabled: props.disabled,\n              InputProps: getInputProps({\n                placeholder: ''\n              })\n            })}\n            <div {...getMenuProps()}>\n              {isOpen ? (\n                <Paper className={classes.paper} square>\n                  {props.data.map((suggestion, index) =>\n                    renderSuggestion({\n                      suggestion,\n                      index,\n                      itemProps: getItemProps({ item: suggestion }),\n                      highlightedIndex,\n                      selectedItem,\n                      textField: props.textField\n                    }),\n                  )}\n                </Paper>\n              ) : null}\n            </div>\n          </div>\n        )}\n      </Downshift>\n    </div>\n  );\n}\n\nIntegrationDownshift.propTypes = {\n  classes: PropTypes.object.isRequired,\n  label: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  data: PropTypes.array.isRequired,\n  value: PropTypes.object,\n  required: PropTypes.bool,\n  field: PropTypes.string.isRequired,\n  textField: PropTypes.string.isRequired,\n  onFilterChange: PropTypes.func.isRequired,\n  disabled: PropTypes.bool,\n  fullWidth: PropTypes.bool\n};\n\nexport default withStyles(styles)(IntegrationDownshift);","import React from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { withLocalization } from \"../../shared/localization\";\r\nimport compose from \"../../../compose\";\r\nimport getSharedStyles from \"../../../style\";\r\nimport classNames from \"classnames\";\r\nimport withUser from \"../../../consumers/withUser\";\r\nimport withDoby from \"../../../consumers/withDoby\";\r\nimport withStore from \"../../../consumers/withStore\";\r\n\r\nimport ClearIcon from \"@material-ui/icons/Clear\";\r\nimport Button from \"../../dobyComponents/form/Button\";\r\nimport Flickity from \"react-flickity-component\";\r\n\r\nimport ActiveChallengeCard from \"../../dobyComponents/ActiveChallengeCard\";\r\nimport ChallengeCard from \"../../dobyComponents/ChallengeCard\";\r\nimport ActivityPost from \"../../dobyComponents/ActivityPost\";\r\nimport Autocomplete from \"../../shared/Autocomplete\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getSharedStyles(theme),\r\n  profileImgHolder: {\r\n    width: \"120px\",\r\n    height: \"120px\",\r\n    borderRadius: \"100px\",\r\n    overflow: \"hidden\",\r\n    position: \"relative\",\r\n  },\r\n  profileImg: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    position: \"absolute\",\r\n    top: \"0\",\r\n    left: \"0\",\r\n    objectFit: \"cover\",\r\n  },\r\n  medalItem: {\r\n    width: \"120px\",\r\n    position: \"relative\",\r\n    \"&:after\": {\r\n      content: \"''\",\r\n      display: \"block\",\r\n      position: \"absolute\",\r\n      left: 0,\r\n      top: 0,\r\n      width: \"100%\",\r\n      height: \"140px\",\r\n      borderRadius: \"10px\",\r\n      background: \"#F5F5F5\",\r\n      zIndex: \"-1\",\r\n    },\r\n  },\r\n  medalImgHolder: {\r\n    width: \"100px\",\r\n    height: \"150px\",\r\n  },\r\n  medalImg: {\r\n    width: \"100%\",\r\n    height: \"auto\",\r\n  },\r\n  medalTitle: {\r\n    minHeight: \"40px\",\r\n  },\r\n  //   medalItem: {\r\n  //     width: \"120px\",\r\n  //     height: \"160px\",\r\n  //     position: \"relative\",\r\n  //   },\r\n  //   medalItemBg: {\r\n  //     background: \"#F5F5F5\",\r\n  //     //background: 'red',\r\n  //     borderRadius: \"10px\",\r\n  //     width: \"100%\",\r\n  //     height: \"160px\",\r\n  //   },\r\n  //   medalItemImg: {\r\n  //     width: \"95px\",\r\n  //     position: \"absolute\",\r\n  //     top: \"45px\",\r\n  //     left: 0,\r\n  //     right: 0,\r\n  //     margin: \"0 auto\",\r\n  //   },\r\n  medalCarousel: {\r\n    \"& .flickity-viewport\": {\r\n      //padding: '7px'\r\n    },\r\n    \"& .carousel-cell:first-child\": {\r\n      paddingLeft: \"1.25rem\",\r\n    },\r\n    \"& .carousel-cell:last-child\": {\r\n      //paddingRight: '0.5rem',\r\n    },\r\n  },\r\n  challengesCarousel: {\r\n    \"& .flickity-viewport\": {\r\n      //padding: '7px'\r\n    },\r\n    \"& .carousel-cell:first-child\": {\r\n      paddingLeft: \"1.25rem\",\r\n    },\r\n    \"& .carousel-cell:last-child\": {\r\n      //paddingRight: '0.5rem',\r\n    },\r\n  },\r\n});\r\n\r\nconst flickityOptions = {\r\n  cellAlign: \"left\",\r\n  contain: true,\r\n  prevNextButtons: false,\r\n  pageDots: false,\r\n};\r\n\r\nclass Profile extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      friend: null,\r\n      dobyFriend: null,\r\n      dobyUser: null,\r\n      medals: [],\r\n      unfinishedChallenges: [],\r\n      challengesUserNotParticipate: [],\r\n      currUserFollowingFriend: false,\r\n      myClimbs: [],\r\n      summits: [],\r\n      foundFriend: null,\r\n      watchingYourself: false,\r\n    };\r\n  }\r\n\r\n  buildFilter = (value) => {\r\n    return [\r\n      {\r\n        field: \"userRef.id\",\r\n        op: \"eq\",\r\n        value,\r\n      },\r\n    ];\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const { _id } = this.props.match.params;\r\n    const { user } = this.props.user;\r\n    const { getUser, getClimbs } = this.props.doby;\r\n\r\n    const watchingYourself = _id === user._id;\r\n    this.setState({ watchingYourself });\r\n\r\n    const dobyUser = await getUser(user._id);\r\n    this.setState({ dobyUser });\r\n\r\n    const filter = this.buildFilter(_id || user._id);\r\n    const climbs = await getClimbs(filter);\r\n\r\n    if (_id) {\r\n      const dobyFriend = await this.props.doby.getUser(_id);\r\n      const friend = await this.props.user.getUser(_id);\r\n      const currUserFollowingFriend =\r\n        dobyUser.followingRef.find((f) => f.id === _id) !== undefined;\r\n\r\n      this.setState({ dobyFriend, friend, currUserFollowingFriend });\r\n\r\n      this.setMyClimbs(climbs.data, friend);\r\n      this.setUnfinishedChallenges(dobyFriend);\r\n      this.setMedals(dobyFriend);\r\n    } else {\r\n      this.setMyClimbs(climbs.data, user);\r\n      this.setUnfinishedChallenges(dobyUser);\r\n      this.setMedals(dobyUser);\r\n    }\r\n  }\r\n\r\n  setMyClimbs = async (climbs, user) => {\r\n    const myClimbs = climbs.map((c) => {\r\n      if (c.summit && c.summit.imageId)\r\n        this.getFile(c.summit.imageId, this.setImageToClimbCallback, c._id);\r\n\r\n      return {\r\n        ...c,\r\n        userName: user.name,\r\n        userAddress: `${user.city} ${user.country}`,\r\n        avatar: user.avatar,\r\n      };\r\n    });\r\n\r\n    this.setState({ myClimbs });\r\n  };\r\n\r\n  setUnfinishedChallenges = (dobyUser) => {\r\n    const { challenges, challengesRef } = dobyUser;\r\n\r\n    let unfinishedChallenges = [];\r\n    let unfinishedChallengesRef = [];\r\n    if (challengesRef) {\r\n      unfinishedChallengesRef = challengesRef\r\n        .filter((c) => c.finished === null)\r\n        .map((c) => ({ id: c.id, count: c.count }));\r\n    }\r\n\r\n    unfinishedChallenges = unfinishedChallengesRef.map((activeC) => {\r\n      const found = challenges.find((c) => c._id === activeC.id);\r\n      return {\r\n        ...found,\r\n        countFinishedSummits: activeC.count,\r\n      };\r\n    });\r\n\r\n    this.setState({ unfinishedChallenges });\r\n  };\r\n\r\n  setMedals = (dobyUser) => {\r\n    const { challenges, challengesRef } = dobyUser;\r\n\r\n    let medals = [];\r\n    let finishedChallengesRefIDs = [];\r\n    if (challengesRef) {\r\n      finishedChallengesRefIDs = challengesRef\r\n        .filter((c) => c.finished !== null)\r\n        .map((c) => c.id);\r\n    }\r\n\r\n    medals = finishedChallengesRefIDs.map((id) => {\r\n      const medal = challenges.find((c) => c._id === id);\r\n      this.getFile(medal.logoId, this.setLogoToMedalCallback, medal._id);\r\n\r\n      return medal;\r\n    });\r\n\r\n    this.setState({ medals });\r\n  };\r\n\r\n  // Follow/Unfollow user\r\n  followUser = async () => {\r\n    const { _id } = this.props.match.params;\r\n\r\n    this.props.doby.followUser(_id);\r\n    this.setState({ currUserFollowingFriend: true });\r\n  };\r\n  unfollowUser = async (id) => {\r\n    const { _id } = this.props.match.params;\r\n\r\n    this.props.doby.unfollowUser(_id);\r\n    this.setState({ currUserFollowingFriend: false });\r\n  };\r\n\r\n  // Callbacks\r\n  setLogoToMedalCallback = (logoSrc, id) => {\r\n    const medals = [...this.state.medals];\r\n\r\n    this.setState({\r\n      medals: [\r\n        ...medals.map((m) => {\r\n          if (m._id === id) return { ...m, logoSrc };\r\n          return m;\r\n        }),\r\n      ],\r\n    });\r\n  };\r\n  setImageToClimbCallback = (imgSrc, id) => {\r\n    const myClimbs = [...this.state.myClimbs];\r\n\r\n    this.setState({\r\n      myClimbs: [\r\n        ...myClimbs.map((m) => {\r\n          if (m._id === id) return { ...m, imgSrc };\r\n          return m;\r\n        }),\r\n      ],\r\n    });\r\n  };\r\n\r\n  getFile = async (fileId, callback, identificator) => {\r\n    try {\r\n      if (fileId) {\r\n        const data = await this.props.store.getFile(fileId);\r\n\r\n        var reader = new FileReader();\r\n        reader.onloadend = async () => {\r\n          callback(reader.result, identificator);\r\n        };\r\n        reader.readAsDataURL(data);\r\n      }\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  };\r\n\r\n  joinChallenge = (challenge) => {\r\n    if (challenge._id)\r\n      this.props.history.push(`/challenge-checkout/${challenge._id}`);\r\n  };\r\n\r\n  handleGetChallengesUserNotParticipate = async () => {\r\n    const { dobyUser } = this.state;\r\n\r\n    if (dobyUser) {\r\n      const userChals = dobyUser.challenges.map((c) => c._id);\r\n      const filter = [\r\n        { field: \"end\", value: new Date().toISOString(), op: \"gt\" },\r\n      ];\r\n\r\n      const filteredChals = await this.props.doby.getChallenges(\r\n        filter,\r\n        { field: \"name\", dir: \"asc\" },\r\n        { limit: 1000, skip: 0 },\r\n        false\r\n      );\r\n\r\n      const challengesUserNotParticipate = filteredChals\r\n        ? filteredChals.data.filter(\r\n            (filteredChal) =>\r\n              userChals.find(\r\n                (userChal) => userChal._id === filteredChal._id\r\n              ) === undefined\r\n          )\r\n        : [];\r\n\r\n      this.setState({ challengesUserNotParticipate });\r\n    }\r\n  };\r\n\r\n  handleOnChangeSearchFriends = (name, friend) => {\r\n    this.goToProfileFriend(friend._id);\r\n  };\r\n\r\n  handleOnFilterChangeSearchFriends = async (filter) => {\r\n    await this.props.user.getUsers(filter);\r\n  };\r\n\r\n  renderMedals = () => {\r\n    const { classes } = this.props;\r\n    return this.state.medals.map((medal) => {\r\n      return (\r\n        <div className={\"carousel-cell\"}>\r\n          <div\r\n            className={classNames(\r\n              classes.flexCol,\r\n              classes.medalItem,\r\n              classes.alignItemsCenter\r\n            )}\r\n          >\r\n            <div\r\n              className={classNames(\r\n                classes.medalTitle,\r\n                classes.textXs,\r\n                classes.textCenter,\r\n                classes.flexCol,\r\n                classes.justifyContentCenter,\r\n                classes.px3,\r\n                classes.pt3,\r\n                classes.pb2\r\n              )}\r\n            >\r\n              {medal.name}\r\n            </div>\r\n            <div className={classNames(classes.medalImgHolder)}>\r\n              <img\r\n                alt=\"medalImg\"\r\n                src={medal.logoSrc}\r\n                className={classNames(classes.medalImg)}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n  renderMyChallenges = () => {\r\n    const { classes } = this.props;\r\n\r\n    return this.state.unfinishedChallenges.map((challenge) => {\r\n      return (\r\n        <ActiveChallengeCard\r\n          className={classNames(classes.mt3)}\r\n          name={challenge.name}\r\n          allSummits={challenge.summitsRef ? challenge.summitsRef.length : 0}\r\n          summitsFinished={challenge.countFinishedSummits}\r\n          dateFrom={challenge.start}\r\n          dateTo={challenge.end}\r\n        />\r\n      );\r\n    });\r\n  };\r\n\r\n  renderChallenges = () => {\r\n    const { classes } = this.props;\r\n\r\n    return this.state.challengesUserNotParticipate.map((challenge) => {\r\n      return (\r\n        <div className={classNames(\"carousel-cell\", classes.py2)}>\r\n          <ChallengeCard\r\n            className={classNames(classes.mr5)}\r\n            title={challenge.name}\r\n            description={challenge.description}\r\n            onClickParticipate={() => this.joinChallenge(challenge)}\r\n            onClickMoreInfo={() => {}}\r\n          />\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n  renderMyClimbs = () => {\r\n    const { classes } = this.props;\r\n    const { myClimbs, dobyUser, dobyFriend } = this.state;\r\n\r\n    return myClimbs.map((climb) => {\r\n      const {\r\n        description,\r\n        userName,\r\n        userAddress,\r\n        avatar,\r\n        created,\r\n        summit,\r\n        challenge,\r\n        imgSrc,\r\n        likesCount,\r\n      } = climb;\r\n\r\n      const challengeRefFound =\r\n        dobyFriend && challenge\r\n          ? dobyFriend.challengesRef.find((c) => c.id === challenge._id)\r\n          : dobyUser && challenge\r\n          ? dobyUser.challengesRef.find((c) => c.id === challenge._id)\r\n          : null;\r\n      return (\r\n        <ActivityPost\r\n          className={classNames(classes.mt3)}\r\n          description={description}\r\n          userName={userName}\r\n          userAddress={userAddress}\r\n          avatar={avatar}\r\n          image={imgSrc}\r\n          summitName={summit ? summit.name : \"NaN\"}\r\n          summitElevation={summit ? summit.elevation : 0}\r\n          climbCreated={created}\r\n          challengeName={challenge ? challenge.name : \"NaN\"}\r\n          challengeAllSummits={challenge ? challenge.summitsRef.length : 0}\r\n          challengeFinishedSummits={\r\n            challengeRefFound ? challengeRefFound.count : 0\r\n          }\r\n          likesCount={likesCount || 0}\r\n        />\r\n      );\r\n    });\r\n  };\r\n\r\n  goToProfileFriend = (id) => this.props.history.push(`/profile-friend/${id}`);\r\n  goToProfileSettings = () => this.props.history.push(`/profile-settings`);\r\n\r\n  render() {\r\n    const { classes, translate } = this.props;\r\n    const { user, users } = this.props.user;\r\n    const {\r\n      friend,\r\n      medals,\r\n      unfinishedChallenges,\r\n      dobyFriend,\r\n      dobyUser,\r\n      currUserFollowingFriend,\r\n      foundFriend,\r\n      watchingYourself,\r\n    } = this.state;\r\n\r\n    const isFriendProfile = friend !== null;\r\n    return (\r\n      <>\r\n        <div>\r\n          <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\">\r\n            {/* HEADER */}\r\n            <Grid item xs={12} className={classNames(classes.mt5)}>\r\n              <div className={classNames(classes.container)}>\r\n                <div\r\n                  className={classNames(\r\n                    classes.dFlex,\r\n                    classes.w100,\r\n                    classes.alignItemsCenter,\r\n                    classes.justifyContentBetween\r\n                  )}\r\n                >\r\n                  <div className={classNames(classes.textXs)}>\r\n                    {translate(\"home\")}\r\n                  </div>\r\n                  {!isFriendProfile && (\r\n                    <div>\r\n                      <ClearIcon onClick={this.goToProfileSettings} />\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </Grid>\r\n\r\n            {/* PROFILE IMAGE + FIND FRIENDS */}\r\n            <Grid item xs={12}>\r\n              <div className={classNames(classes.container)}>\r\n                <div\r\n                  className={classNames(\r\n                    classes.dFlex,\r\n                    classes.alignItemsCenter,\r\n                    classes.w100,\r\n                    classes.mt4\r\n                  )}\r\n                >\r\n                  <div className={classNames(classes.profileImgHolder)}>\r\n                    <img\r\n                      alt=\"avatarImg\"\r\n                      src={\r\n                        friend && friend.avatar\r\n                          ? \"data:image/jpeg;base64,\" + friend.avatar\r\n                          : user && user.avatar\r\n                          ? \"data:image/jpeg;base64,\" + user.avatar\r\n                          : \"./img/user-img.jpg\"\r\n                      }\r\n                      className={classNames(classes.profileImg)}\r\n                    />\r\n                  </div>\r\n                  <div\r\n                    className={classNames(\r\n                      classes.flexCol,\r\n                      classes.flexGrow,\r\n                      classes.ml5\r\n                    )}\r\n                  >\r\n                    <div\r\n                      className={classNames(\r\n                        classes.dFlex,\r\n                        classes.justifyContentBetween,\r\n                        classes.w100\r\n                      )}\r\n                    >\r\n                      <div className={classNames(classes.flexCol)}>\r\n                        <div\r\n                          className={classNames(\r\n                            classes.textBase2,\r\n                            classes.fontMedium\r\n                          )}\r\n                        >\r\n                          {isFriendProfile && dobyFriend\r\n                            ? dobyFriend.climbsCnt\r\n                            : dobyUser\r\n                            ? dobyUser.climbsCnt\r\n                            : 0}\r\n                        </div>\r\n                        <div\r\n                          className={classNames(\r\n                            classes.textXs2,\r\n                            classes.text300\r\n                          )}\r\n                        >\r\n                          {translate(\"ofHills\")}\r\n                        </div>\r\n                      </div>\r\n                      <div className={classNames(classes.flexCol)}>\r\n                        <div\r\n                          className={classNames(\r\n                            classes.textBase2,\r\n                            classes.fontMedium\r\n                          )}\r\n                        >\r\n                          {isFriendProfile && dobyFriend\r\n                            ? dobyFriend.followersRef.length\r\n                            : dobyUser\r\n                            ? dobyUser.followersRef.length\r\n                            : 0}\r\n                        </div>\r\n                        <div\r\n                          className={classNames(\r\n                            classes.textXs2,\r\n                            classes.text300\r\n                          )}\r\n                        >\r\n                          {`${\r\n                            isFriendProfile\r\n                              ? translate(\"followers\")\r\n                              : translate(\"followMe\")\r\n                          }`}\r\n                        </div>\r\n                      </div>\r\n                      <div className={classNames(classes.flexCol)}>\r\n                        <div\r\n                          className={classNames(\r\n                            classes.textBase2,\r\n                            classes.fontMedium\r\n                          )}\r\n                        >\r\n                          {isFriendProfile && dobyFriend\r\n                            ? dobyFriend.followingRef.length\r\n                            : dobyUser\r\n                            ? dobyUser.followingRef.length\r\n                            : 0}\r\n                        </div>\r\n                        <div\r\n                          className={classNames(\r\n                            classes.textXs2,\r\n                            classes.text300\r\n                          )}\r\n                        >\r\n                          {`${\r\n                            isFriendProfile\r\n                              ? translate(\"heFollow\")\r\n                              : translate(\"following\")\r\n                          }`}\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    <div className={classNames(classes.mt3, classes.w100)}>\r\n                      {isFriendProfile ? (\r\n                        <Button\r\n                          disabled={watchingYourself}\r\n                          fullwidth\r\n                          onClick={\r\n                            currUserFollowingFriend\r\n                              ? this.unfollowUser\r\n                              : this.followUser\r\n                          }\r\n                        >\r\n                          {`${\r\n                            currUserFollowingFriend\r\n                              ? translate(\"following\")\r\n                              : translate(\"follow\")\r\n                          }`}\r\n                        </Button>\r\n                      ) : (\r\n                        <Autocomplete\r\n                          classes={classes}\r\n                          onChange={this.handleOnChangeSearchFriends}\r\n                          onFilterChange={\r\n                            this.handleOnFilterChangeSearchFriends\r\n                          }\r\n                          data={users ? users.data : []}\r\n                          field=\"foundFriend\"\r\n                          textField=\"username\"\r\n                          label={translate(\"searchFriends\")}\r\n                          value={foundFriend}\r\n                          fullWidth\r\n                        />\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </Grid>\r\n\r\n            {/* POPIS */}\r\n            <Grid item xs={12} className={classNames(classes.mt4)}>\r\n              <div className={classNames(classes.container)}>\r\n                <div className={classNames(classes.fontBold, classes.dBlock)}>\r\n                  {isFriendProfile ? friend.name : user.name}\r\n                </div>\r\n                <div\r\n                  className={classNames(\r\n                    classes.fontBold,\r\n                    classes.textXs,\r\n                    classes.dBlock,\r\n                    classes.mt3\r\n                  )}\r\n                >\r\n                  {isFriendProfile\r\n                    ? `${friend.city}, ${friend.country}`\r\n                    : `${user.city}, ${user.country}`}\r\n                </div>\r\n                <div\r\n                  className={classNames(\r\n                    classes.textXs2,\r\n                    classes.dBlock,\r\n                    classes.mt1\r\n                  )}\r\n                >\r\n                  {isFriendProfile ? friend.bio : user.bio}\r\n                  {/* Mountain lover ⛰️ MTB enthusiast. Mountain lover ⛰️ MTB\r\n                  enthusiast.Mountain lover ⛰️ MTB enthusiast. */}\r\n                </div>\r\n                <hr\r\n                  className={classNames(\r\n                    classes.w100,\r\n                    classes.mt4,\r\n                    classes.mb4,\r\n                    classes.hrLine\r\n                  )}\r\n                />\r\n              </div>\r\n            </Grid>\r\n\r\n            {/* MEDALS */}\r\n            <Grid\r\n              item\r\n              xs={12}\r\n              className={classNames(\r\n                classes.mt7,\r\n                classes.bgWhite,\r\n                classes.pt6,\r\n                classes.pb6\r\n              )}\r\n            >\r\n              <div className={classNames(classes.container)}>\r\n                <div\r\n                  className={classNames(\r\n                    classes.dFlex,\r\n                    classes.alignItemsCenter,\r\n                    classes.justifyContentBetween\r\n                  )}\r\n                >\r\n                  <div className={classNames(classes.fontSemibold)}>\r\n                    {`${translate(\"medals\")} (${medals.length})`}\r\n                  </div>\r\n                  <div\r\n                    className={classNames(\r\n                      classes.textXs,\r\n                      classes.text300,\r\n                      classes.fontMedium\r\n                    )}\r\n                  >\r\n                    {translate(\"showAll\")}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div>\r\n                <Flickity\r\n                  className={classNames(classes.mt4, classes.medalCarousel)}\r\n                  options={flickityOptions}\r\n                  reloadOnUpdate={true}\r\n                >\r\n                  {this.renderMedals()}\r\n                </Flickity>\r\n              </div>\r\n            </Grid>\r\n\r\n            {/* ACTUAL CHALLENGES */}\r\n            <Grid item xs={12} className={classNames(classes.mt7)}>\r\n              <div className={classNames(classes.container)}>\r\n                <div\r\n                  className={classNames(\r\n                    classes.dFlex,\r\n                    classes.alignItemsCenter,\r\n                    classes.justifyContentBetween\r\n                  )}\r\n                >\r\n                  <div className={classNames(classes.fontSemibold)}>\r\n                    {`${translate(\"activeChallenges\")} (${\r\n                      unfinishedChallenges.length\r\n                    })`}\r\n                  </div>\r\n                  <div\r\n                    className={classNames(\r\n                      classes.textXs,\r\n                      classes.text300,\r\n                      classes.fontMedium\r\n                    )}\r\n                  >\r\n                    {isFriendProfile ? \"\" : translate(\"showAll\")}\r\n                  </div>\r\n                </div>\r\n\r\n                {this.renderMyChallenges()}\r\n              </div>\r\n            </Grid>\r\n\r\n            {/* CHALLENGES */}\r\n            {!isFriendProfile && (\r\n              <Grid item xs={12} className={classNames(classes.mt7)}>\r\n                <div className={classNames(classes.container)}>\r\n                  <div\r\n                    className={classNames(\r\n                      classes.dFlex,\r\n                      classes.alignItemsCenter,\r\n                      classes.justifyContentBetween\r\n                    )}\r\n                  >\r\n                    <div className={classNames(classes.fontSemibold)}>\r\n                      Nezmeškaj\r\n                    </div>\r\n                    <div\r\n                      className={classNames(\r\n                        classes.textXs,\r\n                        classes.text300,\r\n                        classes.fontMedium\r\n                      )}\r\n                    >\r\n                      {translate(\"showAll\")}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <Flickity\r\n                    className={classNames(\r\n                      classes.mt2,\r\n                      classes.challengesCarousel\r\n                    )}\r\n                    options={flickityOptions}\r\n                    reloadOnUpdate={true}\r\n                  >\r\n                    {this.renderChallenges()}\r\n                  </Flickity>\r\n                </div>\r\n              </Grid>\r\n            )}\r\n\r\n            {/* CLIMBS */}\r\n            <Grid\r\n              item\r\n              xs={12}\r\n              className={classNames(classes.mt7, classes.bgWhite, classes.pt6)}\r\n            >\r\n              <div className={classNames(classes.container)}>\r\n                <div\r\n                  className={classNames(classes.fontSemibold, classes.dBlock)}\r\n                >\r\n                  {translate(\"climbs\")}\r\n                </div>\r\n              </div>\r\n              <div>{this.renderMyClimbs()}</div>\r\n            </Grid>\r\n          </Grid>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nProfile.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withDoby,\r\n  withUser,\r\n  withStore,\r\n  withLocalization,\r\n  withRouter\r\n)(Profile);\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport MaskedInput from \"react-text-mask\";\r\n\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { withLocalization } from \"../../shared/localization\";\r\nimport getSharedStyles from \"../../../style\";\r\n\r\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport FilledInput from \"@material-ui/core/FilledInput\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport classNames from \"classnames\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getSharedStyles(theme),\r\n  textInput: {\r\n    background: \"white!important\",\r\n    border: \"1px solid #E7E7E7\",\r\n    borderRadius: \"6px\",\r\n    \"&:before\": {\r\n      display: \"none\",\r\n    },\r\n    \"&:after\": {\r\n      display: \"none\",\r\n    },\r\n  },\r\n  inputLabel: {\r\n    color: \"rgba(0,0,0,0.3)!important\",\r\n    fontSize: \"0.875rem\",\r\n  },\r\n  inputRoot: {\r\n    padding: \"23px 12px 8px\",\r\n    fontSize: \"0.875rem\",\r\n    color: \"#333442\",\r\n  },\r\n});\r\n\r\nfunction Mask(props) {\r\n  const { inputRef, ...other } = props;\r\n\r\n  return (\r\n    <MaskedInput\r\n      {...other}\r\n      ref={inputRef}\r\n      mask={[/\\d/, /\\d/, /\\d/, \" \", /\\d/, /\\d/, /\\d/, \" \", /\\d/, /\\d/, /\\d/]}\r\n      placeholderChar={\"\\u2000\"}\r\n      showMask\r\n    />\r\n  );\r\n}\r\n\r\nMask.propTypes = {\r\n  inputRef: PropTypes.func.isRequired,\r\n};\r\n\r\nfunction TextFieldComponent(props) {\r\n  const { classes } = props;\r\n  const label = props.label || props.translate(\"field.\" + props.field);\r\n\r\n  return (\r\n    <FormControl\r\n      className={classNames(props.className)}\r\n      variant=\"filled\"\r\n      fullWidth={props.fullWidth}\r\n      required={props.required}\r\n      error={props.errorText && props.errorText !== \"\"}\r\n    >\r\n      <InputLabel\r\n        htmlFor=\"component-filled\"\r\n        className={classNames(classes.inputLabel)}\r\n      >\r\n        {label}\r\n      </InputLabel>\r\n      <FilledInput\r\n        id=\"outlined-name\"\r\n        label={label}\r\n        value={props.value || \"\"}\r\n        onChange={(e) => props.onChange(props.field, e.target.value)}\r\n        onBlur={props.onBlur}\r\n        margin=\"normal\"\r\n        variant=\"filled\"\r\n        inputComponent={Mask}\r\n        className={classes.textInput}\r\n        classes={{ input: classes.inputRoot }}\r\n      />\r\n      <FormHelperText>{props.errorText}</FormHelperText>\r\n    </FormControl>\r\n  );\r\n}\r\n\r\nTextFieldComponent.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  className: PropTypes.string,\r\n  label: PropTypes.string,\r\n  field: PropTypes.string.isRequired,\r\n  value: PropTypes.string,\r\n  onChange: PropTypes.func.isRequired,\r\n  placeholder: PropTypes.string,\r\n  fullWidth: PropTypes.bool,\r\n  required: PropTypes.bool,\r\n  type: PropTypes.string,\r\n  disabled: PropTypes.bool,\r\n  multiline: PropTypes.bool,\r\n  rows: PropTypes.number,\r\n  startAdornment: PropTypes.string,\r\n  onBlur: PropTypes.func,\r\n  errorText: PropTypes.string,\r\n  width: PropTypes.number,\r\n};\r\n\r\nexport default withLocalization(withStyles(styles)(TextFieldComponent));\r\n","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport compose from '../../../compose';\r\n\r\nimport classNames from 'classnames';\r\nimport getSharedStyles from '../../../style';\r\n\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    socialConnectCard: {\r\n        background: 'white',\r\n    },\r\n    socialIcon: {\r\n        width: '30px',\r\n        height: '30px',\r\n    }\r\n});\r\n\r\nfunction FacebookConnection(props) {\r\n    const { classes } = props;\r\n\r\n    const handleClick = () => {\r\n        const redirect = process.env.REACT_APP_HOMEPAGE;\r\n        const url = `https://www.facebook.com/v9.0/dialog/oauth?scope=email,user_link&client_id=${props.config.id}&redirect_uri=${redirect}/?provider=5&state=1`;\r\n        window.location.replace(url);\r\n    };\r\n\r\n    if (!props.config) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className={classNames(classes.p3, classes.socialConnectCard, classes.roundedMd, classes.dBlock)} onClick={handleClick}>\r\n                <div className={classNames(classes.dFlex, classes.w100, classes.alignItemsCenter)}>\r\n                    <img src={\"./img/fb-logo.png\"} className={classNames(classes.socialIcon)} />\r\n                    <div className={classNames(classes.flexCol, classes.ml3)}>\r\n                        <div className={classNames()}>\r\n                            Pridať a prepojiť Facebook\r\n                        </div>\r\n                        <div className={classNames(classes.textM, classes.text300)}>\r\n                            Nájsť priateľov a pridať link na profil\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n)(FacebookConnection);","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport compose from '../../../compose';\r\n\r\nimport classNames from 'classnames';\r\nimport getSharedStyles from '../../../style';\r\n\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    socialConnectCard: {\r\n        background: 'white',\r\n    },\r\n    socialIcon: {\r\n        width: '30px',\r\n        height: '30px',\r\n    }\r\n});\r\n\r\nfunction StravaConnection(props) {\r\n    const { classes } = props;\r\n\r\n    const handleClick = () => {\r\n        const redirect = process.env.REACT_APP_HOMEPAGE;\r\n        // const redirect = 'http://localhost:3000';\r\n        const url = `https://www.strava.com/oauth/authorize?client_id=${props.config.id}&response_type=code&scope=read,activity:read&redirect_uri=${redirect}?provider=4`;\r\n        window.location.replace(url);\r\n    };\r\n\r\n    if (!props.config) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className={classNames(classes.p3, classes.socialConnectCard, classes.roundedMd, classes.dBlock, props.className)} onClick={handleClick}>\r\n                <div className={classNames(classes.dFlex, classes.w100, classes.alignItemsCenter)}>\r\n                    <img src={\"./img/strava-logo.png\"} className={classNames(classes.socialIcon)} />\r\n                    <div className={classNames(classes.flexCol, classes.ml3)}>\r\n                        <div className={classNames()}>\r\n                            Pridať a prepojiť Strava\r\n                        </div>\r\n                        <div className={classNames(classes.textXs2, classes.text300)}>\r\n                            Nájsť priateľov a pridať link na profil\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n)(StravaConnection);","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport withUser from \"../../../consumers/withUser\";\r\nimport { withLocalization } from \"../../shared/localization\";\r\nimport withStore from \"../../../consumers/withStore\";\r\nimport withUtils from \"../../shared/utils/withUtils\";\r\nimport compose from \"../../../compose\";\r\nimport getSharedStyles from \"../../../style\";\r\nimport classNames from \"classnames\";\r\n\r\nimport Button from \"../../dobyComponents/form/Button\";\r\nimport Switch from \"../../dobyComponents/form/Switch\";\r\n\r\nimport TextField from \"../../dobyComponents/form/TextField\";\r\nimport TelField from \"../../dobyComponents/form/TelField\";\r\nimport SelectField from \"../../dobyComponents/form/SelectField\";\r\nimport Checkbox from \"../../dobyComponents/form/CheckboxField\";\r\n\r\nimport FacebookConnection from \"../../dobyComponents/socialConnections/FacebookConnection\";\r\nimport StravaConnection from \"../../dobyComponents/socialConnections/StravaConnection\";\r\n\r\nimport _ from \"lodash\";\r\nimport config from \"../../../config\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getSharedStyles(theme),\r\n  profileImgHolder: {\r\n    width: \"120px\",\r\n    height: \"120px\",\r\n    minWidth: \"120px\",\r\n    overflow: \"hidden\",\r\n    position: \"relative\",\r\n  },\r\n  profileImg: {\r\n    // width: '120px',\r\n    borderRadius: \"100px\",\r\n    border: \"3px solid white\",\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    position: \"absolute\",\r\n    left: 0,\r\n    right: 0,\r\n    objectFit: \"cover\",\r\n  },\r\n  avatar: {},\r\n  socialConnectCard: {\r\n    background: \"white\",\r\n  },\r\n  socialIcon: {\r\n    width: \"30px\",\r\n    height: \"30px\",\r\n  },\r\n});\r\n\r\nconst INIT_STATE = {\r\n  password: {\r\n    value: \"\",\r\n    errorText: \"\",\r\n  },\r\n  repeatedPassword: {\r\n    value: \"\",\r\n    errorText: \"\",\r\n  },\r\n  email: {\r\n    value: \"\",\r\n    isLoading: false,\r\n    errorText: \"\",\r\n  },\r\n  name: \"\",\r\n  username: {\r\n    value: \"\",\r\n    isLoading: false,\r\n    errorText: \"\",\r\n  },\r\n  tel: {\r\n    value: \"\",\r\n    errorText: \"\",\r\n  },\r\n  address: \"\",\r\n  city: \"\",\r\n  postCode: \"\",\r\n  country: \"\",\r\n  otp: false,\r\n  avatar: null,\r\n  notifications: true,\r\n  notifyAboutMe: false,\r\n  notifyAboutFollowers: false,\r\n  notifyNews: false,\r\n  telPreffix: null,\r\n};\r\n\r\nconst preffixData = [\r\n  { preffix: \"+421\", _id: 1 },\r\n  { preffix: \"+43\", _id: 2 },\r\n];\r\n\r\nconst handleInputTelNumber = (tel) => {\r\n  if (tel === undefined || tel === \"\") return { value: \"\", preffix: null };\r\n\r\n  const preffix = tel.substring(0, 4);\r\n  switch (preffix) {\r\n    case \"+421\":\r\n    case \"+420\":\r\n      return {\r\n        value: tel.substring(4),\r\n        preffix: preffixData.find((p) => p.preffix === preffix)._id,\r\n      };\r\n    default:\r\n      return {\r\n        value: tel.substring(3),\r\n        preffix: preffixData.find((p) => p.preffix === tel.substring(0, 3))._id,\r\n      };\r\n  }\r\n};\r\n\r\nconst buildState = (user) => {\r\n  const { value, preffix } = handleInputTelNumber(user.tel);\r\n\r\n  return {\r\n    ...INIT_STATE,\r\n    ...user,\r\n    email: { ...INIT_STATE.email, value: user.email },\r\n    username: { ...INIT_STATE.username, value: user.username },\r\n    tel: { ...INIT_STATE.tel, value },\r\n    telPreffix: preffix,\r\n    isOpenSecretDialog: false,\r\n    avatarChanged: false,\r\n  };\r\n};\r\n\r\nclass ProfileSettings extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = buildState(this.props.user.user);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchData();\r\n  }\r\n\r\n  fetchData = async () => {\r\n    const { getEnums } = this.props.store;\r\n    const filter = [\r\n      { field: \"enumTypeId\", value: 5 },\r\n      { field: \"disabled\", value: false },\r\n    ];\r\n    await getEnums(filter);\r\n  };\r\n\r\n  handleChange = (name, value) => {\r\n    this.setState((state) => _.set(state, name, value));\r\n  };\r\n\r\n  handleChangeCheckBox = (event) => {\r\n    const { name, checked } = event.target;\r\n    this.setState((state) => _.set(state, name, checked));\r\n  };\r\n\r\n  handleChangeAvatar = (event) => {\r\n    event.preventDefault();\r\n    const reader = new FileReader();\r\n    reader.onloadend = async () => {\r\n      let data = await this.props.utils.resize(reader.result, 320);\r\n      data = data.split(\",\").pop();\r\n      this.setState({ avatar: data, avatarChanged: true });\r\n    };\r\n    reader.readAsDataURL(event.target.files[0]);\r\n\r\n    // zabezpecuje volanie onChange aj pri uploadovani rovnakeho suboru\r\n    // -> po ulozeni formularu nezavolalo onChange opat, v pripade nahrania\r\n    // -> rovnakeho suboru ako predtym\r\n    event.target.value = \"\";\r\n  };\r\n\r\n  handleChangePreffix = (name, value) => {\r\n    if (value === \"\") this.handleChange(\"tel.value\", \"\");\r\n    this.handleChange(name, value);\r\n  };\r\n\r\n  handleRemoveAvatar = () => {\r\n    this.setState({ avatar: null, avatarChanged: true });\r\n  };\r\n\r\n  validTelephone = () => {\r\n    const { translate } = this.props;\r\n    const { tel } = this.state;\r\n\r\n    const telSuffix = tel.value.replace(/\\s/g, \"\");\r\n    const regex = new RegExp(\"^[0-9]{9}$\");\r\n    const isValid = telSuffix === \"\" || regex.test(telSuffix);\r\n\r\n    const errorText = isValid ? \"\" : translate(\"field.telNotValid\");\r\n\r\n    this.setState((state) => ({\r\n      tel: { ...state.tel, errorText },\r\n    }));\r\n\r\n    return isValid;\r\n  };\r\n\r\n  validPasswords = () => {\r\n    const { password, repeatedPassword } = this.state;\r\n    const { translate } = this.props;\r\n\r\n    const regex = new RegExp(config.passwordPattern);\r\n    const isValidPassword = !password.value || regex.test(password.value);\r\n    const errorTextPassword = isValidPassword\r\n      ? \"\"\r\n      : translate(\"field.passwordWeak\");\r\n\r\n    const isValidRepeatedPassword = password.value === repeatedPassword.value;\r\n    const errorTextRepeatedPassword = isValidRepeatedPassword\r\n      ? \"\"\r\n      : translate(\"field.passwordNoMatch\");\r\n\r\n    this.setState((state) => ({\r\n      password: { ...state.password, errorText: errorTextPassword },\r\n      repeatedPassword: {\r\n        ...this.state.repeatedPassword,\r\n        errorText: errorTextRepeatedPassword,\r\n      },\r\n    }));\r\n\r\n    return isValidPassword && isValidRepeatedPassword;\r\n  };\r\n\r\n  validEmail = async () => {\r\n    const { translate } = this.props;\r\n    const { email } = this.state;\r\n\r\n    this.setState((state) => ({\r\n      email: {\r\n        ...state.email,\r\n        isLoading: true,\r\n      },\r\n    }));\r\n\r\n    const isValid = !email.value || (await this.isValid(email.value));\r\n    const errorText = isValid ? \"\" : translate(\"field.emailInUse\");\r\n\r\n    this.setState((state) => ({\r\n      email: { ...state.email, errorText, isLoading: false },\r\n    }));\r\n\r\n    return isValid;\r\n  };\r\n\r\n  isValid = async (username) => {\r\n    const { user } = this.props;\r\n\r\n    const ids = await this.props.user.checkUser(username);\r\n    return (\r\n      ids.length === 0 || (ids.length === 1 && ids[0]._id === user.user._id)\r\n    );\r\n  };\r\n\r\n  validUsername = async () => {\r\n    const { translate } = this.props;\r\n    const { username } = this.state;\r\n\r\n    this.setState((state) => ({\r\n      username: {\r\n        ...state.username,\r\n        isLoading: true,\r\n      },\r\n    }));\r\n\r\n    const isValid = !username.value || (await this.isValid(username.value));\r\n    const errorText = isValid ? \"\" : translate(\"field.usernameInUse\");\r\n\r\n    this.setState((state) => ({\r\n      username: { ...state.username, errorText, isLoading: false },\r\n    }));\r\n\r\n    return isValid;\r\n  };\r\n\r\n  handleSubmit = async () => {\r\n    const {\r\n      password,\r\n      name,\r\n      username,\r\n      email,\r\n      tel,\r\n      address,\r\n      city,\r\n      postCode,\r\n      country,\r\n      otp,\r\n      avatar,\r\n      avatarChanged,\r\n      telPreffix,\r\n    } = this.state;\r\n\r\n    const isValid =\r\n      this.validTelephone() &&\r\n      this.validPasswords() &&\r\n      (await this.validEmail()) &&\r\n      (await this.validUsername());\r\n    if (!isValid) {\r\n      return;\r\n    }\r\n\r\n    const preffix = telPreffix\r\n      ? preffixData.find((p) => p._id === telPreffix).preffix\r\n      : \"\";\r\n    try {\r\n      await this.props.user.updateUser(this.state._id, {\r\n        email: email.value,\r\n        password: password.value,\r\n        name,\r\n        username: username.value,\r\n        tel: preffix + tel.value.replace(/\\s/g, \"\"),\r\n        address,\r\n        city,\r\n        postCode,\r\n        country,\r\n        otp,\r\n        avatar: avatarChanged ? avatar : null,\r\n      });\r\n      this.setState(buildState(this.props.user.user));\r\n      this.props.user.showMsg(\"Ok.\");\r\n    } catch (error) {\r\n      this.props.user.showError(error);\r\n    }\r\n  };\r\n\r\n  goToProfile = () => this.props.history.push(`/profile`);\r\n\r\n  render() {\r\n    const { classes, translate, locale, disabled } = this.props;\r\n    const { user } = this.props.user;\r\n    const connectTitle = translate(\"connect\");\r\n    const { enums } = this.props.store;\r\n    const {\r\n      email,\r\n      tel,\r\n      otp,\r\n      address,\r\n      city,\r\n      postCode,\r\n      country,\r\n      avatar,\r\n      name,\r\n      bio,\r\n      notifications,\r\n      notifyAboutMe,\r\n      notifyAboutFollowers,\r\n      notifyNews,\r\n      telPreffix,\r\n    } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <div>\r\n          <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\">\r\n            <Grid item xs={12} className={classNames(classes.mt5)}>\r\n              <div className={classNames(classes.container)}>\r\n                <div\r\n                  className={classNames(classes.textXs)}\r\n                  onClick={this.goToProfile}\r\n                >\r\n                  {translate(\"back\")}\r\n                </div>\r\n              </div>\r\n            </Grid>\r\n\r\n            <Grid item xs={12}>\r\n              <div className={classNames(classes.container, classes.mt2)}>\r\n                <div\r\n                  className={classNames(classes.fontBold, classes.textMonoH4)}\r\n                >\r\n                  {translate(\"settings\")}\r\n                </div>\r\n                <div\r\n                  className={classNames(\r\n                    classes.dFlex,\r\n                    classes.alignItemsCenter,\r\n                    classes.w100,\r\n                    classes.mt3\r\n                  )}\r\n                >\r\n                  {/* <img src=\"./img/user-img.jpg\" className={classNames(classes.profileImg)} /> */}\r\n                  <div className={classNames(classes.profileImgHolder)}>\r\n                    <img\r\n                      alt=\"avatarImg\"\r\n                      src={\r\n                        avatar\r\n                          ? \"data:image/jpeg;base64,\" + avatar\r\n                          : \"./img/user-img.jpg\"\r\n                      }\r\n                      className={classNames(classes.profileImg)}\r\n                    />\r\n                  </div>\r\n\r\n                  <div\r\n                    className={classNames(\r\n                      classes.flexCol,\r\n                      classes.flexGrow,\r\n                      classes.ml5\r\n                    )}\r\n                  >\r\n                    <div className={classNames(classes.textXs2)}>\r\n                      {translate(\"descSettingsProfilePhoto\")}\r\n                    </div>\r\n                    <div className={classNames(classes.mt3, classes.w100)}>\r\n                      <Button onClick={() => {}} fullwidth>\r\n                        <label for=\"avatar-upload\">\r\n                          {translate(\"changePhoto\")}\r\n                        </label>\r\n                        <input\r\n                          hidden\r\n                          type=\"file\"\r\n                          accept=\"image/jpeg\"\r\n                          onChange={this.handleChangeAvatar}\r\n                          id=\"avatar-upload\"\r\n                        />\r\n                      </Button>\r\n                    </div>\r\n                    <div className={classNames(classes.mt3, classes.w100)}>\r\n                      <Button\r\n                        fullwidth\r\n                        outline\r\n                        onClick={this.handleRemoveAvatar}\r\n                      >\r\n                        {translate(\"removePhoto\")}\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </Grid>\r\n\r\n            <Grid item xs={12} className={classNames(classes.mt6)}>\r\n              <div className={classNames(classes.container)}>\r\n                <FacebookConnection config={config.fb} />\r\n                <StravaConnection\r\n                  config={config.strava}\r\n                  className={classNames(classes.mt3)}\r\n                />\r\n              </div>\r\n            </Grid>\r\n\r\n            <Grid item xs={12} className={classNames(classes.mt6)}>\r\n              <div className={classNames(classes.container)}>\r\n                <div\r\n                  className={classNames(classes.fontBold, classes.textMonoH4)}\r\n                >\r\n                  {translate(\"personData\")}\r\n                </div>\r\n\r\n                <Grid\r\n                  container\r\n                  direction=\"row\"\r\n                  justify=\"center\"\r\n                  alignItems=\"center\"\r\n                >\r\n                  <Grid\r\n                    item\r\n                    xs={12}\r\n                    className={classNames(classes.mt4, classes.pr1)}\r\n                  >\r\n                    <TextField\r\n                      onChange={this.handleChange}\r\n                      fullWidth\r\n                      required\r\n                      value={name}\r\n                      field=\"name\"\r\n                      disabled={disabled}\r\n                    />\r\n                  </Grid>\r\n                  {/* <Grid item xs={6} className={classNames(classes.mt4, classes.pl1)}>\r\n                                        <TextField\r\n                                            onChange={this.handleChange}\r\n                                            fullWidth\r\n                                            required\r\n                                            value={this.state.surname}\r\n                                            field=\"surname\"\r\n                                        />\r\n                                    </Grid> */}\r\n                  <Grid item xs={12} className={classNames(classes.mt4)}>\r\n                    <TextField\r\n                      onChange={this.handleChange}\r\n                      fullWidth\r\n                      required\r\n                      value={bio}\r\n                      field=\"bio\"\r\n                      rows={3}\r\n                      multiline\r\n                      disabled={disabled}\r\n                    />\r\n                  </Grid>\r\n                </Grid>\r\n\r\n                <div\r\n                  className={classNames(\r\n                    classes.fontBold,\r\n                    classes.textMonoH4,\r\n                    classes.mt6\r\n                  )}\r\n                >\r\n                  {translate(\"delivery_details\")}\r\n                </div>\r\n\r\n                <Grid\r\n                  container\r\n                  direction=\"row\"\r\n                  justify=\"center\"\r\n                  alignItems=\"center\"\r\n                >\r\n                  <Grid item xs={12} className={classNames(classes.mt4)}>\r\n                    <TextField\r\n                      onChange={this.handleChange}\r\n                      fullWidth\r\n                      required\r\n                      value={email.value}\r\n                      field=\"email.value\"\r\n                      type=\"email\"\r\n                      disabled={disabled || email.isLoading}\r\n                      onBlur={this.validEmail}\r\n                      errorText={email.errorText}\r\n                    />\r\n                  </Grid>\r\n                  {/* <Grid item xs={12} className={classNames(classes.mt4)}>\r\n                                        <TextField\r\n                                            fullWidth\r\n                                            value={tel.value}\r\n                                            field=\"tel.value\"\r\n                                            onChange={this.handleChange}\r\n                                            onBlur={this.validTelephone}\r\n                                            disabled={disabled}\r\n                                            errorText={tel.errorText}\r\n                                        />\r\n                                    </Grid> */}\r\n\r\n                  <Grid item xs={4} className={classNames(classes.mt2)}>\r\n                    <SelectField\r\n                      onChange={this.handleChangePreffix}\r\n                      fullWidth\r\n                      data={preffixData}\r\n                      value={telPreffix}\r\n                      field=\"telPreffix\"\r\n                      textField=\"preffix\"\r\n                      disabled={false}\r\n                    />\r\n                  </Grid>\r\n\r\n                  <Grid item xs={8} className={classNames(classes.mt2)}>\r\n                    <TelField\r\n                      value={tel.value}\r\n                      fullWidth\r\n                      field=\"tel.value\"\r\n                      onChange={this.handleChange}\r\n                      onBlur={this.validTelephone}\r\n                      errorText={tel.errorText}\r\n                      disabled={disabled}\r\n                    />\r\n                  </Grid>\r\n\r\n                  <Grid item xs={12} className={classNames(classes.mt4)}>\r\n                    <SelectField\r\n                      onChange={this.handleChange}\r\n                      fullWidth\r\n                      data={enums.data}\r\n                      value={country}\r\n                      field=\"country\"\r\n                      textField=\"name\"\r\n                      disabled={disabled}\r\n                    />\r\n                  </Grid>\r\n                  <Grid\r\n                    item\r\n                    xs={8}\r\n                    className={classNames(classes.mt4, classes.pr2)}\r\n                  >\r\n                    <TextField\r\n                      fullWidth\r\n                      value={city}\r\n                      field=\"city\"\r\n                      type=\"city\"\r\n                      onChange={this.handleChange}\r\n                      disabled={disabled}\r\n                    />\r\n                  </Grid>\r\n                  <Grid item xs={4} className={classNames(classes.mt4)}>\r\n                    <TextField\r\n                      fullWidth\r\n                      value={postCode}\r\n                      field=\"postCode\"\r\n                      type=\"postCode\"\r\n                      onChange={this.handleChange}\r\n                      disabled={disabled}\r\n                    />\r\n                  </Grid>\r\n                  <Grid item xs={12} className={classNames(classes.mt4)}>\r\n                    <TextField\r\n                      fullWidth\r\n                      value={address}\r\n                      field=\"address\"\r\n                      type=\"address\"\r\n                      onChange={this.handleChange}\r\n                      disabled={disabled}\r\n                    />\r\n                  </Grid>\r\n                </Grid>\r\n              </div>\r\n            </Grid>\r\n\r\n            <Grid item xs={12} className={classNames(classes.mt6)}>\r\n              <div className={classNames(classes.container)}>\r\n                <div\r\n                  className={classNames(\r\n                    classes.dFlex,\r\n                    classes.w100,\r\n                    classes.alignItemsCenter,\r\n                    classes.justifyContentBetween\r\n                  )}\r\n                >\r\n                  <div className={classNames(classes.fontBold)}>\r\n                    {translate(\"notifications\")}\r\n                  </div>\r\n                  <div>\r\n                    <Switch\r\n                      value={notifications}\r\n                      field=\"notifications\"\r\n                      onChange={this.handleChange}\r\n                      //disabled={disabled}\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className={classNames(classes.dBlock)}>\r\n                  <Checkbox\r\n                    onChange={this.handleChange}\r\n                    fullWidth\r\n                    required\r\n                    value={notifyAboutMe}\r\n                    field=\"notifyAboutMe\"\r\n                    label={translate(\"notifyAboutMe\")}\r\n                    disabled={!notifications || disabled}\r\n                  />\r\n                </div>\r\n\r\n                <div className={classNames(classes.dBlock)}>\r\n                  <Checkbox\r\n                    onChange={this.handleChange}\r\n                    fullWidth\r\n                    required\r\n                    value={notifyAboutFollowers}\r\n                    field=\"notifyAboutFollowers\"\r\n                    label={translate(\"notifyAboutFollowers\")}\r\n                    disabled={!notifications || disabled}\r\n                  />\r\n                </div>\r\n\r\n                <div className={classNames(classes.dBlock)}>\r\n                  <Checkbox\r\n                    onChange={this.handleChange}\r\n                    fullWidth\r\n                    required\r\n                    value={notifyNews}\r\n                    field=\"notifyNews\"\r\n                    label={translate(\"notifyNews\")}\r\n                    disabled={!notifications || disabled}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </Grid>\r\n\r\n            <Grid item xs={12} className={classNames(classes.mt3, classes.mb5)}>\r\n              <div className={classNames(classes.container)}>\r\n                <Button fullwidth onClick={this.handleSubmit}>\r\n                  {translate(\"saveSettings\")}\r\n                </Button>\r\n              </div>\r\n            </Grid>\r\n          </Grid>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nProfileSettings.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withUser,\r\n  withLocalization,\r\n  withStore,\r\n  withUtils\r\n)(ProfileSettings);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { withLocalization } from '../shared/localization';\r\nimport getSharedStyles from '../../style';\r\nimport compose from '../../compose';\r\nimport classNames from 'classnames';\r\nimport Button from '../dobyComponents/form/Button';\r\nimport moment from \"moment\";\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n\r\n    card: {\r\n        width: '300px',       \r\n        position: 'relative',\r\n        overflow: 'hidden', \r\n        borderRadius: '30px'          \r\n    },   \r\n    challengeImgHolder: {\r\n        height: '270px',\r\n    },\r\n    challengeImg: {\r\n        position: 'center',\r\n        left: '0',\r\n        right: '0',\r\n        width: '100%',\r\n        height: '100%',\r\n        objectFit: 'cover', \r\n\r\n    },\r\n    cardContent: {\r\n        background: theme.palette.secondary.main\r\n    },\r\n    challengeLogoHolder: {\r\n        width: '100px'\r\n    },\r\n    challengeLogo: {\r\n        width: '100%'\r\n    },\r\n    difficultyDot: {\r\n        width: '7px',\r\n        height: '7px',\r\n        borderRadius: '10px',\r\n        border: '1px solid #A4B1C4',\r\n        marginRight: '4px'\r\n    },\r\n    dotFilled: {\r\n        background: 'white',\r\n        border: '1px solid white',\r\n    }\r\n    \r\n});\r\n\r\nfunction ChallengeCard(props) {\r\n    const { classes, customClasses, difficulty } = props;\r\n    const startDate = moment(props.start).format('DD.MM.YYYY')   \r\n\r\n    return (\r\n        <div className={classNames(classes.card, props.className)}>\r\n            <div className={classNames(classes.flexCol, classes.w100)}>\r\n                <div className={classNames(classes.challengeImgHolder)}>\r\n                    <img src={'./img/challenge-card.jpg'} className={classNames(classes.challengeImg)}/>\r\n                </div>\r\n                <div className={classNames(classes.cardContent, classes.flexCol, classes.w100, classes.p5)}>\r\n                    <div className={classNames(classes.w100, classes.dFlex, classes.alignItemsCenter, classes.justifyContentBetween)}>\r\n                        <div className={classNames(classes.flexCol)}>\r\n                            <div className={classNames(classes.flexCol)}>\r\n                                <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.mb1)}>\r\n                                    <div className={classNames(classes.difficultyDot, difficulty >= 1 && classes.dotFilled)}></div>\r\n                                    <div className={classNames(classes.difficultyDot, difficulty >= 2 && classes.dotFilled)}></div>\r\n                                    <div className={classNames(classes.difficultyDot, difficulty >= 3 && classes.dotFilled)}></div>\r\n                                    <div className={classNames(classes.difficultyDot, difficulty >= 4 && classes.dotFilled)}></div>\r\n                                    <div className={classNames(classes.difficultyDot, difficulty >= 5 && classes.dotFilled)}></div>\r\n                                </div>\r\n                                <div className={classNames(classes.textSecondaryLight, classes.textMono, classes.textM, classes.fontMedium)}>\r\n                                    Obtiaznost\r\n                                </div>\r\n                            </div>\r\n                            <div className={classNames(classes.flexCol, classes.mt4)}>\r\n                                <div className={classNames(classes.textWhite, classes.fontSemibold, classes.textM)}>\r\n                                    {startDate}\r\n                                </div>\r\n                                <div className={classNames(classes.textSecondaryLight, classes.textMono, classes.textM, classes.fontMedium)}>\r\n                                    Start\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className={classNames(classes.challengeLogoHolder)}>\r\n                            <img src={'./img/newLogo.png'} className={classNames(classes.challengeLogo)}/>\r\n                        </div>\r\n                    </div>\r\n                    <div className={classNames(classes.textSecondaryLight, classes.textM, classes.mt3)}>\r\n                        {props.description}\r\n                    </div>\r\n                    <Button className={classNames(classes.mt3)} fullwidth>\r\n                        Zobrazit vyzvu\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nChallengeCard.propTypes = {\r\n    className: PropTypes.string.isRequired,\r\n    onClick: PropTypes.func.isRequired,\r\n    title: PropTypes.string.isRequired,\r\n    description: PropTypes.string,\r\n    start: PropTypes.string, \r\n    difficulty: PropTypes.number,  \r\n};\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withLocalization\r\n)(ChallengeCard);","import React, { useState,useEffect  } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport getSharedStyles from '../../style';\r\nimport { getStyles } from '../shared/style';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    ...getStyles(theme),\r\n    partnerImg: {\r\n        width: '100%'\r\n    }\r\n});\r\n\r\nfunction PartnerCard(props) {\r\n    const { classes } = props;\r\n    const [img, setImg] = useState(null);\r\n\r\n    useEffect(() => {       \r\n        if (!img) {\r\n            getImg();\r\n        }\r\n      }, []);\r\n\r\n    const getImg = async () =>{\r\n        try {       \r\n            if(props.logoId) {\r\n                const data = await props.getFile(props.logoId);\r\n                var reader = new FileReader();\r\n                reader.onloadend = () => {\r\n                    setImg(reader.result);\r\n                }\r\n                reader.readAsDataURL(data);\r\n            }\r\n        } catch(e) {\r\n            console.error(e);\r\n        }\r\n    }  \r\n    return (\r\n        <div>           \r\n            <img src={img} className={classes.partnerImg} alt={props.name}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nPartnerCard.propTypes = {\r\n    name: PropTypes.string,\r\n    desc: PropTypes.string,\r\n    logoId: PropTypes.string.isRequired,\r\n    getFile: PropTypes.func.isRequired    \r\n};\r\n\r\nexport default withStyles(styles)(PartnerCard);","import React, { useState,useEffect  } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport getSharedStyles from '../../style';\r\nimport { getStyles } from '../shared/style';\r\nimport classNames from 'classnames';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    ...getStyles(theme),\r\n    postImgWrapper: {\r\n        width: '100%',\r\n        height: '180px',\r\n        background: 'rgba(0,0,0,0.1)',\r\n        overflow: 'hidden',\r\n        position: 'relative',\r\n    },\r\n    postImg: {\r\n        width: '100%',\r\n        height: '100%',\r\n        position: 'absolute',\r\n        left: 0,\r\n        right: 0,\r\n        objectFit: 'cover',\r\n    },\r\n    blogPostCard: {\r\n        width: 250,\r\n        height: 'auto'\r\n    }\r\n   \r\n});\r\n\r\nfunction BlogPost(props) {\r\n    const { classes} = props;\r\n    const [img, setImg] = useState(null);\r\n\r\n    useEffect(() => {       \r\n        if (!img) {\r\n            getImg();\r\n        }\r\n      }, []);\r\n\r\n    const getImg = async () =>{\r\n        try {       \r\n            if(props.thumbnailId) {\r\n                const data = await props.getFile(props.thumbnailId);\r\n                var reader = new FileReader();\r\n                reader.onloadend = () => {\r\n                    setImg(reader.result);\r\n                }\r\n                reader.readAsDataURL(data);\r\n            }\r\n        } catch(e) {\r\n            console.error(e);\r\n        }\r\n    }  \r\n\r\n    return (\r\n        <div className={classNames(classes.blogPostCard, classes.flexCol, classes.mr5)}>           \r\n            <div className={classNames(classes.postImgWrapper)}>\r\n                <img src={img} className={classes.postImg} alt={props.title}/>\r\n            </div>\r\n            <h5 className={classNames(classes.textBase, classes.fontBold, classes.mt2)}>{props.title}</h5> \r\n            <p className={classNames(classes.mt2, classes.textBase)}>\r\n                {props.content}\r\n            </p>\r\n\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nBlogPost.propTypes = {\r\n    title: PropTypes.string.isRequired,\r\n    content: PropTypes.string.isRequired,\r\n    created: PropTypes.string,    \r\n    thumbnailId: PropTypes.string.isRequired,\r\n    getFile: PropTypes.func.isRequired   \r\n};\r\n\r\nexport default withStyles(styles)(BlogPost);","import React from 'react';\r\nimport { withRouter } from 'react-router';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport getSharedStyles from '../../style';\r\nimport classNames from 'classnames';\r\nimport withDoby from '../../consumers/withDoby';\r\nimport withUser from '../../consumers/withUser';\r\nimport { withLocalization } from '../shared/localization'\r\nimport compose from '../../compose';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Flickity from \"react-flickity-component\";\r\nimport ChallengeCard from './ChallengeCard';\r\n\r\nimport ItemCard from '../eshop/ItemCard';\r\nimport config from '../../config';\r\nimport withStore from '../../consumers/withStore';\r\nimport PartnerCard from './PartnerCard';\r\nimport BlogPost from './BlogPost'\r\n\r\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\n\r\nimport Button from '../dobyComponents/form/Button';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    introImage: {\r\n        width: '100%',\r\n        // height: 'calc(100vh - 60px - 120px)',\r\n        height: 'calc(100vh + 60px)',\r\n        background: 'url(\"/img/intro-hill.png\")',\r\n        backgroundSize: 'cover',\r\n        backgroundPosition: 'center',\r\n        position: 'relative',\r\n        '&:after': {\r\n            content: \"''\",\r\n            display: 'block',\r\n            position: 'absolute',\r\n            bottom: '-1px',\r\n            left: 0,\r\n            width: '100%',\r\n            height: '100%',\r\n            background: 'linear-gradient(180deg, rgba(7, 10, 26, 0) 36.46%, rgba(7, 10, 26, 0.6) 64.06%, #070A1A 100%)'\r\n        }\r\n    },\r\n    introContent: {\r\n        zIndex: 10,\r\n        height: 'calc(100% - 150px)',\r\n        width: '100%', \r\n    },\r\n    introTitle: {\r\n        fontSize: '34px',\r\n    },    \r\n    introBtn: {\r\n        background: 'rgba(27, 32, 62, 0.5)',\r\n        backdropFilter: 'blur(5px)',\r\n        padding: '20px',        \r\n        borderRadius: '0px',        \r\n    },\r\n    dashedBtn: {\r\n        position: 'relative',\r\n        '&:after': {\r\n            content: \"''\",\r\n            display: 'block',\r\n            position: 'absolute',\r\n            bottom: 0,\r\n            left: 0,\r\n            width: '100%',\r\n            height: '100%',\r\n            background: 'linear-gradient(to right, white 50%, rgba(255, 255, 255, 0) 0%), linear-gradient(white 50%, rgba(255, 255, 255, 0) 0%), linear-gradient(to right, white 50%, rgba(255, 255, 255, 0) 0%), linear-gradient(white 50%, rgba(255, 255, 255, 0) 0%)',\r\n            backgroundPosition: 'top, right, bottom, left',\r\n            backgroundRepeat: 'repeat-x, repeat-y',\r\n            backgroundSize: '10px 1px, 1px 10px',\r\n            zIndex: 15,\r\n        }\r\n    },\r\n    howItWorks: {      \r\n        background: 'linear-gradient(180deg, #080A1A 0%, #1A1D33 100%), #080A1A'\r\n    },   \r\n    howItWorksRow: {\r\n        marginBottom: '130px',\r\n    },   \r\n    textCol: {\r\n        width: 'calc(100% - 100px)',\r\n        color: 'white'\r\n    },\r\n    howItWorksItemNumber: {\r\n        height: '70px',\r\n        width: '70px',\r\n        borderRadius: 50,\r\n        textAlign: 'center',\r\n        lineHeight: '70px',\r\n        background: 'rgba(10, 18, 49, 0.7)',\r\n        border: '1px solid #6D6E79',\r\n        color: 'white',     \r\n    },\r\n    challenges: {\r\n        background: 'url(\"/img/trees.jpg\")',\r\n        backgroundSize: 'cover',\r\n        backgroundPositionY: 'top',\r\n        position: 'relative',\r\n        '&:before': {\r\n            content: \"''\",\r\n            display: 'block',\r\n            width: '100%',\r\n            height: '100%',\r\n            position: 'absolute',\r\n            top: '0',\r\n            left: '0',\r\n            background: 'linear-gradient(180deg, #1A1D33 0%, rgba(26, 29, 51, 0.8) 56.31%, rgba(26, 29, 51, 0.8) 110.75%), url(.jpg)',\r\n            zIndex: '1',\r\n        },\r\n        '&:after': {\r\n            content: \"''\",\r\n            display: 'block',\r\n            width: '103%',\r\n            height: '100px',\r\n            background: 'url(\"img/triangle.svg\")',\r\n            backgroundSize: 'contain',\r\n            backgroundPositionY: 'bottom',\r\n            backgroundRepeat: 'no-repeat',\r\n            bottom: '-2px',\r\n            position: 'relative',\r\n            zIndex: '20',\r\n        }\r\n    },\r\n    challengesContent: {\r\n        position: 'relative',\r\n        zIndex: 3,\r\n    },\r\n    challengeCarousel: {\r\n        '& .flickity-viewport': {\r\n            //padding: '7px'\r\n        },\r\n        '& .carousel-cell:first-child': {\r\n            paddingLeft: '1.25rem'\r\n        },\r\n        '& .carousel-cell:last-child': {\r\n            paddingRight: '0.5rem',\r\n        }\r\n    },\r\n    whyGetInvolvedImg: {\r\n        maxWidth: '100%'\r\n    },\r\n\r\n\r\n    blog: {\r\n        background: '#ffffff'\r\n    },\r\n    smallImg: {\r\n        width: '47%',\r\n    }\r\n    // triangleSeparator: {\r\n    //     width: '100%',        \r\n    // }\r\n});\r\n\r\nconst flickityOptions = {\r\n    cellAlign: 'left',\r\n    contain: true,\r\n    prevNextButtons: false,\r\n    pageDots: false\r\n}\r\n\r\nclass Landing extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            partners: [],\r\n            generalPartners: [],\r\n            mainPartners: [],\r\n            expandedFaq: 'panel1'\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchData();\r\n    }\r\n\r\n    fetchData = async () => {\r\n        await this.props.doby.getChallenges();\r\n        await this.props.doby.getProducts();\r\n        await this.props.doby.getPartners();\r\n        await this.props.doby.getPosts();\r\n\r\n        const { partners } = this.props.doby;\r\n\r\n        this.setState({\r\n            partners: partners.data.filter(item => item.type.key === 30),\r\n            generalPartners: partners.data.filter(item => item.type.key === 10),\r\n            mainPartners: partners.data.filter(item => item.type.key === 20),\r\n        })\r\n\r\n    }\r\n\r\n    renderChallenges = () => {\r\n        const { challenges } = this.props.doby;\r\n        const { classes } = this.props;        \r\n        return challenges.data.map(challenge => {\r\n            return (\r\n                <div className={\"carousel-cell\"}>\r\n                    <ChallengeCard\r\n                        key={challenge._id}\r\n                        title={challenge.name}\r\n                        start={challenge.start}\r\n                        end={challenge.end}\r\n                        sumitsCount={challenge.summitsRef.length}                        \r\n                        onClick={() => this.joinChallenge(challenge)}\r\n                        customClasses={classNames(classes.mt2, classes.mb2, classes.mr3)}\r\n                    />\r\n                </div>\r\n            );\r\n        })\r\n    }\r\n\r\n    renderProducts = () => {\r\n        const { products } = this.props.doby;\r\n        let retVal = [];\r\n        for (let i = 0; i < 2; i++) {\r\n            let product = products.data[i];\r\n            product && retVal.push(\r\n                <Grid item xs={6} sm={3} lg={2}>\r\n                    <ItemCard\r\n                        key={product._id}\r\n                        onClick={() => this.showProductDetail(product)}\r\n                        name={product.name}\r\n                        price={product.price_with_tax}\r\n                        curr={config.currency}\r\n                        Id={product.thumbnailId}\r\n                        onViz={this.props.store.getFile}\r\n                        source={product.count > 0 ? this.props.translate('in_stock') : this.props.translate('out_stock')}\r\n                    //membersOnly\r\n                    />\r\n                </Grid>\r\n            )\r\n        }\r\n        return retVal;\r\n    }\r\n\r\n    renderPartners = () => {\r\n        console.log(this.state.partners)\r\n        return this.state.partners.map(item => {\r\n            return (\r\n                <Grid item xs={2} sm={3} lg={2}>\r\n                    <PartnerCard\r\n                        key={item._id}\r\n                        name={item.name}\r\n                        desc={item.description}\r\n                        logoId={item.logoId}\r\n                        getFile={this.props.store.getFile}\r\n                    >\r\n                    </PartnerCard>\r\n                </Grid>\r\n            )\r\n        })\r\n    }\r\n    renderGeneralPartners = () => {\r\n        return this.state.generalPartners.map(item => {\r\n            return (\r\n                <Grid item xs={2} sm={3} lg={2}>\r\n                    <PartnerCard\r\n                        key={item._id}\r\n                        name={item.name}\r\n                        desc={item.description}\r\n                        logoId={item.logoId}\r\n                        getFile={this.props.store.getFile}\r\n                    >\r\n                    </PartnerCard>\r\n                </Grid>\r\n            )\r\n        })\r\n    }\r\n    renderMainPartners = () => {\r\n        return this.state.mainPartners.map(item => {\r\n            return (\r\n                <Grid item xs={2} sm={3} lg={2}>\r\n                    <PartnerCard\r\n                        key={item._id}\r\n                        name={item.name}\r\n                        desc={item.description}\r\n                        logoId={item.logoId}\r\n                        getFile={this.props.store.getFile}\r\n                    >\r\n                    </PartnerCard>\r\n                </Grid>\r\n            )\r\n        })\r\n    }\r\n    renderBlogPosts = () => {\r\n        return this.props.doby.posts.data.map(post => {\r\n            return (\r\n                <div className={\"carousel-cell\"}>\r\n                    <BlogPost\r\n                        key={post._id}\r\n                        title={post.title}\r\n                        content={post.content}\r\n                        created={post.created}\r\n                        thumbnailId={post.thumbnailId}\r\n                        getFile={this.props.store.getFile}\r\n                    />\r\n                </div>\r\n            );\r\n        })\r\n    }\r\n\r\n    handleExpandFaq = panel => (event, expanded) => {\r\n        this.setState({\r\n          expandedFaq: expanded ? panel : false,\r\n        });\r\n      };\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        const { expandedFaq } = this.state;\r\n        return (\r\n            <>\r\n                <div className={classNames(classes.introImage,classes.flexCol)}>\r\n                    <div className={classNames(classes.flex, classes.flexCol, classes.textCenter, classes.pl7, classes.pr7, classes.pb7, classes.introContent, classes.justifyContentEnd)}>\r\n                        <div className={classNames(classes.textWhite, classes.fontBold, classes.introTitle)}>\r\n                            {this.props.translate('intro_title')}\r\n                        </div>\r\n                        <div className={classNames(classes.textWhite, classes.mt3)}>\r\n                            {this.props.translate('intro_subtitle')}\r\n                        </div>\r\n                        <Button fullwidth className={classNames(classes.introBtn, classes.mt4, classes.dashedBtn, classes.mb7)}>Ako to funguje?</Button>\r\n                    </div>\r\n                </div>\r\n                <div className={classNames(classes.howItWorks, classes.flexCol)}>\r\n                    \r\n                    <div className={classNames(classes.container)}>\r\n                        <div className={classNames(classes.howItWorksRow, classes.dFlex, classes.w100, classes.justifyContentBetween)}>\r\n                            <div className={classNames(classes.howItWorksItemNumber, classes.textMonoH3)}>\r\n                                1\r\n                            </div>\r\n                            <div className={classNames(classes.textCol)}>\r\n                                <div className={classNames(classes.flexCol)}>\r\n                                    <h3 className={classNames(classes.textMonoH4, classes.fontBold)}>{this.props.translate('register')}</h3>\r\n                                    <div className={classNames(classes.mt3, classes.textXs)}>\r\n                                        Prejdi 4 jednoduché kroky. Trvá to v priemere len 1:20 min.\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className={classNames(classes.howItWorksRow, classes.dFlex, classes.w100, classes.justifyContentBetween)}>\r\n                            <div className={classNames(classes.textCol)}>\r\n                                <div className={classNames(classes.flexCol)}>\r\n                                    <h3 className={classNames(classes.textMonoH4, classes.fontBold)}>{this.props.translate('we_plant_tree')}</h3>\r\n                                    <div className={classNames(classes.mt3, classes.textXs)}>\r\n                                        Vysadili sme spolu už 14 500 stromov. Naviac z každého nákupu prispievame 5% zo sumy na ochranu kamzíkov.\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className={classNames(classes.howItWorksItemNumber, classes.textMonoH3)}>\r\n                                2\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className={classNames(classes.howItWorksRow, classes.dFlex, classes.w100, classes.justifyContentBetween)}>\r\n                            <div className={classNames(classes.howItWorksItemNumber, classes.textMonoH3)}>\r\n                                3\r\n                            </div>\r\n                            <div className={classNames(classes.textCol)}>\r\n                                <div className={classNames(classes.flexCol)}>\r\n                                    <h3 className={classNames(classes.textMonoH4, classes.fontBold)}>{this.props.translate('conquer_summits')}</h3>\r\n                                    <div className={classNames(classes.mt3, classes.textXs)}>\r\n                                        Na každom vrchole ideálne s merchom Doby Hory, nie je to ale podmienka.\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className={classNames(classes.howItWorksRow, classes.dFlex, classes.w100, classes.justifyContentBetween)}>\r\n                            <div className={classNames(classes.textCol)}>\r\n                                <div className={classNames(classes.flexCol)}>\r\n                                    <h3 className={classNames(classes.textMonoH4, classes.fontBold)}>{this.props.translate('take_picture')}</h3>\r\n                                    <div className={classNames(classes.mt3, classes.textXs)}>\r\n                                        Na každom vrchole ideálne s merchom Doby Hory, nie je to však podmienka.\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className={classNames(classes.howItWorksItemNumber, classes.textMonoH3)}>\r\n                                4\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className={classNames(classes.howItWorksRow, classes.dFlex, classes.w100, classes.justifyContentBetween)}>\r\n                            <div className={classNames(classes.howItWorksItemNumber, classes.textMonoH3)}>\r\n                                5\r\n                            </div>\r\n                            <div className={classNames(classes.textCol)}>\r\n                                <div className={classNames(classes.flexCol)}>\r\n                                    <h3 className={classNames(classes.textMonoH4, classes.fontBold)}>{this.props.translate('get_medal')}</h3>\r\n                                    <div className={classNames(classes.mt3, classes.textXs)}>\r\n                                        Doručíme ti ju po schválení všetkých fotiek, aby si mohol na toto navždy spomínať.\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n                <div className={classNames(classes.challenges, classes.pt6)}>\r\n                    <Grid\r\n                        container\r\n                        direction=\"row\"\r\n                        justify=\"center\"\r\n                        alignItems=\"center\"\r\n                    >\r\n\r\n                        <Grid item xs={12} className={classNames(classes.challengesContent)}>\r\n                            <div className={classNames(classes.textWhite, classes.textCenter, classes.fontBold)}>\r\n                                <div>{this.props.translate('intro_challenges_title_1')}</div>\r\n                                <div>{this.props.translate('intro_challenges_title_2')}</div>\r\n                            </div>\r\n\r\n                            <div className={classNames(classes.mt7)}>\r\n                                <Flickity\r\n                                    className={classNames(classes.mt4, classes.challengeCarousel)}\r\n                                    options={flickityOptions}\r\n                                    reloadOnUpdate={true}\r\n                                >\r\n                                    {this.renderChallenges()}\r\n                                </Flickity>\r\n                            </div>\r\n                        </Grid>\r\n                    </Grid>\r\n                </div>\r\n\r\n                <div className={classNames(classes.container, classes.pb8, classes.bgWhite)}>\r\n                    <Grid\r\n                        container\r\n                        direction=\"row\"\r\n                        justify=\"center\"\r\n                        alignItems=\"center\"\r\n                    >                        \r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt9)}>\r\n                            <div className={classNames(classes.fontBold, classes.textCenter)}>\r\n                                {this.props.translate('why_get_involved')}\r\n                            </div>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames()}>\r\n                            <img src={'./img/winOverYourself.png'} className={classNames(classes.whyGetInvolvedImg)}/>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt2)}>\r\n                            <div className={classNames(classes.w100, classes.flexCol)}>\r\n                                <div className={classNames(classes.textMonoH4, classes.fontBold)}>\r\n                                    {this.props.translate('win_over_yourself')}\r\n                                </div>\r\n                                <div className={classNames(classes.mt3, classes.textXs)}>\r\n                                    Nepredbiehame sa a nevyhrávame jeden nad druhým. Cieľom je zažiť tie najkrajšie zážitky a spomínať na ne do konca života. Vystúp z komfortu a zaži to, o čom si doteraz len sníval.\r\n                                </div>\r\n                            </div>\r\n                        </Grid>\r\n\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt9)}>\r\n                            <img src={'./img/helpNature.png'} className={classNames(classes.whyGetInvolvedImg)}/>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt2)}>\r\n                            <div className={classNames(classes.w100, classes.flexCol)}>\r\n                                <div className={classNames(classes.textMonoH4, classes.fontBold)}>\r\n                                    {this.props.translate('help_nature')}\r\n                                </div>\r\n                                <div className={classNames(classes.mt3, classes.textXs)}>\r\n                                    Príroda ti dá veľa, vráť jej to. Pomôž nám ju v rámci výzvy očistiť a udržať jej čistotou za čo dostaneš špeciálny odznak na tvoj profil.\r\n                                </div>\r\n                            </div>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt9)}>\r\n                            <img src={'./img/localShops.png'} className={classNames(classes.whyGetInvolvedImg)}/>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt2)}>\r\n                            <div className={classNames(classes.w100, classes.flexCol)}>\r\n                                <div className={classNames(classes.textMonoH4, classes.fontBold)}>\r\n                                    {this.props.translate('support_local_shops')}\r\n                                </div>\r\n                                <div className={classNames(classes.mt3, classes.textXs)}>\r\n                                    Udržateľnosť a kvalita je pre nás na prvom mieste, preto každý produkt v našom eshope pochádza od lokálnych výrobcov. Pri produkcii a výbere materiálov kladieme maximálny dôraz na udržateľnosť a ekológiu.\r\n                                </div>\r\n                            </div>\r\n                        </Grid>\r\n\r\n\r\n\r\n\r\n\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt9)}>\r\n                            <div className={classNames(classes.w100, classes.flexCol)}>\r\n                                <div className={classNames(classes.fontBold, classes.textCenter)}>\r\n                                    {this.props.translate('help_nature')}\r\n                                </div>\r\n                                <div className={classNames(classes.mt3, classes.textBase, classes.textCenter)}>\r\n                                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco\r\n                                </div>\r\n                            </div>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt9)}>\r\n                            <div className={classNames(classes.w100, classes.flexCol)}>\r\n                                <div className={classNames(classes.fontBold, classes.textCenter)}>\r\n                                    {this.props.translate('be_part_of_community')}\r\n                                </div>\r\n                                <div className={classNames(classes.mt3, classes.textBase, classes.textCenter)}>\r\n                                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco\r\n                                </div>\r\n                                <div className={classNames(classes.dFlex, classes.justifyContentBetween, classes.w100, classes.mt5)}>\r\n                                    <img src=\"/img/community1.jpg\" className={classNames(classes.smallImg)} />\r\n                                    <img src=\"/img/community2.jpg\" className={classNames(classes.smallImg)} />\r\n                                </div>\r\n                            </div>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt9)}>\r\n                            <div className={classNames(classes.w100, classes.flexCol)}>\r\n                                <div className={classNames(classes.fontBold, classes.textCenter)}>\r\n                                    {this.props.translate('share_experiences')}\r\n                                </div>\r\n                                <div className={classNames(classes.mt3, classes.textBase, classes.textCenter)}>\r\n                                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco\r\n                                </div>\r\n                                <div className={classNames(classes.dFlex, classes.justifyContentBetween, classes.w100, classes.mt5)}>\r\n                                    <img src=\"/img/experience1.jpg\" className={classNames(classes.smallImg)} />\r\n                                    <img src=\"/img/experience2.jpg\" className={classNames(classes.smallImg)} />\r\n                                </div>\r\n                            </div>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt9)}>\r\n                            <div className={classNames(classes.w100, classes.flexCol)}>\r\n                                <div className={classNames(classes.fontBold, classes.textCenter)}>\r\n                                    {this.props.translate('eshop')}\r\n                                </div>\r\n                                <Grid container spacing={24} className={classes.mt3}>\r\n                                    {this.renderProducts()}\r\n                                </Grid>\r\n                            </div>\r\n                        </Grid>\r\n                        \r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt9)}>\r\n                            <div className={classNames(classes.w100, classes.flexCol)}>\r\n                                <div className={classNames(classes.fontBold, classes.textCenter)}>\r\n                                    FAQ\r\n                                </div>\r\n                                <div className={classes.mt5}>\r\n                                <ExpansionPanel\r\n                                        square\r\n                                        expanded={expandedFaq === 'panel1'}\r\n                                        onChange={this.handleExpandFaq('panel1')}\r\n                                    >\r\n                                        <ExpansionPanelSummary>\r\n                                            Otazka 1\r\n                                        </ExpansionPanelSummary>\r\n                                        <ExpansionPanelDetails>\r\n                                           Odpoved 1\r\n                                        </ExpansionPanelDetails>\r\n                                    </ExpansionPanel>\r\n                                    <ExpansionPanel\r\n                                        square\r\n                                        expanded={expandedFaq === 'panel2'}\r\n                                        onChange={this.handleExpandFaq('panel2')}\r\n                                    >\r\n                                        <ExpansionPanelSummary>\r\n                                            Otazka 2\r\n                                        </ExpansionPanelSummary>\r\n                                        <ExpansionPanelDetails>\r\n                                            Odpoved 2\r\n                                        </ExpansionPanelDetails>\r\n                                    </ExpansionPanel>\r\n                                    <ExpansionPanel\r\n                                        square\r\n                                        expanded={expandedFaq === 'panel3'}\r\n                                        onChange={this.handleExpandFaq('panel3')}\r\n                                    >\r\n                                        <ExpansionPanelSummary>\r\n                                            Otazka 3\r\n                                        </ExpansionPanelSummary>\r\n                                        <ExpansionPanelDetails>\r\n                                            Odpoved 3\r\n                                        </ExpansionPanelDetails>\r\n                                    </ExpansionPanel>\r\n                                </div>\r\n                            </div>\r\n                        </Grid>\r\n                    </Grid>\r\n                </div>\r\n\r\n\r\n                <div className={classNames(classes.blog, classes.pt6)}>\r\n                    <Grid\r\n                        container\r\n                        direction=\"row\"\r\n                        justify=\"center\"\r\n                        alignItems=\"center\"\r\n                    >\r\n                        <Grid item xs={12}>\r\n                            <div className={classNames(classes.fontBold, classes.textCenter)}>\r\n                                {this.props.translate('blog')}\r\n                            </div>\r\n\r\n                            <div className={classNames(classes.mt2)}>\r\n                                <Flickity\r\n                                    className={classNames(classes.mt4, classes.challengeCarousel)}\r\n                                    options={flickityOptions}\r\n                                    reloadOnUpdate={true}\r\n                                >\r\n                                    {this.renderBlogPosts()}\r\n                                </Flickity>\r\n                            </div>\r\n                        </Grid>\r\n                    </Grid>\r\n                </div>           \r\n\r\n                <div className={classNames(classes.container, classes.howItWorks, classes.pb8)}>\r\n                    <Grid\r\n                        container\r\n                        direction=\"row\"\r\n                        justify=\"center\"\r\n                        alignItems=\"center\"\r\n                    >\r\n                        <Grid item xs={12} className={classNames(classes.mt9)}>\r\n                            <div className={classNames(classes.w100, classes.flexCol)}>\r\n                                <div className={classNames(classes.fontBold, classes.textCenter)}>\r\n                                    {this.props.translate('general_partners')}\r\n                                </div>\r\n                                <Grid container spacing={24} className={classes.mt3}>\r\n                                    {this.renderGeneralPartners()}\r\n                                </Grid>\r\n                            </div>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt9)}>\r\n                            <div className={classNames(classes.w100, classes.flexCol)}>\r\n                                <div className={classNames(classes.fontBold, classes.textCenter)}>\r\n                                    {this.props.translate('main_partners')}\r\n                                </div>\r\n                                <Grid container spacing={24} className={classes.mt3}>\r\n                                    {this.renderMainPartners()}\r\n                                </Grid>\r\n                            </div>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt9)}>\r\n                            <div className={classNames(classes.w100, classes.flexCol)}>\r\n                                <div className={classNames(classes.fontBold, classes.textCenter)}>\r\n                                    {this.props.translate('partners')}\r\n                                </div>\r\n                                <Grid container spacing={24} className={classes.mt3}>\r\n                                    {this.renderPartners()}\r\n                                </Grid>\r\n                            </div>\r\n                        </Grid>\r\n\r\n                    </Grid>\r\n                </div>\r\n\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    withRouter,\r\n    withStore,\r\n    withStyles(styles),\r\n    withDoby,\r\n    withUser,\r\n    withLocalization\r\n)(Landing);","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport classNames from 'classnames';\r\nimport compose from '../../../compose';\r\n\r\nconst styles = theme => ({\r\n    icon: {\r\n        height: '20px',\r\n        width: 'auto'\r\n    }\r\n});\r\n\r\nfunction StopwatchIcon(props) {\r\n    const { classes } = props;\r\n    return (\r\n        <>\r\n            <svg width=\"100%\" height=\"100%\" viewBox=\"0 0 21 22\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className={classNames(classes.icon)} style={{height: `${props.size}px`}}>\r\n                <g clip-path=\"url(#clip0)\">\r\n                    <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M9.68577 3.17302C9.21491 3.17302 8.83321 3.17302 8.83321 3.17302V1.4679H12.2435V3.17302C12.2435 3.17302 11.8618 3.17302 11.3909 3.17302V4.02559C11.3909 4.03967 11.3906 4.05367 11.3899 4.06758C12.9987 4.22712 14.476 4.8339 15.6957 5.76185L16.8059 4.65162C16.8059 4.65162 17.0776 4.91977 17.4106 5.25272C17.7435 5.58566 18.0117 5.85733 18.0117 5.85733L16.9441 6.92493C18.2637 8.42623 19.064 10.3953 19.064 12.5512C19.064 17.2598 15.2469 21.0769 10.5383 21.0769C5.82975 21.0769 2.0127 17.2598 2.0127 12.5512C2.0127 8.13004 5.37802 4.49486 9.68679 4.06758C9.68611 4.05367 9.68577 4.03967 9.68577 4.02559V3.17302ZM10.5383 19.3717C14.3052 19.3717 17.3588 16.3181 17.3588 12.5512C17.3588 8.78436 14.3052 5.73072 10.5383 5.73072C6.77147 5.73072 3.71782 8.78436 3.71782 12.5512C3.71782 16.3181 6.77147 19.3717 10.5383 19.3717Z\" fill=\"white\" />\r\n                    <path d=\"M10.5382 7.43585C9.56747 7.43585 8.61675 7.71208 7.79712 8.23227C6.9775 8.75246 6.32281 9.49514 5.90954 10.3735C5.49627 11.2519 5.34148 12.2298 5.46326 13.1929C5.58503 14.156 5.97834 15.0646 6.59723 15.8125L10.5382 12.5512V7.43585Z\" fill=\"white\" />\r\n                </g>\r\n                <defs>\r\n                    <clipPath id=\"clip0\">\r\n                        <rect width=\"20.4615\" height=\"20.4615\" fill=\"white\" transform=\"translate(0.307617 0.615356)\" />\r\n                    </clipPath>\r\n                </defs>\r\n            </svg>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles)\r\n)(StopwatchIcon);","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport classNames from 'classnames';\r\nimport compose from '../../../compose';\r\n\r\nconst styles = theme => ({\r\n    icon: {\r\n        height: '20px',\r\n        width: 'auto'\r\n    }\r\n});\r\n\r\nfunction MountainsIcon(props) {\r\n    const { classes } = props;\r\n    return (\r\n        <>          \r\n            <svg width=\"100%\" height=\"100%\" viewBox=\"0 0 27 27\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className={classNames(classes.icon)} style={{height: `${props.size}px`}}>\r\n                <path d=\"M9.44747 12.0849L15.9289 22.0564H2.80969L9.44747 12.0849Z\" stroke=\"white\" stroke-width=\"1.5625\"/>\r\n                <path d=\"M10.9432 14.5778L15.9289 5.10489L24.9033 22.0565H15.4474\" stroke=\"white\" stroke-width=\"1.5625\"/>\r\n            </svg>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles)\r\n)(MountainsIcon);","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport classNames from 'classnames';\r\nimport compose from '../../../compose';\r\n\r\nconst styles = theme => ({\r\n    icon: {\r\n        height: '20px',\r\n        width: 'auto'\r\n    }\r\n});\r\n\r\nfunction StartIcon(props) {\r\n    const { classes } = props;\r\n    return (\r\n        <>   \r\n            <svg width=\"100%\" height=\"100%\" viewBox=\"0 0 27 27\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className={classNames(classes.icon)} style={{height: `${props.size}px`}}>\r\n                <circle cx=\"13.5\" cy=\"13.5\" r=\"9.4375\" stroke=\"white\" stroke-width=\"2.125\"/>\r\n                <circle cx=\"13.4996\" cy=\"13.4999\" r=\"4.375\" fill=\"white\"/>\r\n            </svg>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles)\r\n)(StartIcon);","import React, {useState, useEffect} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { withLocalization } from '../shared/localization';\r\nimport withStore from '../../consumers/withStore';\r\nimport withDoby from '../../consumers/withDoby';\r\nimport getSharedStyles from '../../style';\r\nimport compose from '../../compose';\r\nimport classNames from 'classnames';\r\nimport Button from './form/Button';\r\nimport moment from \"moment\";\r\n\r\nimport StopwatchIcon from '../dobyComponents/icons/Stopwatch';\r\nimport MountainsIcon from '../dobyComponents/icons/Mountains';\r\nimport StartIcon from '../dobyComponents/icons/Start';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n\r\n    card: {\r\n        width: '100%',\r\n        maxWidth: '400px',\r\n        height: '500px',     \r\n        position: 'relative',\r\n        overflow: 'hidden',         \r\n    },   \r\n    challengeImgHolder: {\r\n        height: '270px',\r\n        position: 'absolute',\r\n        width: '100%',\r\n        height: '100%',\r\n        top: '0',\r\n        left: '0',\r\n        '&:after': {\r\n            content: \"''\",\r\n            display: 'block',\r\n            position: 'absolute',\r\n            bottom: '0',\r\n            left: '0',\r\n            width: '100%',\r\n            height: '100%',\r\n            background: 'linear-gradient(180.41deg, rgba(24, 24, 24, 0.1) 22.25%, rgba(24,24,24, 0.5) 73.24%, rgba(24,24,24, 0.8) 84.72%, #191C1D 99.57%)',\r\n        }\r\n    },\r\n    cardContent: {\r\n        zIndex: 10,\r\n        position: 'relative',\r\n    },\r\n    challengeImg: {\r\n        position: 'center',\r\n        left: '0',\r\n        right: '0',\r\n        width: '100%',\r\n        height: '100%',\r\n        objectFit: 'cover',\r\n    },\r\n\r\n    logoHolder: {\r\n        marginTop: '80px'\r\n    },\r\n    challengeLogo: {\r\n        width: '150px',\r\n    },\r\n    \r\n    difficultyDot: {\r\n        width: '9px',\r\n        height: '9px',\r\n        borderRadius: '10px',        \r\n        marginRight: '5px',\r\n        background: 'white',\r\n        opacity: '0.4'\r\n    },\r\n    dotFilled: {\r\n        opacity: '1',\r\n    },\r\n    challengeBtn: {\r\n\r\n    },\r\n    challengeMap: {\r\n       width: '90px',\r\n\r\n    }\r\n    \r\n});\r\n\r\nfunction ChallengeCard(props) {\r\n    const [image, setImage] = useState(null);\r\n    const [logo, setLogo] = useState(null);\r\n    const [map, setMap] = useState(null)\r\n\r\n    useEffect(async () => {       \r\n        if(props.image) {\r\n            const data = await props.doby.getFile(props.image);\r\n            var reader = new FileReader();\r\n            reader.onloadend = () => {\r\n                setImage(reader.result);\r\n            }\r\n            reader.readAsDataURL(data);\r\n        }\r\n        if(props.logo) {\r\n            const data = await props.doby.getFile(props.logo);\r\n            var reader = new FileReader();\r\n            reader.onloadend = () => {\r\n                setLogo(reader.result);\r\n            }\r\n            reader.readAsDataURL(data);\r\n        }\r\n        if(props.map) {\r\n            const data = await props.doby.getFile(props.map);\r\n            var reader = new FileReader();\r\n            reader.onloadend = () => {\r\n                setMap(reader.result);\r\n            }\r\n            reader.readAsDataURL(data);\r\n        }\r\n      }, []);\r\n\r\n    const { classes, difficulty, className, translate } = props;\r\n\r\n    const summitsCount = props.summits && props.summits.length\r\n    const startDate = moment(props.start).format('DD.MM.YYYY');  \r\n    \r\n    let months = moment(props.end).diff(moment(props.start), 'months', true)\r\n    months = Math.abs(months);\r\n    months = Math.ceil(months)\r\n\r\n    return (\r\n        <div className={classNames(classes.card, className)}>\r\n            <div className={classNames(classes.challengeImgHolder)}>\r\n                <img src={image} className={classNames(classes.challengeImg)}/>\r\n            </div>\r\n            <div className={classNames(classes.dFlex, classes.flexCol, classes.w100, classes.h100, classes.justifyContentBetween, classes.cardContent)}>\r\n                <div className={classNames(classes.logoHolder, classes.w100, classes.textCenter)}>\r\n                    <img src={logo} className={classNames(classes.challengeLogo)}/>\r\n                </div>\r\n                <div className={classNames(classes.p6, classes.dFlex, classes.flexCol)}>\r\n                    \r\n                    <div className={classNames(classes.mapHolder, classes.w100, classes.textCenter, classes.mb8)}>\r\n                        <img src={map} className={classNames(classes.challengeMap)}/>\r\n                    </div>\r\n                    <div className={classNames(classes.dFlex, classes.alignItemsCenter)}>\r\n                        <MountainsIcon size={25}/>\r\n                        <div className={classNames(classes.textH4, classes.fontMedium, classes.textWhite, classes.textMono, classes.ml3)}>\r\n                            {summitsCount} {summitsCount === 1 ? translate('challenge.summit') : summitsCount < 5 ? translate('challenge.summits') : translate('challenge.summit_gen')}\r\n                        </div>\r\n                    </div>\r\n                    <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.mt2)}>\r\n                        <StopwatchIcon size={25}/>\r\n                        <div className={classNames(classes.textH4, classes.fontMedium, classes.textWhite, classes.textMono, classes.ml3)}>\r\n                            {months} {months === 1 ? translate('challenge.month') : months < 5 ? translate('challenge.months') : translate('challenge.month_gen')}\r\n                        </div>\r\n                    </div>\r\n                    {/* <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.mt1)}>\r\n                        <StartIcon size={25}/>\r\n                        <div className={classNames(classes.textH4, classes.fontMedium, classes.textWhite, classes.textMono, classes.ml3)}>\r\n                            Start {startDate}\r\n                        </div>\r\n                    </div> */}\r\n                    <div className={classNames(classes.dFlex, classes.w100, classes.justifyContentBetween, classes.mt9)}>\r\n                        <div className={classNames(classes.dFlex, classes.flexCol)}>\r\n                            <div className={classNames(classes.textEl250, classes.textS)}>\r\n                                {translate('challenge.difficulty')}\r\n                            </div>\r\n                            <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.mt2)}>\r\n                                <div className={classNames(classes.difficultyDot, difficulty >= 1 && classes.dotFilled)}></div>\r\n                                <div className={classNames(classes.difficultyDot, difficulty >= 2 && classes.dotFilled)}></div>\r\n                                <div className={classNames(classes.difficultyDot, difficulty >= 3 && classes.dotFilled)}></div>\r\n                                <div className={classNames(classes.difficultyDot, difficulty >= 4 && classes.dotFilled)}></div>\r\n                                <div className={classNames(classes.difficultyDot, difficulty >= 5 && classes.dotFilled)}></div>\r\n                            </div>\r\n                        </div>\r\n                        <div className={classNames(classes.dFlex, classes.flexCol)}>\r\n                            <div className={classNames(classes.textEl250, classes.textS)}>\r\n                                {translate('challenge.start')}\r\n                            </div>\r\n                            <div className={classNames(classes.textM, classes.textWhite, classes.fontSemibold, classes.mt1)}>\r\n                                {startDate}\r\n                            </div>\r\n                        </div>\r\n                        {/* <img src={'./img/map-high-tatras.svg'} className={classNames(classes.challengeMap)}/> */}\r\n                    </div>\r\n                </div>\r\n                {(props.actionBtn !== false) && <Button className={classNames(classes.challengeBtn)} fullwidth size=\"lg\">\r\n                    {translate('challenge.more')}\r\n                </Button>}\r\n                \r\n                {/* <div className={classNames(classes.cardContent, classes.dFlex, classes.flexCol, classes.w100, classes.p5)}>\r\n                    <div className={classNames(classes.w100, classes.dFlex, classes.alignItemsCenter, classes.justifyContentBetween)}>\r\n                        <div className={classNames(classes.dFlex, classes.flexCol)}>\r\n                            <div className={classNames(classes.dFlex, classes.flexCol)}>\r\n                                <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.mb1)}>\r\n                                    <div className={classNames(classes.difficultyDot, difficulty >= 1 && classes.dotFilled)}></div>\r\n                                    <div className={classNames(classes.difficultyDot, difficulty >= 2 && classes.dotFilled)}></div>\r\n                                    <div className={classNames(classes.difficultyDot, difficulty >= 3 && classes.dotFilled)}></div>\r\n                                    <div className={classNames(classes.difficultyDot, difficulty >= 4 && classes.dotFilled)}></div>\r\n                                    <div className={classNames(classes.difficultyDot, difficulty >= 5 && classes.dotFilled)}></div>\r\n                                </div>\r\n                                <div className={classNames(classes.textSecondaryLight, classes.textMono, classes.textM, classes.fontMedium)}>\r\n                                    Obtiaznost\r\n                                </div>\r\n                            </div>\r\n                            <div className={classNames(classes.dFlex, classes.flexCol, classes.mt4)}>\r\n                                <div className={classNames(classes.textWhite, classes.fontSemibold, classes.textM)}>\r\n                                    {startDate}\r\n                                </div>\r\n                                <div className={classNames(classes.textSecondaryLight, classes.textMono, classes.textM, classes.fontMedium)}>\r\n                                    Start\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className={classNames(classes.challengeLogoHolder)}>\r\n                            <img src={'./img/newLogo.png'} className={classNames(classes.challengeLogo)}/>\r\n                        </div>\r\n                    </div>\r\n                    <div className={classNames(classes.textSecondaryLight, classes.textM, classes.mt3)}>\r\n                        {props.description}\r\n                    </div>\r\n                    <Button className={classNames(classes.mt3)} fullwidth>\r\n                        Zobrazit vyzvu\r\n                    </Button>\r\n                </div> */}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nChallengeCard.propTypes = {\r\n    className: PropTypes.string.isRequired,\r\n    onClick: PropTypes.func.isRequired,\r\n    title: PropTypes.string.isRequired,\r\n    description: PropTypes.string,\r\n    start: PropTypes.string, \r\n    difficulty: PropTypes.number,  \r\n};\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withLocalization,\r\n    withStore,\r\n    withDoby\r\n)(ChallengeCard);","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport classNames from 'classnames';\r\nimport compose from '../../../compose';\r\n\r\nconst styles = theme => ({\r\n    icon: {\r\n        height: '20px',\r\n        width: 'auto'\r\n    }\r\n});\r\n\r\nfunction DropdownFaqClosedIcon(props) {\r\n    const { classes } = props;\r\n    return (\r\n        <>\r\n            <svg width=\"100%\" height=\"100%\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className={classNames(classes.icon)} style={{height: `${props.size}px`}}>\r\n                <path d=\"M26 11L16 21L6 11\" fill=\"#F5333F\"/>\r\n            </svg>         \r\n        </>\r\n    )\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles)\r\n)(DropdownFaqClosedIcon);","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport classNames from 'classnames';\r\nimport compose from '../../../compose';\r\n\r\nconst styles = theme => ({\r\n    icon: {\r\n        height: '20px',\r\n        width: 'auto'\r\n    }\r\n});\r\n\r\nfunction DropdownFaqOpenedIcon(props) {\r\n    const { classes } = props;\r\n    return (\r\n        <>    \r\n            <svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"  className={classNames(classes.icon)} style={{height: `${props.size}px`}}>\r\n                <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M8.87485 9.67083L13.25 14.046L14.0455 13.2505L9.67034 8.87534L14.0456 4.5001L13.2501 3.70461L8.87485 8.07984L4.4996 3.70459L3.7041 4.50008L8.07935 8.87534L3.70414 13.2505L4.49964 14.046L8.87485 9.67083Z\" fill=\"#68778D\"/>\r\n            </svg>  \r\n        </>\r\n    )\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles)\r\n)(DropdownFaqOpenedIcon);","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport getSharedStyles from '../../style';\r\nimport classNames from 'classnames';\r\nimport { withLocalization } from '../shared/localization'\r\nimport compose from '../../compose';\r\n\r\nimport MuiExpansionPanel from '@material-ui/core/ExpansionPanel';\r\nimport MuiExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\r\nimport MuiExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\r\n\r\nimport DropdownFaqClosedIcon from '../dobyComponents/icons/DropdownFaqClosed';\r\nimport DropdownFaqOpenedIcon from '../dobyComponents/icons/DropdownFaqOpened';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    panelRoot: {\r\n        borderTop: '1px solid rgba(0,0,0,.125)',\r\n        borderBottom: '1px solid rgba(0,0,0,.125)',\r\n        boxShadow: 'none',\r\n        '&:not(:last-child)': {\r\n            borderBottom: 0,\r\n        },\r\n        '&:before': {\r\n            display: 'none',\r\n        },\r\n    },\r\n    panelExpanded: {\r\n        margin: 'auto',\r\n    },\r\n\r\n    summaryRoot: {\r\n        backgroundColor: 'transparent',\r\n        border: '0',\r\n        marginBottom: -1,\r\n        minHeight: 56,\r\n        padding: '0',\r\n        '&$summaryExpanded': {\r\n            minHeight: 56,\r\n        },\r\n    },\r\n    summaryContent: {\r\n        '&$summaryExpanded': {\r\n            margin: '12px 0',           \r\n        },\r\n    },\r\n    summaryExpanded: {},\r\n    \r\n    detailsRoot: {\r\n        padding: '0rem 0rem 1.25rem 0rem'\r\n    },\r\n    iconSpacing: {\r\n        width: '30px'\r\n    },\r\n    textIconSpacing: {\r\n        paddingLeft: '30px',\r\n    }\r\n    \r\n    \r\n});\r\n\r\nfunction Faq(props) {\r\n    const { classes } = props;\r\n    const [expanded, setExpanded] = useState(false);\r\n\r\n    const handleChange = panel => (event, expanded) => {\r\n        console.log(panel)\r\n        console.log(expanded)\r\n\r\n        setExpanded(expanded ? panel : false)\r\n    };\r\n    return (\r\n        <>\r\n            <div className={classNames(props.className)}>\r\n               {\r\n                   props.questions && props.questions.map((item, index)=>{\r\n                       return (\r\n                        <MuiExpansionPanel\r\n                            square\r\n                            expanded={expanded === index}\r\n                            onChange={handleChange(index)}\r\n                            classes={{root: classes.panelRoot, expanded: classes.panelExpanded}}\r\n                        >\r\n                            <MuiExpansionPanelSummary classes={{root: classes.summaryRoot, content: classes.summaryContent ,expanded: classes.summaryExpanded}}>\r\n                                <div className={classNames(classes.dFlex, classes.alignItemsCenter)}>\r\n                                    <div className={classNames(classes.iconSpacing, classes.dFlex, classes.alignItemsCenter)}>\r\n                                        {expanded === index ? <DropdownFaqOpenedIcon/> : <DropdownFaqClosedIcon/>}\r\n                                    </div>\r\n                                    <div className={classNames(classes.fontBold,)}>\r\n                                        {item.description}\r\n                                    </div>\r\n                                </div>\r\n                            </MuiExpansionPanelSummary>\r\n                            <MuiExpansionPanelDetails classes={{root: classes.detailsRoot}}>\r\n                                <div className={classNames(classes.textM, classes.textIconSpacing)}>\r\n                                    {item.content}\r\n                                </div>\r\n                            </MuiExpansionPanelDetails>\r\n                        </MuiExpansionPanel>\r\n                       )\r\n                   })\r\n               }               \r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nFaq.propTypes = {\r\n    className: PropTypes.string,\r\n    questions: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withLocalization\r\n)(Faq);","import React, {useState} from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport getSharedStyles from '../../../style';\r\nimport classNames from 'classnames';\r\nimport { withLocalization } from '../../shared/localization'\r\nimport compose from '../../../compose';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    tabsRootClasses: {\r\n        background: '#E4EAF3',       \r\n        minHeight: '37px', \r\n    },\r\n    tabsInicator: {\r\n        height: '100%',\r\n        background: theme.palette.secondary.main,\r\n    },\r\n    tabSelected: {\r\n        zIndex: 3,\r\n        color: 'white',\r\n        border: 'none!important'\r\n    },\r\n    label: {\r\n       letterSpacing: '0.5px'\r\n    },\r\n    labelContainer: {\r\n        padding: '0px 30px'\r\n    },\r\n    tabRoot: {\r\n        minHeight: '37px',\r\n        border: '2px solid #C8D2E1'\r\n    } \r\n});\r\n\r\nfunction TabSwitch(props) {\r\n    const [value, setValue] = useState(0)\r\n    const { classes } = props;\r\n\r\n    const handleChange = (event, newValue) => {\r\n        setValue(newValue);\r\n        props.onChange(newValue)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Tabs \r\n                value={value}\r\n                onChange={handleChange} \r\n                variant=\"fullWidth\"\r\n                classes={{root: classes.tabsRootClasses, indicator: classes.tabsInicator}}\r\n            >\r\n                <Tab \r\n                    label={props.label1}\r\n                    classes={{root: classes.tabRoot, selected: classes.tabSelected, labelContainer: classes.labelContainer, label: classNames(classes.label, classes.textMono, classes.textXs2, classes.fontBold, classes.uppercase)}}\r\n                />\r\n                <Tab \r\n                    label={props.label2}\r\n                    classes={{root: classes.tabRoot, selected: classes.tabSelected, labelContainer: classes.labelContainer, label: classNames(classes.label, classes.textMono, classes.textXs2, classes.fontBold, classes.uppercase)}}\r\n                />              \r\n            </Tabs>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withLocalization\r\n)(TabSwitch);","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport classNames from 'classnames';\r\nimport compose from '../../../compose';\r\n\r\nconst styles = theme => ({   \r\n    icon: {\r\n        height: '20px',\r\n        width: 'auto'\r\n    }\r\n});\r\n\r\nfunction FacebookIcon(props) {\r\n    const { classes } = props;\r\n    return (\r\n        <>            \r\n            <svg width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className={classNames(classes.icon)} style={{height: `${props.size}px`}}>\r\n                <ellipse cx=\"12\" cy=\"11.9998\" rx=\"12\" ry=\"11.9998\" fill=\"#00263E\"/>\r\n                <path d=\"M16.4701 15.6699L17.0032 12.283H13.6686V10.0861C13.6686 9.15931 14.1335 8.25536 15.6271 8.25536H17.1441V5.37191C17.1441 5.37191 15.768 5.14307 14.4529 5.14307C11.7054 5.14307 9.91125 6.76556 9.91125 9.70166V12.283H6.8584V15.6699H9.91125V23.858C10.5241 23.9519 11.1512 23.9999 11.7899 23.9999C12.4287 23.9999 13.0557 23.9519 13.6686 23.858V15.6699H16.4701Z\" fill=\"white\"/>\r\n            </svg>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles)\r\n)(FacebookIcon);","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport classNames from 'classnames';\r\nimport compose from '../../../compose';\r\n\r\nconst styles = theme => ({\r\n    icon: {\r\n        height: '20px',\r\n        width: 'auto'\r\n    }\r\n});\r\n\r\nfunction InstagramIcon(props) {\r\n    const { classes } = props;\r\n    return (\r\n        <>\r\n            <svg width=\"100%\" height=\"100%\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className={classNames(classes.icon, props.className)} style={{height: `${props.size}px`}}>\r\n                <path d=\"M20.0111 5.73127C20.0111 6.72538 19.2052 7.53127 18.2111 7.53127C17.217 7.53127 16.4111 6.72538 16.4111 5.73127C16.4111 4.73716 17.217 3.93127 18.2111 3.93127C19.2052 3.93127 20.0111 4.73716 20.0111 5.73127Z\" fill=\"#00263E\"/>\r\n                <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12 18C15.3137 18 18 15.3137 18 12C18 8.68629 15.3137 6 12 6C8.68629 6 6 8.68629 6 12C6 15.3137 8.68629 18 12 18ZM12 15.6C13.9882 15.6 15.6 13.9882 15.6 12C15.6 10.0118 13.9882 8.4 12 8.4C10.0118 8.4 8.4 10.0118 8.4 12C8.4 13.9882 10.0118 15.6 12 15.6Z\" fill=\"#00263E\"/>\r\n                <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M0 11.52C0 7.48762 0 5.47143 0.784753 3.93127C1.47504 2.5765 2.5765 1.47504 3.93127 0.784753C5.47143 0 7.48762 0 11.52 0H12.48C16.5124 0 18.5286 0 20.0687 0.784753C21.4235 1.47504 22.525 2.5765 23.2152 3.93127C24 5.47143 24 7.48762 24 11.52V12.48C24 16.5124 24 18.5286 23.2152 20.0687C22.525 21.4235 21.4235 22.525 20.0687 23.2152C18.5286 24 16.5124 24 12.48 24H11.52C7.48762 24 5.47143 24 3.93127 23.2152C2.5765 22.525 1.47504 21.4235 0.784753 20.0687C0 18.5286 0 16.5124 0 12.48V11.52ZM11.52 2.4H12.48C14.5358 2.4 15.9333 2.40187 17.0135 2.49012C18.0657 2.57609 18.6038 2.73191 18.9792 2.92317C19.8823 3.38336 20.6166 4.11767 21.0768 5.02085C21.2681 5.3962 21.4239 5.93429 21.5099 6.98649C21.5981 8.06671 21.6 9.46421 21.6 11.52V12.48C21.6 14.5358 21.5981 15.9333 21.5099 17.0135C21.4239 18.0657 21.2681 18.6038 21.0768 18.9792C20.6166 19.8823 19.8823 20.6166 18.9792 21.0768C18.6038 21.2681 18.0657 21.4239 17.0135 21.5099C15.9333 21.5981 14.5358 21.6 12.48 21.6H11.52C9.46421 21.6 8.06671 21.5981 6.98649 21.5099C5.93429 21.4239 5.3962 21.2681 5.02085 21.0768C4.11767 20.6166 3.38336 19.8823 2.92317 18.9792C2.73191 18.6038 2.57609 18.0657 2.49012 17.0135C2.40187 15.9333 2.4 14.5358 2.4 12.48V11.52C2.4 9.46421 2.40187 8.06671 2.49012 6.98649C2.57609 5.93429 2.73191 5.3962 2.92317 5.02085C3.38336 4.11767 4.11767 3.38336 5.02085 2.92317C5.3962 2.73191 5.93429 2.57609 6.98649 2.49012C8.06671 2.40187 9.46421 2.4 11.52 2.4Z\" fill=\"#00263E\"/>\r\n            </svg>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles)\r\n)(InstagramIcon);","import React, {useState, useEffect } from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport getSharedStyles from '../../style';\r\nimport classNames from 'classnames';\r\nimport { withLocalization } from '../shared/localization'\r\nimport withDoby from '../../consumers/withDoby';\r\nimport compose from '../../compose';\r\nimport Button from \"../dobyComponents/form/Button\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from \"../dobyComponents/form/TextField\";\r\nimport Checkbox from '../dobyComponents/form/CheckboxField';\r\nimport Flickity from \"react-flickity-component\";\r\nimport ChallengeCard from '../dobyComponents/ChallengeCardV1';\r\nimport Faq from '../dobyComponents/Faq';\r\nimport config from '../../config';\r\nimport TabSwitch from '../dobyComponents/form/TabSwitch'\r\nimport { saveAs } from 'file-saver';\r\n\r\nimport FacebookIcon from '../dobyComponents/icons/Facebook';\r\nimport InstagramIcon from '../dobyComponents/icons/Instagram';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    introImage: {\r\n        width: '100%',\r\n        // height: 'calc(100vh - 60px - 120px)',\r\n        height: 'calc(100vh - 60px - 15vh)',\r\n        background: 'url(\"/img/intro-bg2.jpg\")',\r\n        backgroundSize: 'cover',\r\n        backgroundPosition: 'center',\r\n        [theme.breakpoints.up('md')]: {\r\n            background: 'url(\"/img/intro-bg-desktop.jpg\")',\r\n            backgroundSize: 'cover',\r\n            backgroundPosition: 'center',\r\n        },\r\n        position: 'relative',\r\n        '&:after': {\r\n            content: \"''\",\r\n            display: 'block',\r\n            position: 'absolute',\r\n            bottom: '-1px',\r\n            left: 0,\r\n            width: '100%',\r\n            height: '100%',\r\n            background: 'linear-gradient(180deg, rgba(0,38,62, 0) 36.46%, rgba(0,38,62, 0.2) 64.06%, #070A1A 100%)'\r\n        }       \r\n    },\r\n    introContent: {\r\n        zIndex: 10,\r\n        position: 'relative'\r\n    },\r\n    introBtn: {\r\n        marginBottom: '-25px',\r\n        zIndex: 1,        \r\n    }, \r\n    desktopIntro:{\r\n        height: 'calc(100vh - 60px)',\r\n        width: '100%',\r\n        position: 'relative',\r\n        padding: '80px 0',\r\n        '&:after': {\r\n            content: \"''\",\r\n            display: 'block',\r\n            position: 'absolute',\r\n            bottom: '0',\r\n            left: '0',\r\n            width: '100%',\r\n            height: '50%',\r\n            background: theme.palette.secondary.main,\r\n            zIndex: -1,\r\n        },\r\n    },\r\n    desktopIntroContent: {\r\n        width: '600px',        \r\n    },\r\n    desktopIntroImageHolder: {\r\n        width: 'calc(100% - 600px)',       \r\n    },\r\n    //******************\r\n    participantsImg: {\r\n        width: '70%'\r\n    },   \r\n    howItWorksCircle: {\r\n        width: '38px',\r\n        minWidth: '38px',\r\n        height: '38px',\r\n        lineHeight: '36px',\r\n        borderRadius: '30px',\r\n        textAlign: 'center',\r\n        color: theme.palette.secondary.main,     \r\n        fontSize: '18px',\r\n        border: `2px solid ${theme.palette.secondary.main}`,         \r\n    },   \r\n    challengeCard: {\r\n        width: '300px'\r\n    }, \r\n    challengeCardAdapt: {\r\n        width: '100%',\r\n        //maxWidth: '330px',\r\n        // [theme.breakpoints.up('xl')]: {\r\n        //     width: '94%',\r\n        // }\r\n    },   \r\n    challengeItemsContainer: {       \r\n        '& $challengeItem': {\r\n            '&:nth-of-type(3n+1)': {\r\n                [theme.breakpoints.only('md')]: {     \r\n                    paddingRight: '12.5px',    \r\n                },                \r\n            },\r\n            '&:nth-of-type(3n+2)': {\r\n                [theme.breakpoints.only('md')]: {     \r\n                    paddingRight: '7.5px',\r\n                    paddingLeft: '7.5px',          \r\n                },                \r\n            },\r\n            '&:nth-of-type(3n+3)': {\r\n                [theme.breakpoints.only('md')]: {     \r\n                    paddingLeft: '12.5px'         \r\n                },                \r\n            },\r\n\r\n            '&:nth-of-type(4n+1)': {\r\n                [theme.breakpoints.up('lg')]: {     \r\n                    paddingRight: '12.5px'         \r\n                },                \r\n            },\r\n            '&:nth-of-type(4n+2)': {\r\n                [theme.breakpoints.up('lg')]: {     \r\n                    paddingRight: '7.5px',\r\n                    paddingLeft: '7.5px',   \r\n                },                \r\n            },\r\n            '&:nth-of-type(4n+3)': {\r\n                [theme.breakpoints.up('lg')]: {     \r\n                    paddingRight: '7.5px',\r\n                    paddingLeft: '7.5px',        \r\n                },                \r\n            },\r\n            '&:nth-of-type(4n+4)': {\r\n                [theme.breakpoints.up('lg')]: {     \r\n                    paddingLeft: '12.5px'         \r\n                },                \r\n            },\r\n        }\r\n    },\r\n    challengeItem: {\r\n\r\n    },\r\n    socialShare: {\r\n        //paddingBottom: '80px!important'\r\n    },\r\n    socialShareDesktop: {\r\n        background: theme.palette.secondary.main,\r\n        position: 'relative',\r\n        height: '500px',\r\n        [theme.breakpoints.up('xl')]: {\r\n            margin: '100px 0',\r\n        },\r\n        '&:after': {\r\n            content: \"''\",\r\n            display: 'block',\r\n            position: 'absolute',\r\n            top: '0',\r\n            right: '0',\r\n            width: '50%',\r\n            height: '100%',\r\n            background: 'url(\"/img/doby-bg.jpg\")',\r\n            backgroundSize: 'cover',\r\n            backgroundPosition: 'center',\r\n            zIndex: 1,\r\n        },\r\n    },\r\n    socialShareDesktopPhone: {\r\n        width: '400px',\r\n        height: 'auto',\r\n        position: 'absolute',\r\n        right: '25%',\r\n        top: '50%',\r\n        transform: 'translate(50%, -50%)',\r\n        zIndex: '5',\r\n        [theme.breakpoints.up('xl')]: {\r\n            width: '450px',\r\n        },\r\n    },\r\n    shareImgCol: {\r\n        background: 'url(\"/img/doby-bg.jpg\")',\r\n        backgroundSize: 'cover',\r\n        backgroundPosition: 'center',\r\n        position: 'relative',\r\n        height: '350px'\r\n    },\r\n    shareImg: {\r\n        height: '500px',\r\n        position: 'absolute',\r\n        top: '-50px',\r\n        left: '0',\r\n        right: '0',\r\n        margin: '0 auto',\r\n    },\r\n    socialShareButtonHolder: {\r\n        background: '#E4EAF3',\r\n        paddingTop: '120px'\r\n    },\r\n    socialShareButton: {\r\n        marginBottom: '-26px'\r\n    },\r\n    forYourselfImgHolder: {\r\n        width: '100%',\r\n        height: '400px',\r\n        [theme.breakpoints.up('md')]: {\r\n            height: '500px',\r\n        },\r\n        [theme.breakpoints.up('lg')]: {\r\n            height: '600px',\r\n        },\r\n    },\r\n    forYourselfImg: {\r\n        //width: '100%'\r\n    },\r\n    bigPhotoHolder: {\r\n        width: '100%',\r\n        height: '400px',\r\n    },\r\n    bigPhotoContent: {\r\n        width: '400px',\r\n    },\r\n\r\n    footerBg: {\r\n        background: '#F8F9FB'\r\n    },\r\n    challengesTitleBgOverlay: {\r\n        background: theme.palette.secondary.main,\r\n        color: 'white',\r\n        [theme.breakpoints.up('md')]: {\r\n            background: '#F8F9FB',\r\n            color: 'inherit'\r\n        }\r\n    },\r\n    challengesBgOverlay: {\r\n        position: 'relative',\r\n        [theme.breakpoints.up('md')]: {\r\n            marginTop: '-70px'\r\n        },\r\n        '&:after': {\r\n            content: \"''\",\r\n            display: 'block',\r\n            position: 'absolute',\r\n            top: '0',\r\n            left: '0',\r\n            width: '100%',\r\n            height: '100%',\r\n            background: theme.palette.secondary.main,\r\n            zIndex: -1,\r\n            [theme.breakpoints.up('md')]: {\r\n                height: 'calc(100% - 140px)',\r\n                top: '50%',\r\n                transform: 'translateY(-50%)'\r\n            }\r\n        },\r\n    },\r\n    newMedalsImg: {\r\n        position: 'absolute',\r\n        width: '100%',\r\n        top: '-60px',    \r\n    },\r\n    newsletterFormDesktop: {\r\n        [theme.breakpoints.up('md')]: {\r\n            marginTop: '170px'\r\n        },\r\n    },\r\n    newsletterAnchor: {}, //nemazat\r\n    subNotify: {\r\n        display: 'inline-block',\r\n        padding: '10px 15px',\r\n    },\r\n    notifySuccess: {\r\n        background: '#edffe1',\r\n        color: '#477942',\r\n        border: '2px solid #cee8cc'\r\n    },\r\n    notifyError: {\r\n        background: '#ffe0e0',\r\n        color: '#cc6767',\r\n        border: '2px solid #ffb8b8'\r\n    }\r\n\r\n});\r\n\r\nconst flickityOptions = {\r\n    cellAlign: 'left',\r\n    contain: true,\r\n    prevNextButtons: false,\r\n    pageDots: false\r\n}\r\n\r\nfunction Countdown(props) {\r\n    const { classes, translate } = props;\r\n    const [days, setDays] = useState(0);\r\n    const [hours, setHours] = useState(0);\r\n    const [minutes, setMinutes] = useState(0);\r\n    const [seconds, setSeconds] = useState(0);\r\n    const [timer, setTimer] = useState(null);\r\n\r\n    const showRemainingTime = () => {        \r\n        let _second = 1000;\r\n        let _minute = _second * 60;\r\n        let _hour = _minute * 60;\r\n        let _day = _hour * 24;\r\n\r\n        let end = new Date(1619820000 * 1000); // 1.5.2021\r\n        let now = new Date();\r\n        let diff = end.getTime() - now.getTime()             \r\n        \r\n        if(diff < 0) {\r\n            clearInterval(timer)\r\n            return\r\n        } else { \r\n            let days = Math.floor(diff / _day);\r\n            let hours = Math.floor((diff % _day) / _hour);\r\n            let minutes = Math.floor((diff % _hour) / _minute);\r\n            let seconds = Math.floor((diff % _minute) / _second);\r\n            \r\n            setDays(days);\r\n            setHours(hours);\r\n            setMinutes(minutes);\r\n            setSeconds(seconds);           \r\n        }\r\n    }\r\n\r\n    useEffect(() => {  \r\n        let timerObj = setInterval(showRemainingTime, 1000);\r\n        setTimer(timerObj);\r\n        return () => {\r\n            clearInterval(timer)\r\n        }\r\n    }, []);\r\n    return (\r\n        <div className={classNames(classes.dFlex, classes.w100, classes.alignItemsCenter, props.center && classes.justifyContentCenter, classes.textWhite, classes.mt2)}>\r\n            <div className={classNames(classes.dFlex, classes.flexCol, classes.alignItemsCenter, classes.mr2, classes.mrMd4)}>\r\n                <div className={classNames(classes.fontBold, classes.textMono, classes.textH2)}>\r\n                    {days}\r\n                </div>\r\n                <div className={classNames(classes.textMono)}>\r\n                    {translate('countdown.days')}\r\n                </div>\r\n            </div>\r\n            <div className={classNames(classes.dFlex, classes.flexCol, classes.alignItemsCenter, classes.ml2, classes.mr2, classes.mrMd4)}>\r\n                <div className={classNames(classes.fontBold, classes.textMono, classes.textH2)}>\r\n                    {hours}\r\n                </div>\r\n                <div className={classNames(classes.textMono)}>\r\n                    {translate('countdown.hours')}\r\n                </div>\r\n            </div>\r\n            <div className={classNames(classes.dFlex, classes.flexCol, classes.alignItemsCenter, classes.ml2, classes.mr2, classes.mrMd4)}>\r\n                <div className={classNames(classes.fontBold, classes.textMono, classes.textH2)}>\r\n                    {minutes}\r\n                </div>\r\n                <div className={classNames(classes.textMono)}>\r\n                    {translate('countdown.minutes')}\r\n                </div>\r\n            </div>\r\n            <div className={classNames(classes.dFlex, classes.flexCol, classes.alignItemsCenter, classes.ml2, classes.mrMd4)}>\r\n                <div className={classNames(classes.fontBold, classes.textMono, classes.textH2)}>\r\n                    {seconds}\r\n                </div>\r\n                <div className={classNames(classes.textMono)}>\r\n                    {translate('countdown.seconds')}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nclass LandingCountdown extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {          \r\n            checkConditions: {\r\n                value: false, \r\n                errorText: '',\r\n            },\r\n            email: {\r\n                value: '',\r\n                errorText: ''\r\n            },\r\n            stepperExpand: false,\r\n\r\n            subscribeShowSuccess: false,\r\n            subscribeShowError: false,\r\n        }\r\n    }\r\n    componentDidMount() {  \r\n        this.fetchData();       \r\n    }\r\n    fetchData = async () => {\r\n        await this.props.doby.getChallenges();    \r\n        await this.props.doby.getPosts([{field: 'type.key', value: 10}], {field: \"title\", dir: \"asc\"});\r\n    }\r\n\r\n    handleEmailChange = (name, value) => {           \r\n        this.setState({\r\n            email: {\r\n                value: value,\r\n                errorText: ''\r\n            }\r\n        });\r\n    }\r\n\r\n    handleCheckChange = (name, value) => {           \r\n        this.setState({\r\n            checkConditions: {\r\n                value: value,\r\n                errorText: ''\r\n            }\r\n        });\r\n    }\r\n\r\n    validateEmail = (email) => {\r\n        const regex = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n        return email !== '' && regex.test(email);\r\n    }\r\n\r\n    stepperTabsChange = (tab) => {\r\n        if(tab === 0) {\r\n            this.setState({stepperExpand: false})\r\n        } else if(tab === 1) {\r\n            this.setState({stepperExpand: true})\r\n        }\r\n    }\r\n\r\n    handleShare = () => {\r\n        saveAs('/img/intro-bg2.jpg', `${process.env.REACT_APP_NAME}.jpg`);\r\n    }\r\n\r\n    handleSubscribe = async () => {\r\n        const { translate } = this.props;\r\n        const { email, checkConditions } = this.state;\r\n        const emailValid = this.validateEmail(email.value)\r\n        \r\n        if(emailValid) {\r\n            if(checkConditions.value) {\r\n                try {\r\n                    const result = await this.props.doby.subscribe({ email: email.value });\r\n                    this.setState({\r\n                        email: {value: '', errorText: ''},\r\n                        checkConditions: {value: false, errorText: ''},\r\n                        subscribeShowSuccess: true,\r\n                    })  \r\n                    setTimeout(()=>{\r\n                        this.setState({                        \r\n                            subscribeShowSuccess: false,\r\n                        })\r\n                    },4000)                 \r\n                }\r\n                catch(error) {\r\n                    this.setState({                        \r\n                        subscribeShowError: true,\r\n                    }) \r\n                    setTimeout(()=>{\r\n                        this.setState({                        \r\n                            subscribeShowError: false,\r\n                        })\r\n                    },4000)\r\n                }\r\n            } else {\r\n                this.setState((state) => ({\r\n                    checkConditions: {\r\n                        value: state.checkConditions.value,\r\n                        errorText: translate('validation.checkboxNotChecked')\r\n                    }\r\n                }));\r\n            }                     \r\n        } else {\r\n            this.setState((state) => ({\r\n                email: {\r\n                    value: state.email.value,\r\n                    errorText: translate('validation.emailNotValid')\r\n                }\r\n            }));   \r\n        }       \r\n    }\r\n\r\n    scrollToNewsletter = () => {\r\n        const { classes } = this.props;       \r\n        document.querySelector(`.${classes.newsletterAnchor}`).scrollIntoView({ \r\n            behavior: 'smooth' \r\n        });\r\n    }\r\n\r\n    renderChallenges = (carousel = true) => {\r\n        const { challenges } = this.props.doby;\r\n        const { classes } = this.props;  \r\n        return challenges.data.map((challenge, index) => {\r\n            return (\r\n                carousel ? \r\n                <div className={\"carousel-cell\"}>\r\n                    <ChallengeCard\r\n                        key={challenge._id}\r\n                        title={challenge.name}\r\n                        description={challenge.description}\r\n                        start={challenge.start}\r\n                        end={challenge.end}                                                                                    \r\n                        difficulty={challenge.difficulty}   \r\n                        summits={challenge.summitsRef}\r\n                        image={challenge.imageId}\r\n                        logo={challenge.logoId}\r\n                        map={challenge.mapId}\r\n                        actionBtn={false}\r\n                        className={classNames(classes.challengeCard, classes.mt2, classes.mb2, (index !== challenges.data.length - 1) && classes.mr5)}\r\n                    />\r\n                </div> :\r\n                <Grid item md={4} lg={3} className={classNames(classes.challengeItem)}>\r\n                    <ChallengeCard\r\n                        key={challenge._id}\r\n                        title={challenge.name}\r\n                        description={challenge.description}\r\n                        start={challenge.start}\r\n                        end={challenge.end}                        \r\n                        difficulty={challenge.difficulty}  \r\n                        summits={challenge.summitsRef}\r\n                        image={challenge.imageId}\r\n                        logo={challenge.logoId} \r\n                        map={challenge.mapId}  \r\n                        actionBtn={false}   \r\n                        className={classNames(classes.challengeCardAdapt, classes.my2)}                 \r\n                    />\r\n                </Grid> \r\n            );\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { classes, translate } = this.props;\r\n        const { posts } = this.props.doby;\r\n\r\n        return (\r\n            <>\r\n                <div className={classNames(classes.introImage, classes.dLgNone)}>\r\n                    <div className={classNames(classes.w100, classes.h100, classes.dFlex, classes.flexCol, classes.alignItemsCenter, classes.justifyContentEnd, classes.introContent)}>\r\n                        {/* <div className={classNames( classes.textMono, classes.textXl, classes.textWhite)}>\r\n                            Zazi viac\r\n                        </div> */}\r\n                        <Countdown classes={classes} center translate={translate} />\r\n                        \r\n                        <div className={classNames(classes.textWhite, classes.textSans, classes.textH3, classes.mt4, classes.px5, classes.textCenter)}>\r\n                            <span className={classNames(classes.fontSemibold)}>{translate('landing.begins')}</span> <span className={classNames(classes.textPrimary)}>{new Date(config.start).toLocaleDateString(this.props.locale)}</span>\r\n                        </div>\r\n                        <div className={classNames(classes.container, classes.w100, classes.mt6)}>\r\n                            <div className={classNames(classes.dFlex, classes.justifyContentCenter)}>\r\n                                <Button className={classNames(classes.introBtn)}  fullwidth onClick={this.scrollToNewsletter} arrow>\r\n                                    {translate('landing.subscribe')}\r\n                                </Button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div> \r\n\r\n                <div className={classNames(classes.container, classes.bgSecondary, classes.dLgNone)}>\r\n                    <Grid\r\n                        container\r\n                        direction=\"row\"                                                \r\n                    > \r\n                        <Grid item xs={12} className={classNames(classes.textCenter, classes.pt9, classes.pb9)}>                            \r\n                            {/* <div className={classNames(classes.textMono, classes.fontSemibold)}>\r\n                                Opusti komfort. Prekonaj sa. <br/>Pomoz prirode.\r\n                            </div> */}\r\n                            <h2 className={classNames(classes.textMono, classes.textH2, classes.mt2, classes.textWhite, classes.uppercase)}>\r\n                                {translate('landing.header1')}\r\n                            </h2>\r\n                            <h2 className={classNames(classes.textMono, classes.textH2, classes.textPrimary, classes.uppercase)}>\r\n                                {translate('landing.header2')}\r\n                            </h2>\r\n                            <h2 className={classNames(classes.textMono, classes.textH2, classes.textWhite, classes.uppercase)}>\r\n                                {translate('landing.header3')}\r\n                            </h2>                                                                       \r\n                        </Grid>\r\n                    </Grid>\r\n                </div>\r\n\r\n                <div className={classNames(classes.desktopIntro, classes.dNone, classes.dLgBlock)}>\r\n                    <div className={classNames(classes.dFlex, classes.w100, classes.h100)}>\r\n                        <div className={classNames(classes.desktopIntroContent)}>\r\n                            <div className={classNames(classes.dFlex, classes.flexCol, classes.h100, classes.alignItemsStart)}>\r\n                                <div className={classNames(classes.h50, classes.dFlex, classes.flexCol, classes.justifyContentCenter, classes.pl10)}>\r\n                                    <h2 className={classNames(classes.textMono, classes.textH1, classes.uppercase)}>\r\n                                        {translate('landing.header1')}\r\n                                    </h2>\r\n                                    <h2 className={classNames(classes.textMono, classes.textH1, classes.textPrimary, classes.uppercase)}>\r\n                                        {translate('landing.header2')}\r\n                                    </h2>\r\n                                    <h2 className={classNames(classes.textMono, classes.textH1,classes.uppercase)}>\r\n                                        {translate('landing.header3')}\r\n                                    </h2>     \r\n                                </div>\r\n                                <div className={classNames(classes.h50, classes.dFlex, classes.flexCol, classes.justifyContentCenter, classes.pl10)}>\r\n                                    <Countdown classes={classes} translate={translate} />\r\n                        \r\n                                    <div className={classNames(classes.textWhite, classes.textSans, classes.textH3, classes.mt4)}>\r\n                                        <span className={classNames(classes.fontSemibold)}>{translate('landing.begins')}</span> <span className={classNames(classes.textPrimary)}>{new Date(config.start).toLocaleDateString(this.props.locale)}</span>\r\n                                    </div>\r\n                                    <Button className={classNames(classes.mt5)} onClick={this.scrollToNewsletter} arrow>\r\n                                        {translate('landing.subscribe')}\r\n                                    </Button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className={classNames(classes.desktopIntroImageHolder, classes.imageFitHolder)}>\r\n                            <img src={\"/img/intro-bg-desktop.jpg\"} className={classNames(classes.imageFit)}/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={classNames(classes.container, classes.py10, classes.pyMd11, classes.pyLg12)}>\r\n                    <Grid\r\n                        container\r\n                        direction=\"row\"                                              \r\n                    >  \r\n                        <Grid item xs={12} md={5} lg={4}  className={classNames()}> \r\n                            <h2 className={classNames(classes.textMono, classes.textH2, classes.textCenter, classes.uppercase, classes.dMdNone)}>\r\n                                {translate('landing.what')}\r\n                            </h2>\r\n                            <div className={classNames(classes.dFlex, classes.justifyContentCenter, classes.dMdNone, classes.mt5, classes.mb2)}>\r\n                                <TabSwitch\r\n                                    onChange={this.stepperTabsChange}\r\n                                    label1={translate('landing.tab1_label')}\r\n                                    label2={translate('landing.tab2_label')}\r\n                                />\r\n                            </div>\r\n                            <h2 className={classNames(classes.textMono, classes.textH1, classes.textLeft, classes.uppercase, classes.dNone, classes.dMdBlock)}>\r\n                                {translate('landing.what')}\r\n                            </h2>                                              \r\n                        </Grid>\r\n                        <Grid item xs={12} md={7} lg={8}>\r\n                            <div className={classNames(classes.dFlex, classes.justifyContentCenter, classes.justifyContentMdStart, classes.w100, classes.mt6, classes.mtMd0)}>\r\n                                <div className={classNames(classes.dFlex, classes.flexCol)}>\r\n                                    <div className={classNames(classes.dFlex, classes.howItWorksRow)}>\r\n                                        <div className={classNames(classes.howItWorksCircle, classes.textSans, classes.fontMedium)}>\r\n                                            1\r\n                                        </div>\r\n                                        <div className={classNames(classes.ml4)}>\r\n                                            <div className={classNames(classes.textH3, classes.fontSemibold)}>\r\n                                                {translate('landing.step1_title')}\r\n                                            </div>\r\n                                            <div className={classNames(classes.fontRegular, classes.dMdNone, classes.mt2)}>\r\n                                                {!this.state.stepperExpand ? translate('landing.step1_description') : translate('landing.step1_description_full')}\r\n                                            </div>\r\n                                            <div className={classNames(classes.mt2, classes.fontRegular, classes.dNone, classes.dMdBlock)}>\r\n                                                {translate('landing.step1_description_full')}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className={classNames(classes.dFlex, classes.howItWorksRow, classes.mt5, classes.mtMd9)}>\r\n                                        <div className={classNames(classes.howItWorksCircle, classes.textSans, classes.fontMedium)}>\r\n                                            2\r\n                                        </div>\r\n                                        <div className={classNames(classes.ml4)}>\r\n                                            <div className={classNames(classes.textH3, classes.fontSemibold)}>\r\n                                                {translate('landing.step2_title')}\r\n                                            </div>\r\n                                            <div className={classNames(classes.fontRegular, classes.dMdNone, classes.mt2)}>\r\n                                                {!this.state.stepperExpand ? translate('landing.step2_description') : translate('landing.step2_description_full')}\r\n                                            </div>\r\n                                            <div className={classNames(classes.mt2, classes.fontRegular, classes.dNone, classes.dMdBlock)}>\r\n                                                {translate('landing.step2_description_full')}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className={classNames(classes.dFlex, classes.howItWorksRow, classes.mt5, classes.mtMd9)}>\r\n                                        <div className={classNames(classes.howItWorksCircle, classes.textSans, classes.fontMedium)}>\r\n                                            3\r\n                                        </div>\r\n                                        <div className={classNames(classes.ml4)}>\r\n                                            <div className={classNames(classes.textH3, classes.fontSemibold)}>\r\n                                                {translate('landing.step3_title')}\r\n                                            </div>\r\n                                            <div className={classNames(classes.fontRegular, classes.dMdNone, classes.mt2)}>\r\n                                                {!this.state.stepperExpand ? translate('landing.step3_description') : translate('landing.step3_description_full')}\r\n                                            </div>\r\n                                            <div className={classNames(classes.mt2, classes.fontRegular, classes.dNone, classes.dMdBlock)}>\r\n                                                {translate('landing.step3_description_full')}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>                             \r\n                                </div>\r\n                            </div>  \r\n                        </Grid>\r\n                    </Grid>\r\n                </div>\r\n\r\n                <div className={classNames(classes.challengesTitleBgOverlay, classes.pt8, classes.pbMd12, classes.ptMd10)}>\r\n                    <div className={classNames(classes.container)}>\r\n                        <Grid\r\n                            container\r\n                            direction=\"row\"                                              \r\n                        > \r\n                            <Grid item xs={12} className={classNames(classes.textCenter, classes.textLgLeft)}>\r\n                                <h2 className={classNames(classes.textMono, classes.uppercase,classes.dMdNone)}>\r\n                                    {translate('landing.challenges')}\r\n                                </h2>   \r\n                                <h2 className={classNames(classes.textMono, classes.uppercase, classes.textH1, classes.dNone, classes.dMdBlock)}>\r\n                                    {translate('landing.challenges')}\r\n                                </h2>                                            \r\n                            </Grid>                           \r\n                        </Grid>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={classNames(classes.challengesBgOverlay)}>\r\n                    <div className={classNames(classes.container, classes.pb9, classes.pt6, classes.pyMd0)}>\r\n                        <Grid\r\n                            container\r\n                            direction=\"row\"\r\n                            justify=\"center\"                                           \r\n                        >                          \r\n                            <Grid item xs={12} className={classNames(classes.dMdNone)}>\r\n                                <div className={classNames(classes.carouselFullwidth)}>\r\n                                    <Flickity\r\n                                        className={classNames(classes.carouselSpacing)}\r\n                                        options={flickityOptions}\r\n                                        reloadOnUpdate={true}\r\n                                    >\r\n                                        {this.renderChallenges()}\r\n                                    </Flickity>\r\n                                </div>                                              \r\n                            </Grid>\r\n\r\n                            <Grid item xs={12} className={classNames(classes.dNone, classes.dMdBlock)}>\r\n                                <Grid\r\n                                    container\r\n                                    direction=\"row\"  \r\n                                    className={classNames(classes.challengeItemsContainer)}                                            \r\n                                >\r\n                                    {this.renderChallenges(false)}\r\n                                </Grid>\r\n                            </Grid>\r\n\r\n\r\n\r\n                        </Grid>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={classNames(classes.container, classes.py11, classes.pyMd13, classes.newsletterAnchor)}>\r\n                    <Grid\r\n                        container\r\n                        direction=\"row\"                                              \r\n                    >    \r\n                        <Grid item xs={12} md={5} lg={4} className={classNames()}>\r\n                           \r\n                            <h2 className={classNames(classes.textMono, classes.textH2, classes.uppercase)}>\r\n                               {translate('subscribe.title')}\r\n                            </h2>  \r\n                            <div className={classNames(classes.mt1, classes.fontMedium)}>\r\n                                {translate('subscribe.description')}\r\n                            </div>\r\n                            \r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}  md={7} lg={7} xl={6} className={classNames(classes.mt3, classes.mtMd0)}>\r\n                            <TextField\r\n                                onChange={this.handleEmailChange}\r\n                                fullWidth\r\n                                required\r\n                                value={this.state.email.value}\r\n                                type=\"email\"\r\n                                field=\"email\" \r\n                                errorText={this.state.email.errorText}                    \r\n                            />\r\n                            <div className={classNames(classes.dFlex, classes.flexCol, classes.flexLgRow, classes.justifyContentLgBetween, classes.alignItemsLgCenter, classes.mt3, classes.mtLg5)}>\r\n                                <Checkbox\r\n                                    onChange={this.handleCheckChange}\r\n                                    fullWidth\r\n                                    required\r\n                                    value={this.state.checkConditions.value}\r\n                                    field=\"checkConditions\"\r\n                                    label={translate('subscribe.check')}\r\n                                    className={classNames()}\r\n                                    errorText={this.state.checkConditions.errorText}\r\n                                />\r\n                                <Button className={classNames(classes.mt7, classes.mtLg0)} fullwidth onClick={this.handleSubscribe} arrow>\r\n                                    {translate('subscribe.submit')}\r\n                                </Button>\r\n                            </div>\r\n\r\n                            {(this.state.subscribeShowSuccess || this.state.subscribeShowError) &&\r\n                                <div className={classNames(classes.subNotify,classes.mt3, this.state.subscribeShowSuccess && classes.notifySuccess, this.state.subscribeShowError && classes.notifyError )}>\r\n                                    {this.state.subscribeShowSuccess ? translate('subscribe.success') : this.state.subscribeShowError ? translate('subscribe.error') : ''}\r\n                                </div>\r\n                            }\r\n                        </Grid>\r\n                    </Grid>\r\n                </div>        \r\n\r\n                \r\n                <Grid\r\n                    container\r\n                    direction=\"row\"\r\n                    className={classNames(classes.dMdNone)}                                             \r\n                > \r\n                    <Grid item xs={12} md={6} className={classNames(classes.px5, classes.py9, classes.bgSecondary, classes.socialShare)}>\r\n                        <div className={classNames(classes.dFlex, classes.flexCol, classes.h100)}>\r\n                            <h2 className={classNames(classes.textMono, classes.uppercase, classes.textWhite, classes.textH2)}>\r\n                                {translate('landing.share_title')}\r\n                            </h2>   \r\n                            <div className={classNames(classes.mt2, classes.fontMedium, classes.textWhite, classes.mb9, classes.mbMd0)}>\r\n                                {translate('landing.share_description')}\r\n                            </div>\r\n                        </div>                                           \r\n                    </Grid>\r\n\r\n                    <Grid item xs={12} md={6} className={classNames(classes.shareImgCol)}>\r\n                        <img src={'./img/phone-share.png'} className={classNames(classes.shareImg)}/>                                       \r\n                    </Grid>\r\n\r\n                    <Grid item xs={12} className={classNames(classes.px5, classes.socialShareButtonHolder, classes.dMdNone)}>\r\n                        <div className={classNames(classes.dFlex, classes.justifyContentCenter)}>\r\n                            <Button className={classNames(classes.socialShareButton)} fullwidth arrow onClick={this.handleShare}>\r\n                                {translate('landing.share')}\r\n                            </Button> \r\n                        </div>                            \r\n                    </Grid>                    \r\n                </Grid>\r\n\r\n                <div className={classNames(classes.socialShareDesktop, classes.dNone, classes.dMdBlock)}>\r\n                    <div className={classNames(classes.container, classes.h100)}>\r\n                        <Grid\r\n                            container\r\n                            direction=\"row\"\r\n                            className={classNames(classes.h100)}                                             \r\n                        > \r\n                            <Grid item xs={12} md={6} className={classNames(classes.px5, classes.py9, classes.bgSecondary, classes.socialShare)}>\r\n                                <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.h100)}>\r\n                                    <div className={classNames(classes.dFlex, classes.flexCol, classes.alignItemsStart)}>\r\n                                        <h2 className={classNames(classes.textMono, classes.uppercase, classes.textWhite, classes.textH1)}>\r\n                                            {translate('landing.share_title')}\r\n                                        </h2>   \r\n                                        <div className={classNames(classes.mt4, classes.fontMedium, classes.textWhite, classes.mb9, classes.mbMd0)}>\r\n                                            {translate('landing.share_description')}\r\n                                        </div>\r\n                                        <Button className={classNames(classes.mt5)} minWidth={250} arrow onClick={this.handleShare}>\r\n                                            {translate('landing.share')}\r\n                                        </Button>\r\n                                    </div>   \r\n                                </div>                                        \r\n                            </Grid>                          \r\n\r\n                                               \r\n                        </Grid>\r\n                    </div>\r\n\r\n                    <img src={'./img/phone-share.png'} className={classNames(classes.socialShareDesktopPhone)}/>  \r\n\r\n                </div>\r\n\r\n                {/* <div className={classNames(classes.forYourselfImgHolder, classes.mt11, classes.imageFitHolder, classes.dMdNone)}>\r\n                    <img src={'./img/girl-mountain.jpg'} className={classNames(classes.forYourselfImg, classes.imageFit)}/>       \r\n                </div>\r\n\r\n                <div className={classNames(classes.container, classes.dMdNone)}>\r\n                    <Grid\r\n                        container\r\n                        direction=\"row\"                                              \r\n                    >    \r\n                        <Grid item xs={12} className={classNames(classes.mt4)}>\r\n                            <h3 className={classNames(classes.textH3)}>Nepredbiehame sa</h3>\r\n                            <div className={classNames(classes.mt2, classes.textBlock)}>\r\n                                a nevyhrávame jeden nad druhým. Cieľom je zažiť tie najkrajšie zážitky a spomínať na ne do konca života. Vystúp z komfortu a zaži to, o čom si doteraz len sníval. Vyhraj nad sebou, nie nad ostatnými.\r\n                            </div>     \r\n                            <hr className={classNames(classes.hrLine, classes.mt4, classes.mb5)}/>                      \r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames()}>\r\n                            <img src={'./img/producer.jpg'} className={classNames(classes.w100)}/> \r\n                            <h3 className={classNames(classes.textH3, classes.mt4)}>Udrzatelnost</h3>\r\n                            <div className={classNames(classes.mt2, classes.textBlock)}>\r\n                                Všetky produkty a materiály vyberáme s veľkým dôrazom na prírodu. Podporujeme malých lokálnych výrobcov, pretože príroda nám nie je ľahostajná.\r\n                            </div>    \r\n                        </Grid>\r\n                    </Grid>\r\n                </div> */}\r\n\r\n                <div className={classNames(classes.mt11, classes.mtMd13 )}>\r\n                    <Grid\r\n                        container\r\n                        direction=\"row\"                                              \r\n                    >    \r\n                        <Grid item xs={12} md={6} className={classNames()}>\r\n                            <div className={classNames(classes.imageFitHolder, classes.bigPhotoHolder)}>\r\n                                <img src={'./img/girl-mountain-desktop.jpg'} className={classNames(classes.imageFit)}/> \r\n                            </div>  \r\n                            <div className={classNames(classes.dFlex, classes.justifyContentMdCenter, classes.mtMd7, classes.p5, classes.pMd0)}>\r\n                                <div className={classNames(classes.dFlex, classes.flexCol, classes.bigPhotoContent)}>\r\n                                    <h3 className={classNames(classes.textH2)}>{translate('landing.p1_title')}</h3>\r\n                                    <div className={classNames(classes.mt3, classes.textBlock)}>\r\n                                        {translate('landing.p1_description')}\r\n                                    </div>\r\n                                </div>\r\n                            </div>               \r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} md={6} className={classNames(classes.mt5, classes.mtMd0)}>\r\n                            <div className={classNames(classes.imageFitHolder, classes.bigPhotoHolder)}>\r\n                                <img src={'./img/forest-desktop.jpg'} className={classNames(classes.imageFit)}/> \r\n                            </div>  \r\n                            <div className={classNames(classes.dFlex, classes.justifyContentMdCenter, classes.mtMd7, classes.p5, classes.pMd0)}>\r\n                                <div className={classNames(classes.dFlex, classes.flexCol, classes.bigPhotoContent)}>\r\n                                    <h3 className={classNames(classes.textH2)}>{translate('landing.p2_title')}</h3>\r\n                                    <div className={classNames(classes.mt3, classes.textBlock)}>\r\n                                        {translate('landing.p2_description')}\r\n                                    </div>\r\n                                </div>\r\n                            </div>               \r\n                        </Grid>                       \r\n                    </Grid>      \r\n                </div>\r\n\r\n                <div className={classNames(classes.dMdNone)} style={{background: '#F7F7F7'}}>\r\n                    <div className={classNames(classes.container, classes.mt8, classes.py8)}>\r\n                        <Grid\r\n                            container\r\n                            direction=\"row\"                                              \r\n                        >                    \r\n                            <Grid item xs={12} className={classNames()}>\r\n                                <h2 className={classNames(classes.textH2, classes.textMono, classes.uppercase)}>\r\n                                    {translate('landing.badges_description')}\r\n                                </h2>\r\n                                <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.textMono, classes.fontMedium, classes.mt3)}>\r\n                                    <InstagramIcon className={classNames(classes.mr2)}/>\r\n                                    @dobyhory\r\n                                </div>\r\n                                <div className={classNames(classes.w100, classes.mt7, classes.textCenter)}>\r\n                                    <img src={'./img/medals/medal.png'} className={classNames(classes.w100)} style={{maxWidth: '500px'}}/> \r\n                                </div>                          \r\n                                {/* <div className={classNames(classes.dFlex, classes.justifyContentCenter)}>\r\n                                    <Button className={classNames(classes.mt4)} fullwidth>\r\n                                        Objav vyzvy\r\n                                    </Button> \r\n                                </div>     */}\r\n                            </Grid>\r\n                        </Grid>\r\n                    </div> \r\n                </div>\r\n\r\n                <div className={classNames(classes.dNone, classes.dMdBlock, classes.mt10)} style={{background: '#F7F7F7'}}>\r\n                    <div className={classNames(classes.container, classes.py10)}>\r\n                        <Grid\r\n                            container\r\n                            direction=\"row\"                                              \r\n                        >                    \r\n                            <Grid item md={6} lg={7} className={classNames(classes.pr8, classes.prLg0)}>\r\n                                <h2 className={classNames(classes.textH1, classes.textMono, classes.uppercase)}>\r\n                                    {translate('landing.badges_description')}\r\n                                </h2> \r\n                                <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.textMono, classes.fontMedium, classes.mt3)}>\r\n                                    <InstagramIcon className={classNames(classes.mr2)}/>\r\n                                    @dobyhory\r\n                                </div>                                  \r\n                            </Grid>\r\n                            <Grid item md={6} lg={5} className={classNames(classes.positionRelative)}>\r\n                                <img src={'./img/medals/medal-desktop.png'} className={classNames(classes.newMedalsImg)}/>                          \r\n                            </Grid>\r\n                        </Grid>\r\n                    </div> \r\n                </div>\r\n\r\n                <div id=\"newsletter\" className={classNames(classes.container, classes.bgSecondary, classes.dMdNone)}>\r\n                    <Grid\r\n                        container\r\n                        direction=\"row\"                                              \r\n                    >    \r\n                        <Grid item xs={12} className={classNames(classes.py11)}>\r\n                           \r\n                            <h2 className={classNames(classes.textMono, classes.textH2, classes.uppercase, classes.textWhite)}>\r\n                               {translate('subscribe.title')}\r\n                            </h2>  \r\n                            <div className={classNames(classes.mt2, classes.fontMedium, classes.textWhite)}>\r\n                                {translate('subscribe.description')}\r\n                            </div>\r\n\r\n                            <TextField\r\n                                onChange={this.handleEmailChange}\r\n                                fullWidth\r\n                                required\r\n                                value={this.state.email.value}\r\n                                field=\"email\"    \r\n                                className={classNames(classes.mt5, classes.mb2)}  \r\n                                errorText={this.state.email.errorText}                            \r\n                            />\r\n                            <Checkbox\r\n                                onChange={this.handleCheckChange}\r\n                                fullWidth\r\n                                required\r\n                                value={this.state.checkConditions.value}\r\n                                field=\"checkConditions\"\r\n                                label={translate('subscribe.check')}\r\n                                labelClasses={classNames(classes.textWhite)}\r\n                                light={true}\r\n                                errorText={this.state.checkConditions.errorText} \r\n                            />\r\n                            <Button className={classNames(classes.mt7)} fullwidth onClick={this.handleSubscribe} arrow>\r\n                                {translate('subscribe.submit')}\r\n                            </Button>\r\n\r\n                            {(this.state.subscribeShowSuccess || this.state.subscribeShowError) &&\r\n                                <div className={classNames(classes.subNotify,classes.mt3, this.state.subscribeShowSuccess && classes.notifySuccess, this.state.subscribeShowError && classes.notifyError )}>\r\n                                    {this.state.subscribeShowSuccess ? translate('subscribe.success') : this.state.subscribeShowError ? translate('subscribe.error') : ''}\r\n                                </div>\r\n                            }\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames()}>\r\n                            \r\n                        </Grid>\r\n                    </Grid>\r\n                </div>\r\n\r\n                <div className={classNames(classes.bgSecondary, classes.dNone, classes.dMdBlock, classes.newsletterFormDesktop)}>\r\n                    <div className={classNames(classes.container, classes.py11, classes.pyMd13)}>\r\n                        <Grid\r\n                            container\r\n                            direction=\"row\"                                              \r\n                        >    \r\n                            <Grid item xs={12} md={5} lg={4} className={classNames()}>\r\n                            \r\n                                <h2 className={classNames(classes.textMono, classes.textH2, classes.uppercase, classes.textWhite)}>\r\n                                    {translate('subscribe.title')}\r\n                                </h2>  \r\n                                <div className={classNames(classes.mt2, classes.fontMedium, classes.textWhite)}>\r\n                                    {translate('subscribe.description')}\r\n                                </div>\r\n                                \r\n                            </Grid>\r\n\r\n                            <Grid item xs={12}  md={7} lg={7} xl={6} className={classNames(classes.mt3, classes.mtMd0)}>                               \r\n                                <div className={classNames(classes.dFlex, classes.flexCol, classes.flexLgRow, classes.justifyContentLgBetween, classes.alignItemsEnd, classes.alignItemsLgStart, classes.mt3, classes.mtLg5)}>\r\n                                    <TextField\r\n                                        onChange={this.handleEmailChange}\r\n                                        fullWidth\r\n                                        required\r\n                                        value={this.state.email.value}\r\n                                        field=\"email\"    \r\n                                        errorText={this.state.email.errorText}                   \r\n                                    />\r\n                                    <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.justifyContentBetween, classes.mt3, classes.mtLg0)}>\r\n                                        <Checkbox\r\n                                            onChange={this.handleCheckChange}\r\n                                            fullWidth\r\n                                            required\r\n                                            value={this.state.checkConditions.value}\r\n                                            field=\"checkConditions\"\r\n                                            label={translate('subscribe.check')}\r\n                                            className={classNames(classes.dLgNone)}\r\n                                            labelClasses={classNames(classes.textWhite)}\r\n                                            light={true}\r\n                                            errorText={this.state.checkConditions.errorText} \r\n                                        />\r\n                                        <Button className={classNames(classes.ml4, classes.mtLg0)} minWidth={200} onClick={this.handleSubscribe} arrow>\r\n                                            {translate('subscribe.submit')}\r\n                                        </Button>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className={classNames(classes.justifyContentEnd, classes.mt4, classes.dNone, classes.dLgFlex)}>\r\n                                    <Checkbox\r\n                                        onChange={this.handleCheckChange}\r\n                                        fullWidth\r\n                                        required\r\n                                        value={this.state.checkConditions.value}\r\n                                        field=\"checkConditions\"\r\n                                        label={translate('subscribe.check')}\r\n                                        className={classNames()}\r\n                                        labelClasses={classNames(classes.textWhite)}\r\n                                        light={true}\r\n                                        errorText={this.state.checkConditions.errorText} \r\n                                    />\r\n                                </div>\r\n\r\n                                <div className={classNames(classes.dFlex, classes.w100, classes.justifyContentEnd)}>\r\n                                    {(this.state.subscribeShowSuccess || this.state.subscribeShowError) &&\r\n                                        <div className={classNames(classes.subNotify,classes.mt3, this.state.subscribeShowSuccess && classes.notifySuccess, this.state.subscribeShowError && classes.notifyError )}>\r\n                                            {this.state.subscribeShowSuccess ? translate('subscribe.success') : this.state.subscribeShowError ? translate('subscribe.error') : ''}\r\n                                        </div>\r\n                                    }\r\n                                </div>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </div> \r\n                </div>\r\n\r\n                <div className={classNames(classes.container, classes.py10, classes.pyMd11, classes.pyLg12)}>\r\n                    <Grid\r\n                        container\r\n                        direction=\"row\"                                              \r\n                    > \r\n                        <Grid item xs={12} md={5} lg={4} className={classNames(classes.mb5, classes.mbMd0)}>\r\n                            {/* <div className={classNames(classes.textH3, classes.textMono, classes.uppercase)}>\r\n                                Otazky?\r\n                            </div> */}\r\n                            <h2 className={classNames(classes.textMono, classes.textH3, classes.uppercase, classes.dMdNone)}>\r\n                                {translate('landing.faq')}\r\n                            </h2>\r\n                            <h2 className={classNames(classes.textMono, classes.textH1, classes.textLeft, classes.uppercase, classes.dNone, classes.dMdBlock)}>\r\n                                {translate('landing.faq')}\r\n                            </h2> \r\n                        </Grid>\r\n                        <Grid item xs={12} md={7} lg={8} className={classNames()}>\r\n                            <Faq questions={posts.data}/>\r\n                        </Grid>\r\n                    </Grid>\r\n                </div>  \r\n\r\n                <div className={classNames(classes.footerBg)}>\r\n                    <div className={classNames(classes.container)}>\r\n                        <Grid\r\n                            container\r\n                            direction=\"row\"                                              \r\n                        > \r\n                            <Grid item xs={12} className={classNames(classes.dFlex, classes.alignItemsCenter, classes.w100, classes.justifyContentBetween, classes.py6, classes.dMdNone)}>\r\n                                <div className={classNames(classes.dFlex, classes.flexCol)}>\r\n                                    <div className={classNames()}>\r\n                                        {translate('contact.title')}\r\n                                    </div>\r\n                                    <a className={classNames(classes.fontBold,)}>\r\n                                        {translate('contact.email')}\r\n                                    </a>\r\n                                </div>\r\n                                <div className={classNames(classes.dFlex, classes.alignItemsCenter)}>\r\n                                    <a className={classNames(classes.mr5)} href={translate('contact.instagram')} rel=\"noreferrer\">\r\n                                        <InstagramIcon size={25} />\r\n                                    </a>\r\n                                    <a className={classNames()} href={translate('contact.fb')} rel=\"noreferrer\">\r\n                                        <FacebookIcon size={25} />\r\n                                    </a>\r\n                                </div>\r\n                            </Grid>\r\n\r\n                            <Grid item xs={12} className={classNames(classes.alignItemsCenter, classes.w100, classes.py6, classes.dNone, classes.dMdFlex)}>                                \r\n                                <div className={classNames(classes.dFlex, classes.alignItemsCenter)}>\r\n                                    <a className={classNames(classes.mr5)} href={translate('contact.instagram')} target=\"_blank\" rel=\"noreferrer\">\r\n                                        <InstagramIcon size={25} />\r\n                                    </a>\r\n                                    <a className={classNames()} href={translate('contact.fb')} target=\"_blank\" rel=\"noreferrer\">\r\n                                        <FacebookIcon size={25} />\r\n                                    </a>\r\n                                </div>\r\n\r\n                                <a className={classNames(classes.fontBold, classes.ml6)}>\r\n                                    {translate('contact.email')}\r\n                                </a>\r\n                            </Grid>\r\n                        \r\n                        </Grid>\r\n                    </div>\r\n                </div> \r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withLocalization,\r\n    withDoby\r\n)(LandingCountdown);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { withRouter } from 'react-router';\r\nimport getSharedStyles from '../../style';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nimport compose from '../../compose';\r\nimport withUser from '../../consumers/withUser';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n});\r\n\r\n\r\nclass Challenges extends React.Component {\r\n    constructor(props) {\r\n        super(props);       \r\n        this.state = {\r\n\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div onClick={()=>this.props.history.push('challenge-detail')}>\r\n                asdasdads\r\n            </div>\r\n        )\r\n    }\r\n} \r\n\r\n\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withUser,\r\n  withRouter\r\n)(Challenges);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport getSharedStyles from '../../style';\r\nimport classNames from 'classnames';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport compose from '../../compose';\r\nimport withUser from '../../consumers/withUser';\r\nimport Flickity from \"react-flickity-component\";\r\nimport Button from '../dobyComponents/form/Button';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    introSection: {\r\n        minHeight: 'calc(100vh - 60px)',\r\n        height: 'calc(100vh - 60px)',\r\n        width: '100%',\r\n        background: 'url(\"/img/intro-bg.jpg\")',\r\n        backgroundSize: 'cover',\r\n        backgroundPosition: 'center',\r\n        backgroundRepeat: 'no-repeat',\r\n        position: 'relative',\r\n        '&:after': {\r\n            content: \"''\",\r\n            display: 'block',\r\n            width: '100%',\r\n            height: '100%',\r\n            position: 'absolute',\r\n            top: 0,\r\n            left: 0,\r\n            background: 'linear-gradient(0deg, rgba(0,0,0,0.35) 0%, rgba(0,0,0,0) 100%)'\r\n        }\r\n    },\r\n    challengeLogo: {\r\n        width: '100px',\r\n        height: 'auto',\r\n        zIndex: 4,\r\n    },\r\n    challengeIntroContent: {\r\n        paddingBottom: '120px',\r\n        zIndex: 4,\r\n    },\r\n    summitsDetail: {\r\n        minHeight: 'calc(100vh - 60px)',\r\n        height: 'calc(100vh - 60px)',\r\n        width: '100%',\r\n        background: 'url(\"/img/challenge-card.jpg\")',\r\n        backgroundSize: 'cover',\r\n        backgroundPosition: 'center',\r\n        backgroundRepeat: 'no-repeat',\r\n        position: 'relative',\r\n        '&:after': {\r\n            content: \"''\",\r\n            display: 'block',\r\n            width: '100%',\r\n            height: '100%',\r\n            position: 'absolute',\r\n            top: 0,\r\n            left: 0,\r\n            background: 'linear-gradient(0deg, rgba(0,0,0,0.35) 0%, rgba(0,0,0,0) 100%)'\r\n        }\r\n    },\r\n    summitsDetailContent: {\r\n        zIndex: 4,\r\n        position: 'relative',        \r\n    },  \r\n    summitsCarousel: {\r\n        '& .flickity-viewport': {\r\n            //padding: '7px'\r\n        },\r\n        '& .carousel-cell:first-child': {\r\n            paddingLeft: '1.25rem'\r\n        },\r\n        '& .carousel-cell:last-child': {\r\n            //paddingRight: '0.5rem',\r\n        }\r\n    },\r\n    summitCarouselItem: {\r\n        background: 'rgba(255,255,255,0.5)',\r\n        whiteSpace: 'nowrap',\r\n        minWidth: '160px',\r\n    },\r\n    summitCarouselItemActive: {\r\n        background: 'rgba(255,255,255,1)', \r\n    }\r\n});\r\n\r\nconst flickityOptions = {\r\n    cellAlign: 'center',\r\n    contain: true,\r\n    prevNextButtons: false,\r\n    pageDots: false\r\n}\r\n\r\n\r\nclass ChallengeDetail extends React.Component {\r\n    constructor(props) {\r\n        super(props);       \r\n        this.state = {\r\n            \r\n        }\r\n    }\r\n\r\n    renderSummits = () => {\r\n        const { classes } = this.props;\r\n        let summits = [\r\n            {id: 0, name: 'Vychodna vysoka', altitude: 2495},\r\n            {id: 1, name: 'Koprovsky stit', altitude: 2495},\r\n            {id: 2, name: 'Rysy', altitude: 2495},\r\n            {id: 3, name: 'Krivan', altitude: 2495, active: true},\r\n            {id: 4, name: 'Slavkosky stit', altitude: 2495},\r\n            {id: 5, name: 'Jahnaci stit', altitude: 2495},\r\n        ]\r\n\r\n        return summits.map(summit=>{\r\n            return (\r\n                <div className={classNames(\"carousel-cell\")}>\r\n                    <div className={classNames(classes.summitCarouselItem, summit.active && classes.summitCarouselItemActive, classes.flexCol, classes.alignItemsCenter, classes.roundedMd, classes.px5, classes.py2, classes.mr5)}>\r\n                        <div className={classNames(classes.fontBold)}>\r\n                            {summit.name}\r\n                        </div>\r\n                        <div className={classNames()}>\r\n                            {summit.altitude}\r\n                        </div>\r\n                    </div>\r\n                </div>              \r\n            )\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const {classes} = this.props;\r\n        return (\r\n            <>\r\n                <div className={classNames(classes.introSection)}>\r\n                    <div className={classNames(classes.container, classes.pt5, classes.h100)}>\r\n                        <div className={classNames(classes.flexCol, classes.h100, classes.w100, classes.justifyContentBetween)}>\r\n                            <div className={classNames(classes.challengeLogoHolder)}>\r\n                                <img src={\"./img/dobylogo.png\"} className={classNames(classes.challengeLogo)}/>\r\n                            </div>                          \r\n                            <div className={classNames(classes.flexCol, classes.challengeIntroContent)}>\r\n                                <h3 className={classNames(classes.fontBold, classes.textWhite)}>\r\n                                    Doby Tatry 2021\r\n                                </h3>\r\n                                <div className={classNames(classes.textWhite, classes.mt2)}>\r\n                                    6 najkrajších vrcholov z Vysokých Tatier. Vysoké Tatry sú považované za najkrajšie pohorie na Slovensku a s touto výzvou \r\n                                    spoznáš to najlepšie z nich. \r\n                                </div>\r\n                                <div className={classNames(classes.fontBold, classes.textWhite, classes.mt4)}>\r\n                                    Termin\r\n                                </div>\r\n                                <div className={classNames(classes.textWhite, classes.mt1)}>\r\n                                    Od 1.7 do 30.9.2021\r\n                                </div>\r\n                                <div className={classNames(classes.dFlex, classes.alignItemsCenter, classes.mt2,)}>\r\n                                    <div className={classNames(classes.flexCol)}>\r\n                                        <div className={classNames(classes.fontBold, classes.textWhite, classes.mt4)}>\r\n                                            Obtiaznost\r\n                                        </div>\r\n                                        <div className={classNames(classes.textWhite, classes.mt1)}>\r\n                                            Narocna\r\n                                        </div>  \r\n                                    </div>\r\n                                    <div className={classNames(classes.flexCol, classes.ml6)}>\r\n                                        <div className={classNames(classes.fontBold, classes.textWhite, classes.mt4)}>\r\n                                            Casova narocnost\r\n                                        </div>\r\n                                        <div className={classNames(classes.textWhite, classes.mt1)}>\r\n                                            6 celodennych tur\r\n                                        </div>  \r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={classNames(classes.summitsDetail)}>\r\n                    <div className={classNames(classes.flexCol, classes.h100, classes.justifyContentEnd, classes.summitsDetailContent)}>\r\n                        <div className={classNames(classes.container)}>\r\n                            <Grid\r\n                                container\r\n                                direction=\"row\"\r\n                                justify=\"center\"\r\n                                alignItems=\"center\"\r\n                            >\r\n                                <Grid item xs={12} className={classNames(classes.mt4)}>\r\n                                    <div className={classNames(classes.flexCol)}>\r\n                                        <div className={classNames(classes.fontBold, classes.textWhite, classes.mt4)}>\r\n                                            Obtiaznost\r\n                                        </div>\r\n                                        <div className={classNames(classes.textWhite, classes.mt1)}>\r\n                                            Narocna\r\n                                        </div>  \r\n                                    </div>\r\n                                </Grid>\r\n\r\n                                <Grid item xs={12} className={classNames(classes.mt4)}>\r\n                                    <div className={classNames(classes.flexCol)}>\r\n                                        <div className={classNames(classes.fontBold, classes.textWhite, classes.mt4)}>\r\n                                            Najkratsia trasa\r\n                                        </div>\r\n                                        <div className={classNames(classes.textWhite, classes.mt1)}>\r\n                                            <span>7:06h</span><span className={classNames(classes.ml5)}>11,4km</span><span className={classNames(classes.ml5)}>+1 355m</span>\r\n                                        </div>                                      \r\n                                    </div>\r\n                                </Grid>\r\n\r\n                                <Grid item xs={12} className={classNames(classes.mt4)}>\r\n                                    <div className={classNames(classes.textWhite, classes.mt4)}>\r\n                                        Ikona Slovenska a mnohými považovaný \r\n                                        za najkrajší vrchol v Tatrách. Z jeho vrcholu je \r\n                                        nádherný výhľad na celé Tatry a na Západné Tatry. Hovorí sa, že každý Slovák, by ho mal aspoň raz v živote zdolať.\r\n                                    </div>\r\n                                </Grid>                           \r\n                            </Grid>\r\n                        </div>\r\n\r\n                        <div className={classNames(classes.summitsCarouselHolder, classes.mt5, classes.mb8)}>\r\n                            <Flickity\r\n                                className={classNames(classes.summitsCarousel)}\r\n                                options={flickityOptions}\r\n                                reloadOnUpdate={true}\r\n                            >\r\n                                {this.renderSummits()}\r\n                            </Flickity>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={classNames(classes.container)} style={{paddingBottom: '120px'}}>\r\n                    <Grid\r\n                        container\r\n                        direction=\"row\"\r\n                        justify=\"center\"\r\n                        alignItems=\"center\"\r\n                    >\r\n                        <Grid item xs={12} className={classNames(classes.mt4)}>\r\n                            <Button fullwidth onClick={()=>this.props.history.push('challenge-checkout')}>Prijat vyzvu od 22€</Button>\r\n                        </Grid>\r\n                    </Grid>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n} \r\n\r\n\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withUser\r\n)(ChallengeDetail);","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport getSharedStyles from '../../style';\r\nimport Modal from '@material-ui/core/Modal';\r\n//import classNames from 'classnames';\r\nimport { withLocalization } from '../shared/localization'\r\nimport compose from '../../compose';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    modalWrapper: {\r\n        background: 'white',\r\n        padding: '1rem'\r\n    }\r\n});\r\n\r\nfunction DobyModal(props) {\r\n    const { classes } = props;\r\n    return (\r\n        <Modal\r\n            aria-labelledby=\"simple-modal-title\"\r\n            aria-describedby=\"simple-modal-description\"\r\n            open={props.isOpen}\r\n            onClose={props.onClose}\r\n        >\r\n            <div className={classes.modalWrapper}>\r\n                { props.children }\r\n            </div>\r\n        </Modal>\r\n    )\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withLocalization\r\n)(DobyModal);","import React, { useState, useEffect } from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport withStore from '../../../consumers/withStore';\r\nimport withDoby from '../../../consumers/withDoby';\r\nimport getSharedStyles from '../../../style';\r\nimport classNames from 'classnames';\r\nimport { withLocalization } from '../../shared/localization'\r\nimport Select from '../../shared/Select';\r\nimport compose from '../../../compose';\r\nimport Button from '../form/Button';\r\nimport Modal from '../Modal';\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    productImg: {\r\n        maxWidth: '100%'\r\n    },\r\n    thumbnailHolder: {\r\n        height: '110px',\r\n        textAlign: 'center'\r\n    }\r\n});\r\n\r\nclass ProductSmallCard extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            img: null,\r\n            addToCartModal: false,\r\n            selectedProduct: null,\r\n            detailImage: null,\r\n            selectedVariants: {},\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getImg();\r\n    }\r\n\r\n    getImg = async () => {\r\n        try {\r\n            if (this.props.thumbnailId) {\r\n                const data = await this.props.store.getFile(this.props.thumbnailId);\r\n                var reader = new FileReader();\r\n                reader.onloadend = () => {\r\n                    this.setState({ img: reader.result })\r\n                }\r\n                reader.readAsDataURL(data);\r\n            }\r\n        } catch (e) {\r\n            console.error(e);\r\n        }\r\n    }\r\n\r\n    openAddToCartModal = async () => {\r\n        await this.props.doby.getProductsByCatalogId(this.props.catalogId);\r\n        const catalogProducts = this.props.doby.catalog.data;\r\n        if (catalogProducts.length > 0) {\r\n            this.setState({ selectedProduct: catalogProducts[0] }, () => {\r\n                this.fetchDetailImage();\r\n            });\r\n        }\r\n        this.setState({ addToCartModal: true })\r\n    }\r\n\r\n    handleChangeDropdown = (name, value) => {\r\n        this.setState((state) => {\r\n            return {\r\n                ...state,\r\n                selectedVariants: {\r\n                    ...state.selectedVariants,\r\n                    [name]: value\r\n                }\r\n            };\r\n        }, () => {\r\n            const product = this.getProductByDropdownSelection();\r\n            this.setState({ selectedProduct: product }, () => this.fetchDetailImage());\r\n        });\r\n    }\r\n\r\n    fetchDetailImage = async () => {\r\n        const { imageId } = this.state.selectedProduct;\r\n        if (imageId) {\r\n            const data = await this.props.store.getFile(imageId);\r\n            let reader = new FileReader();\r\n            reader.onloadend = () => this.setState({ detailImage: reader.result });\r\n            reader.readAsDataURL(data);\r\n        }\r\n    }\r\n\r\n    getProductByDropdownSelection = () => {\r\n        //NOTE: musíme vybrat tolko dropdownov kolko mame unikatnych parametrov pre produkt variant\r\n        if (Object.keys(this.state.selectedVariants).length !== Object.keys(this.props.doby.productVariants.data).length)\r\n            return null;\r\n\r\n        for (let variant of this.props.doby.catalog.data) {\r\n            let hasAllRequirements = false;\r\n            for (let variantKey in this.state.selectedVariants) {\r\n                if (variant.tech_param && variant.tech_param[variantKey] === this.state.selectedVariants[variantKey]) {\r\n                    hasAllRequirements = true;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (hasAllRequirements)\r\n                return variant\r\n        }\r\n        return null;\r\n    }\r\n\r\n    addToCart = () => {\r\n        if (this.state.selectedProduct) {\r\n            this.props.doby.cartAddProduct(this.state.selectedProduct);\r\n            //this.setState({showSnackbar: true});\r\n        }\r\n    }\r\n\r\n    renderDropdowns = () => {\r\n        let dropdowns = [];\r\n        for (let variantKey in this.props.doby.productVariants.data) {\r\n            dropdowns.push(\r\n                <Select\r\n                    key={variantKey}\r\n                    value={this.state.selectedVariants[variantKey] ? this.state.selectedVariants[variantKey].toString() : ''}\r\n                    field={variantKey}\r\n                    onChange={this.handleChangeDropdown}\r\n                    data={this.props.doby.productVariants.data[variantKey].data}\r\n                    textField={\"name\"}\r\n                    fullWidth\r\n                    required\r\n                />\r\n            );\r\n        }\r\n        return (\r\n            <>\r\n                { dropdowns}\r\n            </>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const { classes, title, price } = this.props;\r\n\r\n        return (\r\n            <>\r\n                <div className={classNames(classes.roundedMd, classes.bgWhite, classes.p4)}>\r\n                    <div className={classNames(classes.flexCol)}>\r\n                        <div className={classNames(classes.thumbnailHolder)}>\r\n                            <img src={this.state.img} className={classNames(classes.productImg)} alt=\"\" />\r\n                        </div>\r\n                        <div className={classNames(classes.textXs, classes.fontSemibold, classes.mt3)}>\r\n                            {title}\r\n                        </div>\r\n                        <div className={classNames(classes.fontBold)}>\r\n                            {price} € <span className={classNames(classes.textXs2, classes.text200, classes.fontRegular)}>s DPH</span>\r\n                        </div>\r\n                        <Button\r\n                            className={classNames(classes.mt4, classes.textXs2)}\r\n                            onClick={this.openAddToCartModal}\r\n                            fullwidth\r\n                        >\r\n                            {this.props.translate('add_to_cart')}\r\n                        </Button>\r\n                        <Button\r\n                            className={classNames(classes.mt2, classes.textXs2)}\r\n                            outline={true}\r\n                            onClick={this.props.onClickViewDetails}\r\n                            fullwidth\r\n                        >\r\n                            {this.props.translate('product_details')}\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n\r\n                <Modal\r\n                    isOpen={this.state.addToCartModal}\r\n                    onClose={() => this.setState({ addToCartModal: false })}\r\n                >\r\n                    {!this.props.doby.catalog.isLoading && <>   \r\n                        <img\r\n                            className={classes.productImg}\r\n                            src={this.state.detailImage ? this.state.detailImage : ''}\r\n                            alt={''}\r\n                        />\r\n                        { this.renderDropdowns() }\r\n                        <Button\r\n                            className={classNames(classes.mt2, classes.textXs2)}\r\n                            outline={true}\r\n                            fullwidth\r\n                            onClick={this.addToCart}\r\n                            disabled={this.state.selectedProduct && this.state.selectedProduct.disabled}\r\n                        >\r\n                            {this.props.translate('add_to_cart')}\r\n                        </Button>\r\n                    </> }\r\n                </Modal>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withLocalization,\r\n    withStore,\r\n    withDoby\r\n)(ProductSmallCard);","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { withRouter } from 'react-router';\r\nimport withStore from '../../consumers/withStore';\r\nimport withDoby from '../../consumers/withDoby';\r\nimport getSharedStyles from '../../style';\r\nimport classNames from 'classnames';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport compose from '../../compose';\r\nimport withUser from '../../consumers/withUser';\r\nimport HillIcon from '@material-ui/icons/TerrainOutlined';\r\n\r\nimport Button from '../dobyComponents/form/Button';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport ProductSmallCard from '../dobyComponents/eshop/ProductSmallCard'\r\nimport { withLocalization } from '../shared/localization';\r\nimport { formatPrice } from '../../utils/helpers'\r\n\r\nconst styles = theme => ({\r\n    ...getSharedStyles(theme),\r\n    checkoutStep: {\r\n        width: '25%',\r\n        height: '60px',\r\n        background: 'red',\r\n    },\r\n    checkoutStepActive: {\r\n        background: 'green'\r\n    },\r\n    logoHolder: {\r\n        width: '80px',\r\n        height: '80px',\r\n        background: 'white',\r\n        borderRadius: '10px',\r\n        textAlign: 'center',\r\n    },\r\n    logolImg: {\r\n        maxWidth: '70px'\r\n    },\r\n    challengeName: {\r\n        color: '#47556A',\r\n        fontSize: '20px',\r\n    },\r\n    stepNumber: {\r\n        height: '40px',\r\n        width: '40px',\r\n        borderRadius: 50,\r\n        textAlign: 'center',\r\n        lineHeight: '40px',\r\n        background: '#333442',\r\n        color: 'white',\r\n    },\r\n\r\n    //package\r\n    challengePackageCard: {\r\n        background: 'white',\r\n        border: '1px solid #C8D2E1'\r\n    },\r\n    challengePackageCardSelected: {\r\n        background: '#333442',\r\n        border: '1px solid #333442',\r\n        color: 'white'\r\n    },\r\n    btnWhite: {\r\n        background: 'white',\r\n        color: '#333442'\r\n    },\r\n    lightText: {\r\n        color: 'rgba(255,255,255,0.4)'\r\n    },\r\n});\r\n\r\n\r\nclass ChallengeCheckout extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            selectedPackage: null,\r\n            selectedGift: null,\r\n            challenge: null,\r\n            challengeLogo: null,\r\n\r\n            //starterPackLowcost: null,\r\n            starterPackStandard: null\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchData();\r\n    }\r\n\r\n    fetchStarterpacks = async () => {\r\n        //NOTE: get all products with category of starterpack\r\n        const filterStarterpack = [\r\n            { field: \"catalog_id\", value: \"pack\" }\r\n        ];\r\n\r\n        //TODO: use find \r\n        const packs = await this.props.doby.getProducts(filterStarterpack);\r\n        await this.setState({ starterPackStandard: packs.data[0]});\r\n    }\r\n\r\n    fetchData = async () => {\r\n        const { _id } = this.props.match.params;\r\n        await this.fetchStarterpacks();\r\n\r\n        const filter = [ { field: \"main\", value: true } ];\r\n\r\n        await this.props.doby.getProducts(filter);\r\n        await this.props.doby.getChallenges();\r\n\r\n        const challenge = this.props.doby.challenges.data.find(x => x._id === _id);\r\n        if (challenge) {\r\n            this.setState({\r\n                challenge\r\n            });\r\n\r\n            this.getChallangeLogo(challenge.logoId)\r\n        }\r\n    }\r\n\r\n    getChallangeLogo = async (logoId) => {\r\n        if (!logoId)\r\n            return;\r\n\r\n        const data = await this.props.store.getFile(logoId)\r\n        var reader = new FileReader();\r\n        reader.onloadend = () => {\r\n            this.setState({ challengeLogo: reader.result });\r\n        }\r\n        reader.readAsDataURL(data);\r\n    }\r\n\r\n    packageChanged = (field, value) => {\r\n        this.setState({\r\n            [field]: value._id\r\n        })\r\n\r\n        if (value._id === this.state.starterPackStandard._id) {\r\n            //this.props.doby.cartRemoveProduct(this.state.starterPackLowcost._id);\r\n            //console.log(this.state.starterPackStandard);\r\n            this.props.doby.cartAddProduct({\r\n                ...this.state.starterPackStandard,\r\n                challengeRef: {id: this.state.challenge._id}\r\n            });\r\n        }\r\n        // if (value._id === this.state.starterPackLowcost._id) {\r\n        //     this.props.doby.cartRemoveProduct(this.state.starterPackStandard._id);\r\n        //     this.props.doby.cartAddProduct({\r\n        //         ...this.state.starterPackLowcost,\r\n        //         challengeRef: {id: this.state.challenge._id}\r\n        //     });\r\n        // }\r\n        //more \r\n    }\r\n\r\n    handleFieldChange = (field, value) => {\r\n        this.setState({\r\n            [field]: value\r\n        })\r\n    }\r\n\r\n    renderProducts = () => {\r\n        const { products } = this.props.doby;\r\n        return products.data.map((product, index) => {\r\n            const { classes } = this.props;\r\n            return (\r\n                <Grid item xs={12} sm={6} className={classNames((index & 1) ? classes.pl2 : classes.pr2, classes.mb4)}>\r\n                    <ProductSmallCard\r\n                        key={product._id}\r\n                        title={product.name}\r\n                        price={product.price_with_tax}\r\n                        thumbnailId={product.thumbnailId}\r\n                        catalogId={product.catalog_id}\r\n                    />\r\n                </Grid>\r\n            )\r\n        })\r\n    }\r\n\r\n    goToCart = () => {\r\n        this.props.history.push(`/eshop/cart`);\r\n    }\r\n\r\n    render() {\r\n        const { classes } = this.props;\r\n        return (\r\n            <>\r\n                <div className={classNames(classes.dFlex, classes.w100)}>\r\n                    <div className={classNames(classes.checkoutStep)}>\r\n\r\n                    </div>\r\n                    <div className={classNames(classes.checkoutStep)}>\r\n\r\n                    </div>\r\n                    <div className={classNames(classes.checkoutStep, classes.checkoutStepActive)}>\r\n\r\n                    </div>\r\n                    <div className={classNames(classes.checkoutStep)}>\r\n\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={classNames(classes.container, classes.mt5)}>\r\n                    <Grid\r\n                        container\r\n                        direction=\"row\"\r\n                        justify=\"flex-start\"\r\n                    >\r\n                        <Grid item xs={12} className={classNames()}>\r\n                            <div className={classNames(classes.dFlex, classes.w100, classes.alignItemsCenter)}>\r\n                                <div className={classNames(classes.logoHolder, classes.dFlex, classes.alignItemsCenter, classes.justifyContentCenter)}>\r\n                                    {this.state.challengeLogo && <img src={this.state.challengeLogo} className={classNames(classes.logolImg)} alt={''} />}\r\n                                </div>\r\n                                <div className={classNames(classes.challengeName, classes.ml4)}>\r\n                                    {this.state.challenge && this.state.challenge.name}\r\n                                </div>\r\n                            </div>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt5, classes.mb6)}>\r\n                            <div className={classNames(classes.dFlex, classes.w100, classes.alignItemsCenter)}>\r\n                                <div className={classNames(classes.stepNumber, classes.textMonoH4, classes.fontSemibold)}>\r\n                                    1\r\n                                </div>\r\n                                <div className={classNames(classes.fontBold, classes.textMonoH4, classes.ml4)}>\r\n                                    {this.props.translate('choose_your_package')}\r\n                                </div>\r\n                            </div>\r\n                        </Grid>\r\n\r\n                        {/* package lowcost */}\r\n                        <Grid item xs={12} className={classNames(classes.mb3)}>\r\n                            { this.state.starterPackLowcost && <div className={classNames(classes.roundedMd, classes.p5, this.state.selectedPackage === this.state.starterPackLowcost._id ? classes.challengePackageCardSelected : classes.challengePackageCard)} style={{ borderBottomLeftRadius: 0, borderBottomRightRadius: 0 }}>\r\n                                <div className={classNames(classes.flexCol)}>\r\n                                    <div className={classNames(classes.dFlex, classes.w100, classes.justifyContentBetween, classes.alignItemsCenter)}>\r\n                                        <div className={classNames(classes.fontSemibold)}>\r\n                                            Low Cost\r\n                                        </div>\r\n                                        <div className={classNames(classes.dFlex, classes.alignItemsCenter)}>\r\n                                            <div className={classNames(classes.fontBold, classes.textBase)}>\r\n                                                { formatPrice(this.state.starterPackLowcost.price_with_tax)}\r\n                                            </div>\r\n                                            <div className={classNames()}>\r\n                                                <Radio\r\n                                                    onChange={(e) => this.packageChanged(\"selectedPackage\", this.state.starterPackLowcost)}\r\n                                                    value={0}\r\n                                                    checked={this.state.selectedPackage === this.state.starterPackLowcost._id}\r\n                                                />\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className={classNames(classes.row, classes.mt3)}>\r\n                                        {/* <div className={classNames(classes.dFlex)}>\r\n                                            <div className={classNames()}>\r\n                                                icon\r\n                                            </div>\r\n                                            <div className={classNames()}>\r\n                                                registracia vo vyzve\r\n                                            </div>\r\n                                        </div> */}\r\n                                    </div>\r\n\r\n                                </div>\r\n                            </div> }\r\n                            { this.state.starterPackStandard && <div className={classNames(classes.roundedMd, classes.p5, this.state.selectedPackage === this.state.starterPackStandard._id ? classes.challengePackageCardSelected : classes.challengePackageCard)} style={{ borderTopLeftRadius: 0, borderTopRightRadius: 0 }}>\r\n                                <div className={classNames(classes.flexCol)}>\r\n                                    <div className={classNames(classes.dFlex, classes.w100, classes.justifyContentBetween, classes.alignItemsCenter)}>\r\n                                        <div className={classNames(classes.fontSemibold)}>\r\n                                            Standard\r\n                                        </div>\r\n                                        <div className={classNames(classes.dFlex, classes.alignItemsCenter)}>\r\n                                            <div className={classNames(classes.fontBold, classes.textBase)}>\r\n                                                {formatPrice(this.state.starterPackStandard.price_with_tax)}\r\n                                            </div>\r\n                                            <div className={classNames()}>\r\n                                                <Radio\r\n                                                    onChange={(e) => this.packageChanged(\"selectedPackage\", this.state.starterPackStandard)}\r\n                                                    value={0}\r\n                                                    checked={this.state.selectedPackage === this.state.starterPackStandard._id}\r\n                                                />\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className={classNames(classes.mt2)}>\r\n                                        <div className={classNames(classes.dFlex, classes.w100, classes.alignItemsCenter, classes.roundedMd, classes.bg300, classes.py2, classes.px3)}>\r\n                                            <div className={classNames(classes.fontBold, classes.textXs2)}>\r\n                                                Vsetko z balicku low cost\r\n                                            </div>\r\n                                            <div className={classNames(classes.dFlex, classes.ml2)}>\r\n                                                <HillIcon />\r\n                                                <HillIcon />\r\n                                                <HillIcon />\r\n                                                <HillIcon />\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div className={classNames(classes.mt3)}>\r\n                                            <div className={classNames(classes.dFlex, classes.w100)}>\r\n                                                <div className={classNames(classes.w50, classes.pr1)}>\r\n                                                    <div className={classNames(classes.ml2)}>\r\n                                                        <div className={classNames()}>\r\n                                                            <HillIcon />\r\n                                                        </div>\r\n                                                        <div className={classNames(classes.textXs, classes.fontMedium)}>\r\n                                                            Zlavovy kupon 22 €\r\n                                                        </div>\r\n                                                        <div className={classNames(classes.textXs2, classes.mt1)}>\r\n                                                            Platí na veci z e-shopu nižšie. Kupón môžeš využiť aj neskôr (pošleme ti ho na e-mail).\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div className={classNames(classes.w50, classes.pl1)}>\r\n                                                    <div className={classNames(classes.ml2)}>\r\n                                                        <div className={classNames()}>\r\n                                                            <HillIcon />\r\n                                                        </div>\r\n                                                        <div className={classNames(classes.textXs, classes.fontMedium)}>\r\n                                                            Zlavovy kupon 22 €\r\n                                                        </div>\r\n                                                        <div className={classNames(classes.textXs2, classes.mt1)}>\r\n                                                            Platí na veci z e-shopu nižšie. Kupón môžeš využiť aj neskôr (pošleme ti ho na e-mail).\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </div>\r\n                            </div> }\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classNames(classes.mt7, classes.mb6)}>\r\n                            <div className={classNames(classes.dFlex, classes.w100, classes.alignItemsCenter)}>\r\n                                <div className={classNames(classes.stepNumber, classes.textMonoH4, classes.fontSemibold)}>\r\n                                    2\r\n                                </div>\r\n                                <div className={classNames(classes.fontBold, classes.textMonoH4, classes.ml4)}>\r\n                                    Výbava\r\n                                </div>\r\n                            </div>\r\n                        </Grid>\r\n\r\n                        {this.renderProducts()}\r\n\r\n                        <Button\r\n                            className={classNames(classes.w100, classes.roundedMd, classes.mt2, classes.mb4)}\r\n                            onClick={this.goToCart}\r\n                        >\r\n                            {this.props.translate('continue')}\r\n                        </Button>\r\n\r\n                    </Grid>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default compose(\r\n    withStyles(styles),\r\n    withUser,\r\n    withRouter,\r\n    withDoby,\r\n    withStore,\r\n    withLocalization\r\n)(ChallengeCheckout);","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { withLocalization } from \"../shared/localization\";\r\nimport getSharedStyles from \"../../style\";\r\nimport compose from \"../../compose\";\r\nimport classNames from \"classnames\";\r\nimport Button from \"./form/Button\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getSharedStyles(theme),\r\n\r\n  profileImgHolder: {\r\n    width: \"60px\",\r\n    height: \"60px\",\r\n    minWidth: \"60px\",\r\n    overflow: \"hidden\",\r\n    position: \"relative\",\r\n  },\r\n  profileImg: {\r\n    // width: '120px',\r\n    borderRadius: \"100px\",\r\n    border: \"3px solid white\",\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    position: \"absolute\",\r\n    left: 0,\r\n    right: 0,\r\n    objectFit: \"cover\",\r\n  },\r\n  medalImgHolder: {\r\n    width: \"30px\",\r\n    height: \"30px\",\r\n    minWidth: \"30px\",\r\n    overflow: \"hidden\",\r\n    position: \"relative\",\r\n  },\r\n  medalImg: {\r\n    // width: '120px',\r\n    borderRadius: \"100px\",\r\n    border: \"3px solid white\",\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    position: \"absolute\",\r\n    left: 0,\r\n    right: 0,\r\n    objectFit: \"cover\",\r\n  },\r\n  card: {\r\n    minWidth: 300,\r\n  },\r\n});\r\n\r\nfunction FollowCard(props) {\r\n  const { classes } = props;\r\n\r\n  const handleOnClick = () => {\r\n    props.onClick(props.userID);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={classNames(\r\n        classes.card,\r\n        classes.roundedMd,\r\n        classes.p5,\r\n        classes.cardShadow,\r\n        props.className\r\n      )}\r\n    >\r\n      <div\r\n        className={classNames(\r\n          classes.mt4,\r\n          classes.dFlex,\r\n          classes.w100,\r\n          classes.justifyContentBetween\r\n        )}\r\n      >\r\n        <div className={classNames(classes.profileImgHolder)}>\r\n          <img\r\n            alt=\"avatarImg\"\r\n            src={\"./img/user-img.jpg\"}\r\n            className={classNames(classes.profileImg)}\r\n          />\r\n        </div>\r\n        <div className={classNames()}>\r\n          <div className={classNames(classes.textMonoH4, classes.fontBold)}>\r\n            {props.name}\r\n          </div>\r\n          {props.medalCount !== 0 && (\r\n            <div className={classNames(classes.textXs, classes.text200)}>\r\n              <div className={classNames(classes.medalImgHolder)}>\r\n                <img\r\n                  alt=\"avatarImg\"\r\n                  src={\"./img/user-img.jpg\"}\r\n                  className={classNames(classes.medalImg)}\r\n                />\r\n                {`+${props.medalCount}`}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        <Button\r\n          fullwidth\r\n          className={classNames(classes.mt3, classes.w100)}\r\n          onClick={handleOnClick}\r\n        >\r\n          {props.translate(props.buttonLabel || \"follow\")}\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nFollowCard.propTypes = {\r\n  className: PropTypes.object.isRequired,\r\n  buttonLabel: PropTypes.string.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  medalCount: PropTypes.string.isRequired,\r\n  userID: PropTypes.string,\r\n};\r\n\r\nexport default compose(withStyles(styles), withLocalization)(FollowCard);\r\n","import React from \"react\";\r\nimport { withRouter } from \"react-router\";\r\nimport PropTypes from \"prop-types\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { withLocalization } from \"../shared/localization\";\r\nimport compose from \"../../compose\";\r\nimport getSharedStyles from \"../../style\";\r\nimport classNames from \"classnames\";\r\nimport withUser from \"../../consumers/withUser\";\r\nimport withDoby from \"../../consumers/withDoby\";\r\nimport withStore from \"../../consumers/withStore\";\r\nimport config from \"../../config\";\r\n\r\nimport ArrowLeftIcon from \"@material-ui/icons/ArrowLeft\";\r\nimport Button from \"../dobyComponents/form/Button\";\r\nimport FollowCard from \"../dobyComponents/FollowCard\";\r\nimport Autocomplete from \"../shared/Autocomplete\";\r\n\r\nconst styles = (theme) => ({\r\n  ...getSharedStyles(theme),\r\n  profileImg: {\r\n    width: \"120px\",\r\n    borderRadius: \"100px\",\r\n  },\r\n  medalItem: {\r\n    width: \"120px\",\r\n    height: \"160px\",\r\n    position: \"relative\",\r\n  },\r\n  medalItemBg: {\r\n    background: \"#F5F5F5\",\r\n    //background: 'red',\r\n    borderRadius: \"10px\",\r\n    width: \"100%\",\r\n    height: \"120px\",\r\n  },\r\n  medalItemImg: {\r\n    width: \"95px\",\r\n    position: \"absolute\",\r\n    top: \"10px\",\r\n    left: 0,\r\n    right: 0,\r\n    margin: \"0 auto\",\r\n  },\r\n  medalCarousel: {\r\n    \"& .flickity-viewport\": {\r\n      //padding: '7px'\r\n    },\r\n    \"& .carousel-cell:first-child\": {\r\n      paddingLeft: \"1.25rem\",\r\n    },\r\n    \"& .carousel-cell:last-child\": {\r\n      //paddingRight: '0.5rem',\r\n    },\r\n  },\r\n  challengesCarousel: {\r\n    \"& .flickity-viewport\": {\r\n      //padding: '7px'\r\n    },\r\n    \"& .carousel-cell:first-child\": {\r\n      paddingLeft: \"1.25rem\",\r\n    },\r\n    \"& .carousel-cell:last-child\": {\r\n      //paddingRight: '0.5rem',\r\n    },\r\n  },\r\n});\r\n\r\n// const flickityOptions = {\r\n//   cellAlign: \"left\",\r\n//   contain: true,\r\n//   prevNextButtons: false,\r\n//   pageDots: false,\r\n// };\r\n\r\nclass Follow extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      following: [],\r\n      followers: [],\r\n      renderFollowers: true,\r\n      foundFriend: null,\r\n    };\r\n  }\r\n\r\n  goToProfile = () => this.props.history.push(`/profile`);\r\n  goToProfileFriend = (id) => this.props.history.push(`/profile-friend/${id}`);\r\n\r\n  buildFilter = (ids) => {\r\n    return ids.map((id) => ({ field: \"_id\", value: id.id }));\r\n  };\r\n\r\n  showFollowers = () => {\r\n    this.setState({ renderFollowers: true });\r\n  };\r\n\r\n  showFollowing = () => {\r\n    this.setState({ renderFollowers: false });\r\n  };\r\n\r\n  sendMail = async (id, name) => {\r\n    const data = {\r\n      subject: this.props.translate(\"emial_follow_subject\"),\r\n      from: config.mail.address,\r\n      fromName: config.mail.name,\r\n      recipientRef: {\r\n        id,\r\n      },\r\n      templateId: config.mail.userEmailNotificationTemplate,\r\n      params: [name],\r\n    };\r\n\r\n    await this.props.user.sendMail(data);\r\n  };\r\n\r\n  // Follow/Unfollow user\r\n  handleFollowUser = async (id) => {\r\n    this.props.doby.followUser(id);\r\n\r\n    const { followers, following } = this.state;\r\n    const user = followers.find((f) => f._id === id);\r\n\r\n    following.push(user);\r\n\r\n    this.setState({ following });\r\n    this.sendMail(id, user.name);\r\n  };\r\n  handleUnfollowUser = async (id) => {\r\n    this.props.doby.unfollowUser(id);\r\n\r\n    let { following } = this.state;\r\n    following = this.state.following.filter((f) => f._id !== id);\r\n\r\n    this.setState({ following });\r\n  };\r\n\r\n  renderFollowing = () => {\r\n    const { classes } = this.props;\r\n\r\n    return this.state.following.map((f) => {\r\n      return (\r\n        <div className={classNames(\"carousel-cell\", classes.py2)}>\r\n          <FollowCard\r\n            className={classNames(classes.mr5)}\r\n            buttonLabel=\"following\"\r\n            onClick={this.handleUnfollowUser}\r\n            name={f.name}\r\n            medalCount={0}\r\n            userID={f._id}\r\n          />\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n  renderFollowers = () => {\r\n    const { classes } = this.props;\r\n    const { following, followers } = this.state;\r\n\r\n    return followers.map((follower) => {\r\n      const alreadyFollowHim =\r\n        following.find((following) => following._id === follower._id) !==\r\n        undefined;\r\n\r\n      return (\r\n        <div className={classNames(\"carousel-cell\", classes.py2)}>\r\n          <FollowCard\r\n            className={classNames(classes.mr5)}\r\n            buttonLabel={alreadyFollowHim ? \"following\" : \"follow\"}\r\n            onClick={\r\n              alreadyFollowHim ? this.handleUnfollowUser : this.handleFollowUser\r\n            }\r\n            name={follower.name}\r\n            medalCount={1}\r\n            userID={follower._id}\r\n          />\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n  setFollowingFollowers = async (followingRef, followersRef) => {\r\n    const { getUsers } = this.props.user;\r\n\r\n    let { following, followers } = this.state;\r\n\r\n    if (followingRef && followingRef.length !== 0) {\r\n      if (followingRef.length === 0) following = [];\r\n      else {\r\n        const filterFollowing = this.buildFilter(followingRef);\r\n        following = (await getUsers(filterFollowing)).data;\r\n      }\r\n    }\r\n\r\n    if (followersRef && followersRef.length !== 0) {\r\n      if (followersRef.length === 0) followers = [];\r\n      else {\r\n        const filterFollowers = this.buildFilter(followersRef);\r\n        followers = (await getUsers(filterFollowers)).data;\r\n      }\r\n    }\r\n\r\n    this.setState({ following, followers });\r\n  };\r\n\r\n  handleOnChangeSearchFriends = (name, friend) => {\r\n    this.goToProfileFriend(friend._id);\r\n  };\r\n\r\n  handleOnFilterChangeSearchFriends = async (filter) => {\r\n    await this.props.user.getUsers(filter);\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const { user, getUsers } = this.props.user;\r\n\r\n    const dobyUser = await this.props.doby.getUser(user._id);\r\n    if (dobyUser) {\r\n      const { followingRef, followersRef } = dobyUser;\r\n      this.setFollowingFollowers(followingRef, followersRef);\r\n    }\r\n\r\n    await getUsers([]);\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props;\r\n    const { users } = this.props.user;\r\n    const { following, followers, renderFollowers, foundFriend } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <div>\r\n          <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\">\r\n            {/* HEADER NAVIGATION */}\r\n            <Grid item xs={12} className={classNames(classes.mt5)}>\r\n              <div className={classNames(classes.container)}>\r\n                <div\r\n                  className={classNames(\r\n                    classes.dFlex,\r\n                    classes.w100,\r\n                    classes.alignItemsCenter,\r\n                    classes.justifyContentBetween\r\n                  )}\r\n                >\r\n                  <div\r\n                    style={{\r\n                      display: \"flex\",\r\n                      alignItems: \"center\",\r\n                      flexWrap: \"wrap\",\r\n                    }}\r\n                  >\r\n                    <ArrowLeftIcon onClick={this.goToProfile} />\r\n                    <span>Profil</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </Grid>\r\n\r\n            {/* FOLLOW ME/THEM BUTTONS */}\r\n            <Grid item xs={12}>\r\n              <div className={classNames(classes.container)}>\r\n                <div\r\n                  className={classNames(\r\n                    classes.dFlex,\r\n                    classes.alignItemsCenter,\r\n                    classes.w100,\r\n                    classes.mt4\r\n                  )}\r\n                >\r\n                  <div className={classNames(classes.mt3, classes.w100)}>\r\n                    <Button\r\n                      onClick={this.showFollowing}\r\n                      fullwidth\r\n                    >{`Sledujem (${following.length})`}</Button>\r\n                  </div>\r\n                  <div className={classNames(classes.mt3, classes.w100)}>\r\n                    <Button\r\n                      onClick={this.showFollowers}\r\n                      fullwidth\r\n                    >{`Sledujú ma (${followers.length})`}</Button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </Grid>\r\n\r\n            {/* FOLLOWERS/FOLLOWING CARDS */}\r\n            <Grid item xs={12} className={classNames(classes.mt7)}>\r\n              <div className={classNames(classes.container)}>\r\n                {renderFollowers && this.renderFollowers()}\r\n                {!renderFollowers && this.renderFollowing()}\r\n              </div>\r\n            </Grid>\r\n\r\n            {/* SEARCH FRIENDS */}\r\n            <Grid item xs={12} className={classNames(classes.mt7)}>\r\n              <div className={classNames(classes.container)}>\r\n                <Autocomplete\r\n                  classes={classes}\r\n                  onChange={this.handleOnChangeSearchFriends}\r\n                  onFilterChange={this.handleOnFilterChangeSearchFriends}\r\n                  data={users ? users.data : []}\r\n                  field=\"foundFriend\"\r\n                  textField=\"username\"\r\n                  label=\"Nájsť priateľov\"\r\n                  value={foundFriend}\r\n                  fullWidth\r\n                />\r\n              </div>\r\n            </Grid>\r\n          </Grid>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nFollow.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withDoby,\r\n  withUser,\r\n  withStore,\r\n  withLocalization,\r\n  withRouter\r\n)(Follow);\r\n","import Login from \"./components/login/Login\";\r\nimport Register from \"./components/register/Register\";\r\nimport Account from \"./components/account/Account\";\r\nimport OAuth from \"./components/oauth/OAuth\";\r\nimport Enums from \"./components/enums/Enums\";\r\nimport Templates from \"./components/templates/Templates\";\r\nimport Summits from \"./components/summits/Summits\";\r\nimport SummitPush from \"./components/summits/Push\";\r\n\r\nimport Series from \"./components/series/Series\";\r\n// import Challenges from \"./components/challenges/Challenges\";\r\nimport Products from \"./components/products/Products\";\r\nimport Posts from \"./components/posts/Posts\";\r\nimport Users from \"./components/users/Users\";\r\nimport Partners from \"./components/partners/Partners\";\r\nimport Eshop from \"./components/eshop/Eshop\";\r\nimport Checkout from \"./components/eshop/checkout/Checkout\";\r\nimport Cart from \"./components/eshop/Cart\";\r\nimport ProductDetail from \"./components/eshop/ProductDetail\";\r\nimport Transports from \"./components/transports/Transports\";\r\nimport Verification from \"./components/eshop/checkout/VerificationPayment\";\r\nimport permissions from \"./permissions\";\r\n\r\n//admin\r\nimport ChallengesAdmin from \"./components/admin/challenges/Challenges\";\r\n\r\nimport Home from \"./components/home/Home\";\r\nimport Profile from \"./components/account/profile/Profile\";\r\nimport ProfileSettings from \"./components/account/profile/ProfileSettings\";\r\nimport Landing from \"./components/landing/Landing\";\r\nimport LandingCountdown from \"./components/landing/LandingCountdown\";\r\nimport Challenges from \"./components/challenges/Challenges\";\r\nimport ChallengeDetail from \"./components/challenges/ChallengeDetail\";\r\nimport ChallengeCheckout from \"./components/challenges/ChallengeCheckout\";\r\nimport Follow from \"./components/friends/Follow\";\r\n\r\nconst routes = [\r\n  {\r\n    name: \"newsfeed\",\r\n    path: \"/newsfeed\",\r\n    component: Home,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"landing\",\r\n    path: \"/landing\",\r\n    component: Landing,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"home\",\r\n    path: \"/home\",\r\n    component: LandingCountdown,\r\n    exact: true,\r\n    anonymous: true,\r\n  },\r\n  {\r\n    name: \"eshop\",\r\n    path: \"/eshop\",\r\n    component: Eshop,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"verification\",\r\n    path: \"/eshop/checkout/verify\",\r\n    component: Verification,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"checkout\",\r\n    path: \"/eshop/checkout\",\r\n    component: Checkout,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"cart\",\r\n    path: \"/eshop/cart\",\r\n    component: Cart,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"product\",\r\n    path: \"/eshop/product/:_id\",\r\n    component: ProductDetail,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"enums\",\r\n    path: \"/enums\",\r\n    component: Enums,\r\n    exact: true,\r\n    permission: permissions.doby,\r\n  },\r\n  {\r\n    name: \"templates\",\r\n    path: \"/templates\",\r\n    component: Templates,\r\n    exact: true,\r\n    permission: permissions.doby,\r\n  },\r\n  {\r\n    name: \"summits\",\r\n    path: \"/summits\",\r\n    component: Summits,\r\n    exact: true,\r\n    permission: permissions.doby,\r\n  },\r\n  {\r\n    name: \"summit-push\",\r\n    path: \"/summit-push\", \r\n    component: SummitPush, \r\n    exact: true,\r\n    permission: permissions.doby\r\n  },\r\n  {\r\n    name: \"series\",\r\n    path: \"/series\",\r\n    component: Series,\r\n    exact: true,\r\n    permission: permissions.doby,\r\n  },\r\n  {\r\n    name: \"challenges-admin\",\r\n    path: \"/challenges-admin\",\r\n    component: ChallengesAdmin,\r\n    exact: true,\r\n    permission: permissions.doby,\r\n  },\r\n  {\r\n    name: \"transports\",\r\n    path: \"/transports\",\r\n    component: Transports,\r\n    exact: true,\r\n    permission: permissions.doby,\r\n  },\r\n  {\r\n    name: \"products\",\r\n    path: \"/products\",\r\n    component: Products,\r\n    exact: true,\r\n    permission: permissions.doby,\r\n  },\r\n  {\r\n    name: \"posts\",\r\n    path: \"/posts\",\r\n    component: Posts,\r\n    exact: true,\r\n    permission: permissions.doby,\r\n  },\r\n  {\r\n    name: \"users\",\r\n    path: \"/users\",\r\n    component: Users,\r\n    exact: true,\r\n    permission: permissions.doby,\r\n  },\r\n  {\r\n    name: \"partners\",\r\n    path: \"/partners\",\r\n    component: Partners,\r\n    exact: true,\r\n    permission: permissions.doby,\r\n  },\r\n  {\r\n    name: \"login\",\r\n    path: \"/login\",\r\n    component: Login,\r\n    anonymous: true,\r\n    exact: true,\r\n    hidden: true,\r\n  },\r\n  {\r\n    name: \"register\",\r\n    path: \"/register\",\r\n    component: Register,\r\n    anonymous: true,\r\n    exact: true,\r\n    hidden: true,\r\n  },\r\n  {\r\n    name: \"oauth\",\r\n    path: \"/\",\r\n    component: OAuth,\r\n    anonymous: true,\r\n    exact: true,\r\n    hidden: true,\r\n  },\r\n  {\r\n    name: \"account\",\r\n    path: \"/account\",\r\n    component: Account,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"profile\",\r\n    path: \"/profile\",\r\n    component: Profile,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"profileFriend\",\r\n    path: \"/profile-friend/:_id\",\r\n    component: Profile,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"profileSettings\",\r\n    path: \"/profile-settings\",\r\n    component: ProfileSettings,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"challenges\",\r\n    path: \"/challenges\",\r\n    component: Challenges,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"challenge-detail\",\r\n    path: \"/challenge-detail\",\r\n    component: ChallengeDetail,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"challenge-checkout\",\r\n    path: \"/challenge-checkout/:_id\",\r\n    component: ChallengeCheckout,\r\n    exact: true,\r\n  },\r\n  {\r\n    name: \"friends-follow\",\r\n    path: \"/friends-follow\",\r\n    component: Follow,\r\n    exact: true,\r\n  },\r\n];\r\n\r\nexport default routes;\r\n","import React from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\n\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport withStyles from '@material-ui/core/styles/withStyles';\r\n\r\nimport BottomNavigationBar from './components/dobyComponents/BottomNavigationBar'\r\n\r\nimport compose from './compose';\r\nimport withUser from './consumers/withUser';\r\nimport Container from \"./components/shared/Container\";\r\nimport routes from './routes';\r\nimport config from './config'\r\n\r\nconst styles = theme => ({\r\n  close: {\r\n    padding: theme.spacing.unit / 2,\r\n  },\r\n});\r\n\r\nlet _basename = '/';\r\nlet _init = false;\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    if(process.env.NODE_ENV === \"production\") {\r\n      const url = new URL(process.env.REACT_APP_HOMEPAGE);\r\n      _basename = url.pathname;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { user, classes } = this.props;\r\n\r\n    if(!_init && user.user) {\r\n      _init = true;\r\n      user.initHub();\r\n    }\r\n\r\n    return (\r\n      <React.Fragment>\r\n        <Router basename={_basename}>\r\n          <Container\r\n            user={user}\r\n            routes={routes}\r\n            logo={config.logo}\r\n          >\r\n            {routes.map(x => {\r\n              if (x.anonymous) return (\r\n                <Route key={x.name} path={x.path} exact={x.exact} component={x.component} />\r\n              )\r\n              else return (\r\n                <PrivateRoute exact={x.exact} key={x.name} path={x.path} component={x.component} user={user} permission={x.permission} />\r\n              )\r\n            })}\r\n          </Container>\r\n\r\n          {/* <BottomNavigationBar/> */}\r\n        </Router>        \r\n\r\n        <Snackbar\r\n          anchorOrigin={{\r\n            vertical: 'bottom',\r\n            horizontal: 'center',\r\n          }}\r\n          open={user.msg}\r\n          autoHideDuration={6000}\r\n          onClose={user.hideMsg}\r\n          ContentProps={{\r\n            'aria-describedby': 'message-id',\r\n          }}\r\n          message={<span id=\"message-id\">{user.msg}</span>}\r\n          action={[\r\n            <IconButton\r\n              key=\"close\"\r\n              aria-label=\"Close\"\r\n              color=\"inherit\"\r\n              className={classes.close}\r\n              onClick={user.hideMsg}\r\n            >\r\n              <CloseIcon />\r\n            </IconButton>,\r\n          ]}\r\n        />\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nfunction PrivateRoute({ component: Component, user, permission, ...rest }) {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props => {\r\n        if(!user.user) {\r\n          return <Redirect\r\n            to={{\r\n              pathname: \"/login\",\r\n              state: { from: props.location }\r\n            }}\r\n          />\r\n        }\r\n        else if(permission && !user.hasPermission(permission)) {\r\n          return <Redirect\r\n            to={{\r\n              pathname: config.home,\r\n              state: { from: props.location }\r\n            }}\r\n          />\r\n        }\r\n        else {\r\n          return <Component {...props} />;\r\n        }\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nexport default compose(\r\n  withStyles(styles),\r\n  withUser\r\n)(App);","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\r\nimport StoreContext from \"../contexts/StoreContext\";\r\nimport { storage } from \"kd-web\";\r\nimport * as storeUtils from \"../utils/storeUtils\";\r\n\r\nlet _isInit;\r\nclass StoreProvider extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      enums: {\r\n        total: 0,\r\n        data: [],\r\n        filters: [],\r\n        page: {},\r\n        isLoading: false,\r\n      },\r\n      enumTypes: {\r\n        total: 6,\r\n        data: [\r\n          { _id: 1, name: \"blog\" },\r\n          { _id: 3, name: \"partner\" },\r\n          { _id: 5, name: \"country\" },\r\n          { _id: 200, name: \"shop\" },\r\n          { _id: 201, name: \"size\" },\r\n          { _id: 202, name: \"sex\" },\r\n        ],\r\n      },\r\n      templates: {\r\n        total: 0,\r\n        data: [],\r\n        filters: [],\r\n        page: null,\r\n        isLoading: false,\r\n      },\r\n      transports: {\r\n        total: 0,\r\n        data: [],\r\n        filters: [],\r\n        page: null,\r\n        isLoading: false,\r\n      },\r\n    };\r\n  }\r\n\r\n  getEnums = async (filters, sort, page, render = true) => {\r\n    try {\r\n      if (!render) {\r\n        return await storeUtils.getEnums(\r\n          this.state.enumTypes.data,\r\n          filters,\r\n          sort,\r\n          page\r\n        );\r\n      }\r\n\r\n      this.setState((state) => ({\r\n        enums: { ...state.enums, isLoading: true },\r\n      }));\r\n      const enums = await storeUtils.getEnums(\r\n        this.state.enumTypes.data,\r\n        filters,\r\n        sort,\r\n        page\r\n      );\r\n\r\n      enums.isLoading = false;\r\n      this.setState({ enums });\r\n      return enums;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  refreshEnums = async () => {\r\n    try {\r\n      this.setState((state) => ({\r\n        enums: { ...state.enums, isLoading: true },\r\n      }));\r\n      const { filters, sort, page } = this.state.enums;\r\n      const enums = await storeUtils.getEnums(\r\n        this.state.enumTypes.data,\r\n        filters,\r\n        sort,\r\n        page\r\n      );\r\n      enums.isLoading = false;\r\n      this.setState({ enums });\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  getTemplates = async (filters, sort, page, render = true) => {\r\n    try {\r\n      if (!render) {\r\n        return await storeUtils.getTemplates(filters, sort, page);\r\n      }\r\n\r\n      this.setState((state) => ({\r\n        templates: { ...state.templates, isLoading: true },\r\n      }));\r\n      const templates = await storeUtils.getTemplates(filters, sort, page);\r\n\r\n      templates.isLoading = false;\r\n      this.setState({ templates });\r\n      return templates;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  refreshTemplates = async () => {\r\n    try {\r\n      this.setState((state) => ({\r\n        templates: { ...state.templates, isLoading: true },\r\n      }));\r\n      const { filters, sort, page } = this.state.enums;\r\n      const templates = await storeUtils.getTemplates(filters, sort, page);\r\n      templates.isLoading = false;\r\n      this.setState({ templates });\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  getTransports = async (filters, sort, page, render = true) => {\r\n    try {\r\n      if (!render) {\r\n        return await storeUtils.getTransports(filters, sort, page);\r\n      }\r\n\r\n      this.setState((state) => ({\r\n        transports: { ...state.transports, isLoading: true },\r\n      }));\r\n      const transports = await storeUtils.getTransports(filters, sort, page);\r\n\r\n      transports.isLoading = false;\r\n      this.setState({ transports });\r\n      return transports;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  refreshTransports = async () => {\r\n    try {\r\n      this.setState((state) => ({\r\n        transports: { ...state.transports, isLoading: true },\r\n      }));\r\n      const { filters, sort, page } = this.state.transports;\r\n      const transports = await storeUtils.getTransports(filters, sort, page);\r\n      transports.isLoading = false;\r\n      this.setState({ transports });\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n    if (!_isInit && storage.getUser()) {\r\n      _isInit = true;\r\n    }\r\n\r\n    return (\r\n      <StoreContext.Provider\r\n        value={{\r\n          // ENUMS\r\n          getEnums: this.getEnums,\r\n          refreshEnums: this.refreshEnums,\r\n          addEnum: storeUtils.addEnum,\r\n          editEnum: storeUtils.editEnum,\r\n          deleteEnum: storeUtils.deleteEnum,\r\n          // TEMPLATES\r\n          getTemplates: this.getTemplates,\r\n          refreshTemplates: this.refreshTemplates,\r\n          addTemplate: storeUtils.addTemplate,\r\n          editTemplate: storeUtils.editTemplate,\r\n          deleteTemplate: storeUtils.deleteTemplate,\r\n          getFile: storeUtils.getFile,\r\n          // TRANSPORTS\r\n          getTransports: this.getTransports,\r\n          refreshTransports: this.refreshTransports,\r\n          addTransport: storeUtils.addTransport,\r\n          editTransport: storeUtils.editTransport,\r\n          deleteTransport: storeUtils.deleteTransport,\r\n\r\n          ...this.state,\r\n        }}\r\n      >\r\n        {children}\r\n      </StoreContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default StoreProvider;\r\n","import config from \"../config\";\r\nimport { auth as a } from \"kd-web\";\r\n\r\nexport const auth = async (username, password, token = \"\") => {\r\n  try {\r\n    return await a.auth(username, password, token);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst buildRedirectUri = (provider) => {\r\n  let url = process.env.REACT_APP_HOMEPAGE;\r\n  // fb\r\n  if (provider === \"5\") {\r\n    url += \"/\";\r\n  }\r\n\r\n  return `${url}?provider=${provider}`;\r\n};\r\n\r\nexport const oAuth = async (provider, code) => {\r\n  try {\r\n    return await a.oAuth(\r\n      provider,\r\n      code,\r\n      buildRedirectUri(provider),\r\n      config.configId\r\n    );\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const reset = async (username) => {\r\n  try {\r\n    return await a.reset(username, process.env.REACT_APP_HOMEPAGE);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const updateOauth = async (provider, code) => {\r\n  try {\r\n    return await a.updateOauth(provider, code, buildRedirectUri(provider));\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const generateSecret = async () => {\r\n  try {\r\n    return await a.generateSecret();\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getUsers = async (filters, sort, page) => {\r\n  try {\r\n    return await a.getUsers(filters, sort, page);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getUser = async (id) => {\r\n  try {\r\n    return await a.getUser(id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const updateUser = async (id, data) => {\r\n  try {\r\n    return await a.updateUser(id, data);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const checkUser = async (username) => {\r\n  try {\r\n    return await a.checkUser(username);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const registerUser = async (user) => {\r\n  try {\r\n    return await a.register(user);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n","import React from \"react\";\r\nimport UserContext from \"../contexts/UserContext\";\r\nimport * as authUtils from \"../utils/authUtils\";\r\nimport * as mailUtils from \"../utils/mailUtils\";\r\nimport { storage } from \"kd-web\";\r\n\r\nclass UserProvider extends React.Component {\r\n  state = {\r\n    user: storage.getUser(),\r\n    msg: null,\r\n    users: {\r\n      total: 0,\r\n      data: [],\r\n      filters: [],\r\n      page: null,\r\n      isLoading: false,\r\n    },\r\n    secret: null,\r\n  };\r\n\r\n  showMsg = (msg) => {\r\n    this.setState({ msg });\r\n  };\r\n\r\n  showError = (error) => {\r\n    this.setState({ msg: error.message });\r\n  };\r\n\r\n  hideMsg = () => {\r\n    this.setState({ msg: null });\r\n  };\r\n\r\n  auth = async (username, password, token) => {\r\n    try {\r\n      const user = await authUtils.auth(username, password, token);\r\n      this.setState({ user });\r\n\r\n      return user;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  registerUser = async (data) => {\r\n    try {\r\n      await authUtils.registerUser(data);\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  generateSecret = async () => {\r\n    try {\r\n      const secret = await authUtils.generateSecret();\r\n      this.setState({ secret });\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  oAuth = async (provider, code) => {\r\n    try {\r\n      const user = await authUtils.oAuth(provider, code);\r\n      this.setState({ user });\r\n      return user;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  updateOauth = async (provider, code) => {\r\n    try {\r\n      const user = await authUtils.updateOauth(provider, code);\r\n      this.setState({ user });\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  updateUser = async (id, data) => {\r\n    try {\r\n      const user = await authUtils.updateUser(id, data);\r\n      this.setState({ user });\r\n      return user;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  checkUser = async (username) => {\r\n    try {\r\n      return await authUtils.checkUser(username);\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  reset = async (username) => {\r\n    try {\r\n      await authUtils.reset(username);\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  getUsers = async (filters, sort, page, render = true) => {\r\n    try {\r\n      if (!render) {\r\n        return await authUtils.getUsers(filters, sort, page);\r\n      }\r\n\r\n      this.setState((state) => ({\r\n        users: { ...state.users, isLoading: true },\r\n      }));\r\n      const users = await authUtils.getUsers(filters, sort, page);\r\n      users.isLoading = false;\r\n      this.setState({ users });\r\n      return users;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  hasPermission = (permission) => {\r\n    return this.state.user && (this.state.user.permissions & permission) > 0;\r\n  };\r\n\r\n  onNotification = () => {\r\n    console.log(\"hub_notification\");\r\n  };\r\n\r\n  initHub = () => {\r\n    mailUtils.initHub(this.onNotification);\r\n\r\n    setTimeout(async function () {\r\n      //const res = await mailUtils.sendMock();\r\n      // console.log(res);\r\n    }, 2000);\r\n  };\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n\r\n    return (\r\n      <UserContext.Provider\r\n        value={{\r\n          auth: this.auth,\r\n          registerUser: this.registerUser,\r\n          hideMsg: this.hideMsg,\r\n          showMsg: this.showMsg,\r\n          showError: this.showError,\r\n          generateSecret: this.generateSecret,\r\n          oAuth: this.oAuth,\r\n          updateOauth: this.updateOauth,\r\n          getUsers: this.getUsers,\r\n          getUser: authUtils.getUser,\r\n          updateUser: this.updateUser,\r\n          checkUser: this.checkUser,\r\n          hasPermission: this.hasPermission,\r\n          reset: this.reset,\r\n          initHub: this.initHub,\r\n          sendMail: mailUtils.send,\r\n          ...this.state,\r\n        }}\r\n      >\r\n        {children}\r\n      </UserContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default UserProvider;\r\n","import { store } from \"kd-web\";\r\n\r\nexport const postFile = async (file) => {\r\n  try {\r\n    return await store.postFile(file);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getFile = async (id) => {\r\n  try {\r\n    return await store.getFile(id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const delFile = async (id) => {\r\n  try {\r\n    return await store.delFile(id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst ENUMS_COLLECTION = \"enums\";\r\nexport const addEnum = async (data) => {\r\n  try {\r\n    await store.post(ENUMS_COLLECTION, data);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const editEnum = async (data) => {\r\n  try {\r\n    await store.put(ENUMS_COLLECTION, data, data._id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getEnums = async (enumTypes, filters, sort, page) => {\r\n  try {\r\n    const enums = await store.get(ENUMS_COLLECTION, filters, sort, page);\r\n    for (const x of enums.data) {\r\n      x._enumType = enumTypes.find((e) => e._id === x.enumTypeId) || {\r\n        name: null,\r\n      };\r\n    }\r\n    return enums;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const deleteEnum = async (id) => {\r\n  try {\r\n    await store.delById(ENUMS_COLLECTION, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst TEMPLATES_COLLECTION = \"templates\";\r\nexport const addTemplate = async (data) => {\r\n  try {\r\n    await store.post(TEMPLATES_COLLECTION, data);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const editTemplate = async (data) => {\r\n  try {\r\n    await store.put(TEMPLATES_COLLECTION, data, data._id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getTemplates = async (filters, sort, page) => {\r\n  try {\r\n    const templates = await store.get(\r\n      TEMPLATES_COLLECTION,\r\n      filters,\r\n      sort,\r\n      page\r\n    );\r\n    return templates;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const deleteTemplate = async (id) => {\r\n  try {\r\n    await store.delById(TEMPLATES_COLLECTION, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nconst TRANSPORTS_COLLECTION = \"transports\";\r\nexport const addTransport = async (data) => {\r\n  try {\r\n    await store.post(TRANSPORTS_COLLECTION, data);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const editTransport = async (data) => {\r\n  try {\r\n    await store.put(TRANSPORTS_COLLECTION, data, data._id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getTransports = async (filters, sort, page) => {\r\n  try {\r\n    const templates = await store.get(\r\n      TRANSPORTS_COLLECTION,\r\n      filters,\r\n      sort,\r\n      page\r\n    );\r\n    return templates;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const deleteTransport = async (id) => {\r\n  try {\r\n    await store.delById(TRANSPORTS_COLLECTION, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};","import { ajax } from \"kd-web\";\r\nimport config from \"../config\";\r\nimport { store } from \"kd-web\";\r\n\r\n//-- [Summits] --\r\nconst SUMMITS_URL = config.url.doby + \"/api/Summit\";\r\n\r\nexport const addSummit = async (data) => {\r\n  try {\r\n    if (data._img) {\r\n      const res = await store.postFile(data._img);\r\n      data.imageId = res._id;\r\n      data._img = null;\r\n    }\r\n    if (data._thumbnail) {\r\n      const res = await store.postFile(data._thumbnail);\r\n      data.thumbnailId = res._id;\r\n      data._thumbnail = null;\r\n    }\r\n    await ajax.post(SUMMITS_URL, data);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getSummit = async (id) => {\r\n  try {\r\n    return await ajax.getById(SUMMITS_URL, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const editSummit = async (data) => {\r\n  try {\r\n    await ajax.put(SUMMITS_URL, data, data._id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getSummits = async (filters, sort, page) => {\r\n  try {\r\n    return ajax.get(SUMMITS_URL, filters, sort, page);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const deleteSummit = async (id) => {\r\n  try {\r\n    await ajax.delById(SUMMITS_URL, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n//-- [Challenges] --\r\nconst CHALLENGES_URL = config.url.doby + \"/api/Challenge\";\r\n\r\nexport const addChallenge = async (data) => {\r\n  try {\r\n    if (data._img) {\r\n      const res = await store.postFile(data._img);\r\n      data.imageId = res._id;\r\n      data._img = null;\r\n    }\r\n    if (data._map) {\r\n      const res = await store.postFile(data._map);\r\n      data.mapId = res._id;\r\n      data._map = null;\r\n    }\r\n    if (data._thumbnail) {\r\n      const res = await store.postFile(data._thumbnail);\r\n      data.thumbnailId = res._id;\r\n      data._thumbnail = null;\r\n    }\r\n    if (data._logo) {\r\n      const res = await store.postFile(data._logo);\r\n      data.logoId = res._id;\r\n      data._logo = null;\r\n    }\r\n    if (data._badge) {\r\n      const res = await store.postFile(data._badge);\r\n      data.badgeId = res._id;\r\n      data._badge = null;\r\n    }\r\n\r\n    await ajax.post(CHALLENGES_URL, data);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getChallenge = async (id) => {\r\n  try {\r\n    let challenge = await ajax.getById(CHALLENGES_URL, id);\r\n    if (challenge) {\r\n      challenge.summitsRefIds = challenge.summitsRef.map((x) => x.id);\r\n    }\r\n\r\n    return challenge;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const editChallenge = async (data) => {\r\n  try {\r\n    await ajax.put(CHALLENGES_URL, data, data._id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getChallenges = async (filters, sort, page) => {\r\n  try {\r\n    return ajax.get(CHALLENGES_URL, filters, sort, page);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const deleteChallenge = async (id) => {\r\n  try {\r\n    await ajax.delById(CHALLENGES_URL, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\n//-- [Products] --\r\nconst PRODUCTS_URL = config.url.doby + \"/api/Product\";\r\n\r\nexport const addProduct = async (data) => {\r\n  try {\r\n    if (data._img) {\r\n      const res = await store.postFile(data._img);\r\n      data.imageId = res._id;\r\n      data._img = null;\r\n    }\r\n    if (data._thumbnail) {\r\n      const res = await store.postFile(data._thumbnail);\r\n      data.thumbnailId = res._id;\r\n      data._thumbnail = null;\r\n    }\r\n    if (data.productsRef) {\r\n      data.productsRef = data.productsRef.map((productId) => ({\r\n        id: productId,\r\n      }));\r\n    }\r\n\r\n    await ajax.post(PRODUCTS_URL, data);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getProduct = async (id) => {\r\n  try {\r\n    return await ajax.getById(PRODUCTS_URL, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getProductsByCatalogId = async (id) => {\r\n  try {\r\n    return await ajax.getById(`${PRODUCTS_URL}/catalog`, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const editProduct = async (data) => {\r\n  try {\r\n    await ajax.put(PRODUCTS_URL, data, data._id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getProducts = async (filters, sort, page) => {\r\n  try {\r\n    return ajax.get(PRODUCTS_URL, filters, sort, page);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const deleteProduct = async (id) => {\r\n  try {\r\n    await ajax.delById(PRODUCTS_URL, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n//-- [Orders] --\r\nconst ORDERS_URL = config.url.doby + \"/api/Order\";\r\n\r\nexport const addOrder = async (data) => {\r\n  try {\r\n    console.log(data);\r\n    return await ajax.post(ORDERS_URL, data);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getOrder = async (id) => {\r\n  try {\r\n    return await ajax.getById(ORDERS_URL, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const verifyOrder = async (paymentId) => {\r\n  try {\r\n    return await ajax.post(`${ORDERS_URL}/verify?paymentId=${paymentId}`, {});\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\n//-- [Coupon] --\r\nconst COUPON_URL = config.url.doby + \"/api/Coupon\";\r\n\r\nexport const redeeemDiscountCode = async (coupon) => {\r\n  try {\r\n    return await ajax.getById(COUPON_URL, coupon);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\n//-- [Posts] --\r\nconst POSTS_URL = config.url.doby + \"/api/Post\";\r\n\r\nexport const addPost = async (data) => {\r\n  try {\r\n    if (data._img) {\r\n      const res = await store.postFile(data._img);\r\n      data.imageId = res._id;\r\n      data._img = null;\r\n    }\r\n    if (data._thumbnail) {\r\n      const res = await store.postFile(data._thumbnail);\r\n      data.thumbnailId = res._id;\r\n      data._thumbnail = null;\r\n    }\r\n\r\n    await ajax.post(POSTS_URL, data);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getPost = async (id) => {\r\n  try {\r\n    return await ajax.getById(POSTS_URL, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const editPost = async (data) => {\r\n  try {\r\n    await ajax.put(POSTS_URL, data, data._id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getPosts = async (filters, sort, page) => {\r\n  try {\r\n    return ajax.get(POSTS_URL, filters, sort, page);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const deletePost = async (id) => {\r\n  try {\r\n    await ajax.delById(POSTS_URL, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\n//-- [Series] --\r\nconst SERIES_URL = config.url.doby + \"/api/Serie\";\r\n\r\nexport const addSerie = async (data) => {\r\n  try {\r\n    // if (data._photo) {\r\n    //   const res = await store.postFile(data._photo);\r\n    //   data.photoId = res._id;\r\n    //   data._photo = null;\r\n    // }\r\n\r\n    await ajax.post(SERIES_URL, data);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getSerie = async (id) => {\r\n  try {\r\n    let serie = await ajax.getById(SERIES_URL, id);\r\n    return serie;\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const editSerie = async (data) => {\r\n  try {\r\n    await ajax.put(SERIES_URL, data, data._id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getSeries = async (filters, sort, page) => {\r\n  try {\r\n    return ajax.get(SERIES_URL, filters, sort, page);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const deleteSerie = async (id) => {\r\n  try {\r\n    await ajax.delById(SERIES_URL, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\n//-- [Partners] --\r\nconst PARTNERS_URL = config.url.doby + \"/api/Partner\";\r\n\r\nexport const addPartner = async (data) => {\r\n  try {\r\n    if (data._logo) {\r\n      const res = await store.postFile(data._logo);\r\n      data.logoId = res._id;\r\n      data._logo = null;\r\n    }\r\n    await ajax.post(PARTNERS_URL, data);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getPartner = async (id) => {\r\n  try {\r\n    return await ajax.getById(PARTNERS_URL, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const editPartner = async (data) => {\r\n  try {\r\n    await ajax.put(PARTNERS_URL, data, data._id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getPartners = async (filters, sort, page) => {\r\n  try {\r\n    return ajax.get(PARTNERS_URL, filters, sort, page);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const deletePartner = async (id) => {\r\n  try {\r\n    await ajax.delById(PARTNERS_URL, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\n//-- [User] --\r\nconst USER_URL = config.url.doby + \"/api/user\";\r\n\r\nexport const getUsers = async (filters, sort, page) => {\r\n  try {\r\n    return ajax.get(USER_URL, filters, sort, page);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getUser = async (id) => {\r\n  try {\r\n    return ajax.getById(USER_URL, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const followUser = async (id) => {\r\n  try {\r\n    return ajax.post(`${USER_URL}/followers?id=${id}`, {});\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const subscribe = async (subscriber) => {\r\n  try {\r\n    return ajax.post(`${config.url.doby}/api/subscriber`, subscriber);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const unfollowUser = async (id) => {\r\n  try {\r\n    return ajax.delById(USER_URL, `followers?id=${id}`);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\n//-- [Climbs] --\r\nconst CLIMBS_URL = config.url.doby + \"/api/Climb\";\r\n\r\nexport const addClimb = async (data) => {\r\n  try {\r\n    await ajax.post(CLIMBS_URL, data);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getClimb = async (id) => {\r\n  try {\r\n    return await ajax.getById(CLIMBS_URL, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const editClimb = async (data) => {\r\n  try {\r\n    await ajax.put(CLIMBS_URL, data, data._id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getClimbs = async (filters, sort, page) => {\r\n  try {\r\n    return ajax.get(CLIMBS_URL, filters, sort, page);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const deleteClimb = async (id) => {\r\n  try {\r\n    await ajax.delById(CLIMBS_URL, id);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getFile = (id) => {\r\n  const url = config.url.doby + \"/api/file\";\r\n  return ajax.getFile(url, id);\r\n};\r\n","import React from \"react\";\r\nimport DobyContext from \"../contexts/DobyContext\";\r\nimport * as dobyUtils from \"../utils/dobyUtils\";\r\nimport * as storeUtils from \"../utils/storeUtils\";\r\n\r\nclass DobyProvider extends React.Component {\r\n  state = {\r\n    summits: {\r\n      total: 0,\r\n      data: [],\r\n      filters: [],\r\n      page: null,\r\n      isLoading: false,\r\n    },\r\n    challenges: {\r\n      total: 0,\r\n      data: [],\r\n      filters: [],\r\n      page: null,\r\n      isLoading: false,\r\n    },\r\n    products: {\r\n      total: 0,\r\n      data: [],\r\n      filters: [],\r\n      page: null,\r\n      isLoading: false,\r\n    },\r\n    subordinateProducts: {\r\n      total: 0,\r\n      data: [],\r\n      filters: [],\r\n      page: null,\r\n      isLoading: false,\r\n    },\r\n    catalog: {\r\n      data: [],\r\n      isLoading: false,\r\n    },\r\n    productVariants: {\r\n      data: {},\r\n    },\r\n    cart: {\r\n      data: {\r\n        products: [],\r\n      },\r\n    },\r\n    checkout: {\r\n      data: {\r\n        state: 0,\r\n        orderData: {},\r\n        coupon: {},\r\n        deliveryData: {\r\n          nameSurname: \"\",\r\n          email: \"\",\r\n          country: \"\",\r\n          city: \"\",\r\n          street: \"\",\r\n          streetNumber: \"\",\r\n          psc: \"\",\r\n          tel: \"\",\r\n\r\n          invoiceData: false,\r\n          invoiceNameSurname: \"\",\r\n          invoiceCountry: \"\",\r\n          invoiceCity: \"\",\r\n          invoiceStreet: \"\",\r\n          invoiceStreetNumber: \"\",\r\n          invoicePsc: \"\",\r\n\r\n          companyOrder: false,\r\n          ico: \"\",\r\n          dic: \"\",\r\n          icdph: \"\",\r\n          bic: \"\",\r\n          iban: \"\",\r\n          accountOwner: \"\",\r\n\r\n          deliveryType: null,\r\n          paymentMethod: null,\r\n\r\n          //TODO: localization\r\n          //alebo ciselnik\r\n          paymentMethods: [\r\n            {\r\n              id: 5,\r\n              name: \"Kartou\",\r\n              price: 0.0,\r\n            },\r\n            {\r\n              id: 8,\r\n              name: \"Na dobierku\",\r\n              price: 1.9,\r\n            },\r\n          ],\r\n        },\r\n      },\r\n      isLoading: false,\r\n    },\r\n    posts: {\r\n      total: 0,\r\n      data: [],\r\n      filters: [],\r\n      page: null,\r\n      isLoading: false,\r\n    },\r\n    series: {\r\n      total: 0,\r\n      data: [],\r\n      filters: [],\r\n      page: null,\r\n      isLoading: false,\r\n    },\r\n    partners: {\r\n      total: 0,\r\n      data: [],\r\n      filters: [],\r\n      page: null,\r\n      isLoading: false,\r\n    },\r\n    users: {\r\n      total: 0,\r\n      data: [],\r\n      filters: [],\r\n      page: null,\r\n      isLoading: false,\r\n    },\r\n    climbs: {\r\n      total: 0,\r\n      data: [],\r\n      filters: [],\r\n      page: null,\r\n      isLoading: false,\r\n    },\r\n  };\r\n\r\n  //-- [Summits] --\r\n  getSummits = async (filters, sort, page, render = true) => {\r\n    try {\r\n      if (!render) {\r\n        return await dobyUtils.getSummits(filters, sort, page);\r\n      }\r\n\r\n      this.setState((state) => ({\r\n        summits: { ...state.summits, isLoading: true },\r\n      }));\r\n      const summits = await dobyUtils.getSummits(filters, sort, page);\r\n      summits.isLoading = false;\r\n      this.setState({ summits });\r\n      return summits;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  refreshSummits = async () => {\r\n    try {\r\n      this.setState((state) => ({\r\n        summits: { ...state.summits, isLoading: true },\r\n      }));\r\n      const { filters, sort, page } = this.state.summits;\r\n      const summits = await dobyUtils.getSummits(filters, sort, page);\r\n      summits.isLoading = false;\r\n      this.setState({ summits });\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  //-- [Chellenges] --\r\n  getChallenges = async (filters, sort, page, render = true) => {\r\n    try {\r\n      if (!render) {\r\n        return await dobyUtils.getChallenges(filters, sort, page);\r\n      }\r\n\r\n      this.setState((state) => ({\r\n        challenges: { ...state.challenges, isLoading: true },\r\n      }));\r\n      const challenges = await dobyUtils.getChallenges(filters, sort, page);\r\n      challenges.isLoading = false;\r\n      this.setState({ challenges });\r\n      return challenges;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  refreshChallenges = async () => {\r\n    try {\r\n      this.setState((state) => ({\r\n        challenges: { ...state.challenges, isLoading: true },\r\n      }));\r\n      const { filters, sort, page } = this.state.challenges;\r\n      const challenges = await dobyUtils.getChallenges(filters, sort, page);\r\n      challenges.isLoading = false;\r\n      this.setState({ challenges });\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  //-- [Subordinate products] --\r\n  getSubordinateProducts = async (filters, sort, page, render = true) => {\r\n    try {\r\n      if (!render) {\r\n        return await dobyUtils.getProducts(filters, sort, page);\r\n      }\r\n\r\n      this.setState((state) => ({\r\n        subordinateProducts: { ...state.subordinateProducts, isLoading: true },\r\n      }));\r\n\r\n      const subordinateProducts = await dobyUtils.getProducts(\r\n        filters,\r\n        sort,\r\n        page\r\n      );\r\n      subordinateProducts.isLoading = false;\r\n      this.setState({ subordinateProducts });\r\n      return subordinateProducts;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  //-- [Products] --\r\n  getProducts = async (filters, sort, page, render = true) => {\r\n    try {\r\n      if (!render) {\r\n        return await dobyUtils.getProducts(filters, sort, page);\r\n      }\r\n\r\n      this.setState((state) => ({\r\n        products: { ...state.products, isLoading: true },\r\n      }));\r\n\r\n      const products = await dobyUtils.getProducts(filters, sort, page);\r\n      products.isLoading = false;\r\n      this.setState({ products });\r\n      return products;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  buildDropdowns = async (catalog) => {\r\n    let dropdowns = {};\r\n    for (let variant of catalog) {\r\n      const paramKeys = Object.keys(variant.tech_param);\r\n      if (paramKeys.length <= 0) continue;\r\n\r\n      const paramKey = paramKeys[0];\r\n      if (!dropdowns.hasOwnProperty(paramKey)) {\r\n        dropdowns[paramKey] = [];\r\n      }\r\n      dropdowns[paramKey].push(variant.tech_param[paramKey]);\r\n    }\r\n\r\n    for (let property in dropdowns) {\r\n      const filter = [{ field: \"_id\", op: \"in\", value: dropdowns[property] }];\r\n      dropdowns[property] = await storeUtils.getEnums([], filter);\r\n    }\r\n\r\n    return dropdowns;\r\n  };\r\n\r\n  getProductsByCatalogId = async (id) => {\r\n    try {\r\n      this.setState((state) => ({\r\n        catalog: { ...state.catalog, isLoading: true },\r\n      }));\r\n      const productsArray = await dobyUtils.getProductsByCatalogId(id);    \r\n      const dropdowns = await this.buildDropdowns(productsArray);\r\n      this.setState({ catalog: {data: [...productsArray], isLoading: false}, productVariants: { data: dropdowns } });\r\n      return productsArray;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  getProduct = async (id) => {\r\n    try {\r\n      this.setState((state) => ({\r\n        product: { ...state.product, isLoading: true },\r\n      }));\r\n      const product = await dobyUtils.getProduct(id);\r\n      product.isLoading = false;\r\n      this.setState({ product });\r\n      return product;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  refreshProducts = async () => {\r\n    try {\r\n      this.setState((state) => ({\r\n        products: { ...state.products, isLoading: true },\r\n      }));\r\n      const { filters, sort, page } = this.state.products;\r\n      const products = await dobyUtils.getProducts(filters, sort, page);\r\n      products.isLoading = false;\r\n      this.setState({ products });\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  deleteProduct = async (id) => {\r\n    this.setState((state) => ({\r\n      products: { ...state.products, isLoading: true },\r\n    }));\r\n\r\n    const data = this.state.products.data.find((p) => p._id === id);\r\n    if (data) await dobyUtils.editProduct({ ...data, disabled: true });\r\n\r\n    this.setState((state) => ({\r\n      products: { ...state.products, isLoading: false },\r\n    }));\r\n  };\r\n\r\n  //-- [Cart] --\r\n  cartGetProducts = () => {\r\n    const savedProducts = localStorage.getItem(\"cart\");\r\n    if (savedProducts) {\r\n      const cart = JSON.parse(savedProducts);\r\n      this.setState({ cart });\r\n    }\r\n  };\r\n\r\n  cartAddProduct = (product, count = 1) => {\r\n    const existingProduct = this.state.cart.data.products.find(\r\n      (item) => item.product._id === product._id\r\n    );\r\n    if (existingProduct) {\r\n      if (existingProduct.product.catalog_id !== \"pack\")\r\n        this.cartIncreaseCount(product._id, count);\r\n      return;\r\n    }\r\n\r\n    this.setState(\r\n      (state) => ({\r\n        cart: {\r\n          data: {\r\n            products: [...state.cart.data.products, { count, product }],\r\n          },\r\n        },\r\n      }),\r\n      () => {\r\n        const serializedCart = JSON.stringify(this.state.cart);\r\n        localStorage.setItem(\"cart\", serializedCart);\r\n      }\r\n    );\r\n  };\r\n\r\n  cartIncreaseCount = (productId, increase) => {\r\n    const productIndex = this.state.cart.data.products.findIndex(\r\n      (item) => item.product._id === productId\r\n    );\r\n    if (productIndex === -1) return;\r\n\r\n    this.setState(\r\n      (state) => ({\r\n        cart: {\r\n          data: {\r\n            products: state.cart.data.products.map((item, i) => {\r\n              if (i === productIndex) {\r\n                return {\r\n                  count: item.count + increase < 1 ? 1 : item.count + increase,\r\n                  product: item.product,\r\n                };\r\n              }\r\n              return item;\r\n            }),\r\n          },\r\n        },\r\n      }),\r\n      () => {\r\n        const serializedCart = JSON.stringify(this.state.cart);\r\n        localStorage.setItem(\"cart\", serializedCart);\r\n      }\r\n    );\r\n  };\r\n\r\n  cartRemoveProduct = (productId) => {\r\n    this.setState(\r\n      (state) => ({\r\n        cart: {\r\n          data: {\r\n            products: state.cart.data.products.filter(\r\n              (item) => item.product._id !== productId\r\n            ),\r\n          },\r\n        },\r\n      }),\r\n      () => {\r\n        const serializedCart = JSON.stringify(this.state.cart);\r\n        localStorage.setItem(\"cart\", serializedCart);\r\n      }\r\n    );\r\n  };\r\n\r\n  cartRemoveProducts = () => {\r\n    this.setState(\r\n      {\r\n        cart: {\r\n          data: {\r\n            products: [],\r\n          },\r\n        },\r\n      },\r\n      () => {\r\n        const serializedCart = JSON.stringify(this.state.cart);\r\n        localStorage.setItem(\"cart\", serializedCart);\r\n      }\r\n    );\r\n  };\r\n\r\n  //-- [Order] --\r\n  deliveryOrderChanged = (name, value) => {\r\n    this.setState((state) => ({\r\n      checkout: {\r\n        data: {\r\n          ...state.checkout.data,\r\n          deliveryData: {\r\n            ...state.checkout.data.deliveryData,\r\n            [name]: value,\r\n          },\r\n        },\r\n      },\r\n    }));\r\n  };\r\n\r\n  deliveryOrderFill = (obj) => {\r\n    this.setState((state) => ({\r\n      checkout: {\r\n        data: {\r\n          ...state.checkout.data,\r\n          deliveryData: {\r\n            ...state.checkout.data.deliveryData,\r\n            ...obj,\r\n          },\r\n        },\r\n      },\r\n    }));\r\n  };\r\n\r\n  redeeemDiscountCode = async (code) => {\r\n    try {\r\n      this.setState((state) => ({\r\n        checkout: { ...state.checkout, isLoading: true },\r\n      }));\r\n\r\n      const coupon = await dobyUtils.redeeemDiscountCode(code);\r\n      this.setState((state) => ({\r\n        checkout: {\r\n          data: { ...state.checkout.data, coupon: { ...coupon } },\r\n          isLoading: false,\r\n        },\r\n      }));\r\n\r\n      return coupon;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  createOrder = async (orderData) => {\r\n    try {\r\n      this.setState((state) => ({\r\n        checkout: { ...state.checkout, isLoading: true, orderData },\r\n      }));\r\n\r\n      const order = await dobyUtils.addOrder(orderData);\r\n      this.setState((state) => ({\r\n        checkout: { ...state.checkout, isLoading: false, orderData: order },\r\n      }));\r\n\r\n      return order;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  verifyOrder = async (paymentId) => {\r\n    try {\r\n      this.setState((state) => ({\r\n        checkout: { ...state.checkout, isLoading: true },\r\n      }));\r\n\r\n      const order = await dobyUtils.verifyOrder(paymentId);\r\n      this.setState((state) => ({\r\n        checkout: { ...state.checkout, isLoading: false, orderData: order },\r\n      }));\r\n\r\n      return order;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  //-- [Posts] --\r\n  getPosts = async (filters, sort, page, render = true) => {\r\n    try {\r\n      if (!render) {\r\n        return await dobyUtils.getPosts(filters, sort, page);\r\n      }\r\n\r\n      this.setState((state) => ({\r\n        posts: { ...state.posts, isLoading: true },\r\n      }));\r\n      const posts = await dobyUtils.getPosts(filters, sort, page);\r\n      posts.isLoading = false;\r\n      this.setState({ posts });\r\n      return posts;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  refreshPosts = async () => {\r\n    try {\r\n      this.setState((state) => ({\r\n        posts: { ...state.posts, isLoading: true },\r\n      }));\r\n      const { filters, sort, page } = this.state.posts;\r\n      const posts = await dobyUtils.getPosts(filters, sort, page);\r\n      posts.isLoading = false;\r\n      this.setState({ posts });\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  //-- [Series] --\r\n  getSeries = async (filters, sort, page, render = true) => {\r\n    try {\r\n      if (!render) {\r\n        return await dobyUtils.getSeries(filters, sort, page);\r\n      }\r\n\r\n      this.setState((state) => ({\r\n        series: { ...state.series, isLoading: true },\r\n      }));\r\n      const series = await dobyUtils.getSeries(filters, sort, page);\r\n      series.isLoading = false;\r\n      this.setState({ series });\r\n      return series;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n  refreshSeries = async () => {\r\n    try {\r\n      this.setState((state) => ({\r\n        series: { ...state.series, isLoading: true },\r\n      }));\r\n      const { filters, sort, page } = this.state.series;\r\n      const series = await dobyUtils.getSeries(filters, sort, page);\r\n      series.isLoading = false;\r\n      this.setState({ series });\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  //-- [Partners] --\r\n  getPartners = async (filters, sort, page, render = true) => {\r\n    try {\r\n      if (!render) {\r\n        return await dobyUtils.getPartners(filters, sort, page);\r\n      }\r\n\r\n      this.setState((state) => ({\r\n        partners: { ...state.partners, isLoading: true },\r\n      }));\r\n      const partners = await dobyUtils.getPartners(filters, sort, page);\r\n      partners.isLoading = false;\r\n      this.setState({ partners });\r\n      return partners;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  refreshPartners = async () => {\r\n    try {\r\n      this.setState((state) => ({\r\n        partners: { ...state.partners, isLoading: true },\r\n      }));\r\n      const { filters, sort, page } = this.state.partners;\r\n      const partners = await dobyUtils.getPartners(filters, sort, page);\r\n      partners.isLoading = false;\r\n      this.setState({ partners });\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  //-- [User] --\r\n  getUsers = async (filters, sort, page, render = true) => {\r\n    try {\r\n      if (!render) {\r\n        return await dobyUtils.getUsers(filters, sort, page);\r\n      }\r\n\r\n      this.setState((state) => ({\r\n        users: { ...state.users, isLoading: true },\r\n      }));\r\n      const users = await dobyUtils.getUsers(filters, sort, page);\r\n      users.isLoading = false;\r\n      this.setState({ users });\r\n      return users;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  //-- [Climbs] --\r\n  getClimbs = async (filters, sort, page, render = true) => {\r\n    try {\r\n      if (!render) {\r\n        return await dobyUtils.getClimbs(filters, sort, page);\r\n      }\r\n\r\n      this.setState((state) => ({\r\n        climbs: { ...state.climbs, isLoading: true },\r\n      }));\r\n      const climbs = await dobyUtils.getClimbs(filters, sort, page);\r\n      climbs.isLoading = false;\r\n      this.setState({ climbs });\r\n      return climbs;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n\r\n    return (\r\n      <DobyContext.Provider\r\n        value={{\r\n          //-- [Summits] --\r\n          getSummits: this.getSummits,\r\n          refreshSummits: this.refreshSummits,\r\n          addSummit: dobyUtils.addSummit,\r\n          editSummit: dobyUtils.editSummit,\r\n          deleteSummit: dobyUtils.deleteSummit,\r\n\r\n          //-- [Challenges] --\r\n          getChallenges: this.getChallenges,\r\n          refreshChallenges: this.refreshChallenges,\r\n          addChallenge: dobyUtils.addChallenge,\r\n          editChallenge: dobyUtils.editChallenge,\r\n          deleteChallenge: dobyUtils.deleteChallenge,\r\n\r\n          //-- [Subordinate products] --\r\n          getSubordinateProducts: this.getSubordinateProducts,\r\n\r\n          //-- [Products] --\r\n          getProducts: this.getProducts,\r\n          getProductsByCatalogId: this.getProductsByCatalogId,\r\n          getProduct: this.getProduct,\r\n          refreshProducts: this.refreshProducts,\r\n          addProduct: dobyUtils.addProduct,\r\n          editProduct: dobyUtils.editProduct,\r\n          // deleteProduct: dobyUtils.deleteProduct,\r\n          deleteProduct: this.deleteProduct,\r\n\r\n          //-- [Order] --\r\n          deliveryOrderChanged: this.deliveryOrderChanged,\r\n          deliveryOrderFill: this.deliveryOrderFill,\r\n          redeeemDiscountCode: this.redeeemDiscountCode,\r\n          createOrder: this.createOrder,\r\n          verifyOrder: this.verifyOrder,\r\n\r\n          //-- [Cart] --\r\n          cartGetProducts: this.cartGetProducts,\r\n          cartAddProduct: this.cartAddProduct,\r\n          cartIncreaseCount: this.cartIncreaseCount,\r\n          cartRemoveProduct: this.cartRemoveProduct,\r\n          cartRemoveProducts: this.cartRemoveProducts,\r\n\r\n          //-- [Posts] --\r\n          getPosts: this.getPosts,\r\n          refreshPosts: this.refreshPosts,\r\n          addPost: dobyUtils.addPost,\r\n          editPost: dobyUtils.editPost,\r\n          deletePost: dobyUtils.deletePost,\r\n\r\n          //-- [Series] --\r\n          getSeries: this.getSeries,\r\n          refreshSeries: this.refreshSeries,\r\n          addSerie: dobyUtils.addSerie,\r\n          editSerie: dobyUtils.editSerie,\r\n          deleteSerie: dobyUtils.deleteSerie,\r\n\r\n          //-- [Partners] --\r\n          getPartners: this.getPartners,\r\n          refreshPartners: this.refreshPartners,\r\n          addPartner: dobyUtils.addPartner,\r\n          editPartner: dobyUtils.editPartner,\r\n          deletePartner: dobyUtils.deletePartner,\r\n\r\n          //-- [Climbs] --\r\n          getClimbs: this.getClimbs,\r\n          addClimb: dobyUtils.addClimb,\r\n          editClimb: dobyUtils.editClimb,\r\n          deleteClimb: dobyUtils.deleteClimb,\r\n\r\n          //-- [User] --\r\n          getUsers: this.getUsers,\r\n          getUser: dobyUtils.getUser,\r\n          followUser: dobyUtils.followUser,\r\n          unfollowUser: dobyUtils.unfollowUser,\r\n          subscribe: dobyUtils.subscribe,\r\n\r\n          //-- [Files] --\r\n          getFile: dobyUtils.getFile,\r\n\r\n          ...this.state,\r\n        }}\r\n      >\r\n        {children}\r\n      </DobyContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DobyProvider;\r\n","import React from \"react\";\r\nimport { hydrate, render } from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport { init } from \"kd-web\";\r\nimport config from \"./config\";\r\n\r\nimport moment from \"moment\";\r\nimport \"moment/locale/sk\";\r\n\r\nimport UserProvider from \"./providers/UserProvider\";\r\nimport StoreProvider from \"./providers/StoreProvider\";\r\nimport DobyProvider from './providers/DobyProvider';\r\n\r\nimport { MuiPickersUtilsProvider } from \"material-ui-pickers\";\r\nimport { createMuiTheme, MuiThemeProvider } from \"@material-ui/core/styles\";\r\nimport MomentUtils from \"@date-io/moment\";\r\nimport { LocalizationProvider } from \"./components/shared/localization\";\r\nimport en from './localization/en-US.json';\r\nimport sk from './localization/sk-SK.json';\r\n\r\ninit(config);\r\n\r\nconst locale = config.locale.split('-')[0];\r\nmoment.locale(locale);\r\n\r\nconst theme = createMuiTheme({\r\n  palette: config.palette,\r\n  typography: {\r\n      fontFamily:[\r\n        'IBM Plex Sans',\r\n        'sans-serif',\r\n      ].join(','),\r\n  },\r\n  breakpoints: {\r\n    values: {\r\n        // xs: 0,       \r\n        // sm: 380,\r\n        // md: 768,\r\n        // lg: 992,\r\n        // xl: 1200,\r\n        xs: 380,       \r\n        sm: 768,\r\n        md: 992,\r\n        lg: 1200,\r\n        xl: 1920,\r\n    },\r\n  },\r\n});\r\n\r\nclass AppWrapper extends React.Component {\r\n  componentDidMount() {\r\n    document.documentElement.style.setProperty(\"--primary-color\", config.palette.primary.main);\r\n    document.documentElement.style.setProperty(\"--secondary-color\", config.palette.secondary.main);\r\n    document.title = `${process.env.REACT_APP_NAME} v${process.env.REACT_APP_VERSION}`;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <UserProvider>\r\n        <StoreProvider>\r\n          <DobyProvider>\r\n            <LocalizationProvider\r\n              locale={config.locale}\r\n              en-US={en}\r\n              sk-SK={sk}\r\n            >\r\n              <MuiThemeProvider theme={theme}>\r\n                <MuiPickersUtilsProvider utils={MomentUtils} locale={locale}>\r\n                  <App />\r\n                </MuiPickersUtilsProvider>\r\n              </MuiThemeProvider>\r\n            </LocalizationProvider>\r\n          </DobyProvider>\r\n        </StoreProvider>\r\n      </UserProvider>\r\n    );\r\n  }\r\n}\r\n\r\n// ReactDOM.render(<AppWrapper />, document.getElementById(\"root\"));\r\nconst rootElement = document.getElementById(\"root\");\r\nif (rootElement.hasChildNodes()) {\r\n  hydrate(<AppWrapper />, rootElement);\r\n} else {\r\n  render(<AppWrapper />, rootElement);\r\n}\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}